https://github.com/writer366/project-2  
[writer366]

–ï—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å. 

## –ù–ï–î–û–°–¢–ê–¢–ö–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

–ö–æ–≥–¥–∞ —è –≤–≤–æ–∂—É –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ–∫–æ—Ç—Ä–æ–µ –≤—Ä–µ–º—è —Ç—É–ø–∏—Ç, –∞ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É.  
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–æ–±–æ—Ä–æ—Ç: –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å—Ä–∞–∑—É –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –∫–∞—Ä—Ç—É, –ø–∞—É–∑–∞ –∏ –≤—Å–µ –ø–æ –∫—Ä—É–≥—É.

## –•–û–†–û–®–û

+ üëç –°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö
+ üëç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö(–º–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è)
+ üëç –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–∞—É–∑–∞/–ø—É—Å–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

- –î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—É—Ç–∞–Ω–∏—Ü—ã –Ω–µ –Ω–∞–∑—ã–≤–∞–π –ø–∞–∫–µ—Ç—ã, –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ç–∞–∫ –∂–µ, –∫–∞–∫ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
–ï—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map`, –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º
```
package map;

//–ü–†–ê–í–ò–õ–¨–ù–û:
package entity_map;
```

- –ï—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `List`. –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º
```
package lists;
```

- –ù–µ –Ω–∞–∑—ã–≤–∞–π –∫–ª–∞—Å—Å "List", –µ—Å–ª–∏ –æ–Ω –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `List`. –ó–¥–µ—Å—å –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç
```
abstract class EntityList<E extends Entity> {...}
```

- –í –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–µ –ø–∏—à–∏ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, –∫ –∫–æ—Ç–æ—Ä—ã–º –æ–Ω–∏ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è. –ò –≤–æ–æ–±—â–µ –Ω–µ —É–ø–æ—Ç—Ä–µ–±–ª—è–π –≤–µ–Ω–≥–µ—Ä—Å–∫—É—é –Ω–æ—Ç—Ç–∞—Ü–∏—é.  
–ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ–ª–∂–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∞ –Ω–µ –∫–∞–∫ —Ö—Ä–∞–Ω–∏—Ç
```
Map<Coordinate, Entity> map;

//–ü–†–ê–í–ò–õ–¨–ù–û:
Map<Coordinate, Entity> entities;
```

- –ù–µ –¥—É–±–ª–∏—Ä—É–π –∏–º—è –∫–ª–∞—Å—Å–∞ –≤ –Ω–∞–≤–∞–Ω–∏–∏ –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞
```
public class Node {
  private Node parentNode;
  private Coordinate coordinateNode;
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public class Node {
  private Node parent;
  private Coordinate coordinate;
  //...
}
```
*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*

**2. –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞**. –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –Ω–∏–∂–µ –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞
```
private Map<Coordinate, Boolean> visited;
private final static int SAME_AXIS = 0;
private final static int ADJACENT_AXIS = 1;
```

**3. –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞**. –í –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≤—ã–¥–µ–ª—è–π —Ç–µ–ª–æ –±–ª–æ–∫–∞ —Å–∫–æ–±–æ—á–∫–∞–º–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–ª–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. 
–ò—Å–∫–ª—é—á–µ–Ω–∏–µ- –º–µ—Ç–æ–¥ equals(), —Ç–∞–º –º–æ–∂–Ω–æ –ø–æ—Å–ª–µ if –Ω–µ –≤—ã–¥–µ–ª—è—Ç—å –±–ª–æ–∫–∏ —Å–∫–æ–±–æ—á–∫–∞–º–∏
```
if (!way.isEmpty())
  return way.pop();
else
  return comeFrom();

//–ü–†–ê–í–ò–õ–¨–ù–û:
if (!way.isEmpty()) {
  return way.pop();
} else {
  return comeFrom();
}
```

**4. –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY**, –º–∞–≥–∏—á–µ—Å–∫–∏–µ –±—É–∫–≤—ã, —á–∏—Å–ª–∞, —Å–ª–æ–≤–∞. –í–≤–æ–¥–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.

–ï—Å–ª–∏ –∫ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –º–∞–≥–∏—á–µ—Å–∫–æ–π —à—Ç—É–∫–µ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–∞, —Ç–æ –¥–µ–ª–∞–π –µ–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π –≤ –æ–¥–Ω–æ–º –∏–∑ —ç—Ç–∏—Ö –¥–≤—É—Ö –∫–ª–∞—Å—Å–æ–≤.  
–ò –û–ë–†–ê–©–ê–ô–°–Ø –∫ —ç—Ç–∏–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º
```
public class Renderer {
  //...
  public void printMenu() {
    System.out.print(""" 
        –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç —Å–∏–º—É–ª—è—Ü–∏–∏:
        1 - –ü—Ä–æ—Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Ö–æ–¥ 
        2 - –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª —Å–∏–º—É–ª—è—Ü–∏–∏ (4 - –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª —Å–∏–º—É–ª—è—Ü–∏–∏)
        3 - –í—ã–π—Ç–∏ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã
        """);
  }
}

public class Simulation {
  private final static String STEP = "1";
  private final static String ENDLESS_CYCLE = "2";
  private final static String EXIT = "3";
  //...
}
```
*–§–∞—É–ª–µ—Ä, "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥", –≥–ª.8, "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*  
*refactoring.guru "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª—å–Ω–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*  

**5. class Coordinate**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞- –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –Ω–∏–∂–µ –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. –≠—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –∑–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è
```
public static final int COORDINATE_NOT_FOUND = -1;
```
–ö–ª–∞—Å—Å –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Ç–æ—á–∫–∏ –≤ –¥–≤—É–º–µ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ. 
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ –Ω–µ –Ω—É–∂–Ω —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–µ–±–µ –∫–æ–¥—ã —á—å–∏—Ö-—Ç–æ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

+ üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –ø–æ–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è row –∏ column –∞ –Ω–µ x –∏ y. –ú–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è.  
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç, –ø—É—Ç–∞–Ω–∏—Ü—ã —Å –ø–æ—Ä—è–¥–∫–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤–∞—Ö: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞(x,y), –∞ –≤ –º–∞—Å—Å–∏–≤–∞—Ö –Ω–∞–æ–±–æ—Ä–æ—Ç- –º–∞—Å—Å–∏–≤[y, x].

- –ï—Å–ª–∏ —É–±—Ä–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—É—é –¥–ª—è –∫–ª–∞—Å—Å–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, —Ç–æ –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ record –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ö–µ—à–∫–æ–¥, –∏–∫–≤–∞–ª—Å –∏ –≥–µ—Ç—Ç–µ—Ä—ã –≤ —Ä–µ–∫–æ—Ä–¥–µ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –Ω–µ—è–≤–Ω–æ. 

**6. class EntityMap**

- –ö–∞—Ä—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã, –ø–æ—ç—Ç–æ–º—É —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π
```
public static final int WIDTH = 14;
public static final int HEIGHT = 14;
```
–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–∏(8x8) –∏–ª–∏ –∏–≥—Ä—ã –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏(3x3).  
–ó–¥–µ—Å—å —Ä–∞–∑–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Ä—Ç—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤.

- –ö–∞—Ä—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞-null, —Ç–æ –µ—Å—Ç—å –ø—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏. 
–ò–Ω–∞—á–µ —Ç–µ—Ä—è–µ—Ç—Å—è  –≤—Å–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –¥–∞–µ—Ç HashMap –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π
```
for (int i = 0; i < WIDTH; i++) {
  for (int j = 0; j < HEIGHT; j++) {
    map.put(new Coordinate(i, j), null);  <-- –ó–ê–ü–û–õ–ù–Ø–ï–¢ –ö–ê–†–¢–£ –ü–£–°–¢–´–ú–ò –Ø–ß–ï–ô–ö–ê–ú–ò
  }
}
```
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏, —Ç—É—Ç HashMap —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–Ω–∞–ª–æ–≥–æ–º –æ–±—ã—á–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, —Ç–æ–ª—å–∫–æ —Ö—É–∂–µ, –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ –∑–∞–±–∏–≤–∞—è –ø–∞–º—è—Ç—å.
–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å—Ç—å –∏–≥—Ä–æ–≤–∞—è –¥–æ—Å–∫–∞ 100*100 –∏ –≤ –Ω–µ–π –µ–¥–∏–Ω–æ–º–æ–º–µ–Ω—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ–±—â–∏–º —á–∏—Å–ª–æ–º 150 —Ä–∞–∑–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤: –∫–∞–º–Ω–µ–π, —Ç—Ä–∞–≤—ã, –∑–∞–π—Ü–µ–≤ –∏ —Ç.–¥.
–¢–æ–≥–¥–∞ –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–µ–Ω–∏–∏ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –º–∞–ø–µ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è 150 –∑–∞–ø–∏—Å–µ–π.
–ï—Å–ª–∏ –≤ —ç—Ç–æ–π –∂–µ –º–∞–ø–µ –∫—Ä–æ–º–µ —ç—Ç–∏—Ö –∑–Ω–∞—á–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—å –µ—â–µ –ø—É—Å—Ç—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏, —Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∂–µ 10.000 –∑–∞–ø–∏—Å–µ–π.

–î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –≤ —Ç–æ—á–∫–µ –∫–∞—Ä—Ç—ã –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–≤–µ—Å—Ç–∏ –º–µ—Ç–æ–¥ 
```
private boolean is–ü—É—Å—Ç–∞—è–Ø—á–µ–π–∫–∞(–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞) {...}
```

+ üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –≥–µ—Ç—Ç–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Optional, –∞ –Ω–µ null
```
public Optional<Entity> getEntity(Coordinate coordinate) {
  return Optional.ofNullable(map.get(coordinate));
}
```

- –ü—Ä–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —É—á–∞—Å—Ç–∏–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã(–¥–æ–±–∞–≤–∏—Ç—å, –≤—ã–¥–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å –∏ —Ç.–¥.), –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å.

–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞(–Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –ø—Ä–µ–¥–µ–ª–æ–≤ –∫–∞—Ä—Ç—ã), –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
–°–µ–π—á–∞—Å –º–æ–∂–Ω–æ –ø–æ—Å–µ–ª–∏—Ç—å —Å—É—â–µ—Ç—Å–≤–æ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É, –≤—ã—Ö–æ–¥—è—â—É—é –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–∞—Ä—Ç—ã
```
public void putEntity(Coordinate coordinate, Entity entity) {
  map.put(coordinate, entity);
}
```

**7. class BreadthFirstSearch**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. 

–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ –∏—Å–∫–∞—Ç—å –ø—É—Ç—å –æ—Ç —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –¥–æ —Ç–æ—á–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º —Å–æ–≥–ª–∞—Å–Ω–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É BFS –∏–ª–∏ AStar. 
–≠—Ç–∏ —É—Å–ª–æ–≤–∏—è –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ —Å–µ–±—è –∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —ç—Ç–∏ —É—Å–ª–æ–≤–∏—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä –ø—É—Ç–µ–º –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ Creature —Ç–æ–º—É –∏–ª–∏ –∏–Ω–æ–º—É –≤–∏–¥—É —Å—É—â–µ—Å—Ç–≤
```
if (entityMap.getEntity(coordinateStartNode).isPresent() && entityMap.getEntity(coordinateStartNode).get() instanceof Herbivore) {...}
if (entityMap.getEntity(coordinateStartNode).isPresent() && entityMap.getEntity(coordinateStartNode).get() instanceof Predator) {...}
```

–ö–ª–∞—Å—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –∫–æ–≤—ã—Ä—è—Ç—å—Å—è –≤ –ó–∞–π—Ü–∞—Ö —Å –í–æ–ª–∫–∞–º–∏ –∏ –≤—ã–ø—ã—Ç—ã–≤–∞—Ç—å —É –Ω–∏—Ö —á–µ–≥–æ –æ–Ω–∏ —Ö–æ—Ç—è—Ç. 
–í—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–æ –≤—Ö–æ–¥—è—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã.  
–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```
public List<Coordinates> getPatch(World world, Coordinates start, Class<? extends Entity> target) {
  //–∏—â–µ—Ç –ø—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ world –æ—Ç —Ç–æ—á–∫–∏ start
  //–¥–æ —Ç–æ—á–∫–∏, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞(–Ω–∞–ø—Ä. target == Grass.class)
}
```

- –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–∏—Å–∫–æ–º, —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ—è—Å–Ω–æ- –≤ –∫–ª–∞—Å—Å–µ –∫—É—á–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤. 
–í —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—É–±–ª–∏—á–Ω—ã–π, —Ç–æ –µ—Å—Ç—å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤, –º–µ—Ç–æ–¥- —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–π–¥–µ—Ç –∏ –≤–µ—Ä–Ω–µ—Ç –ø—É—Ç—å.

- –ê—Ü–∫–∏ –¥–ª–∏–Ω–Ω–æ–µ, –∞ –ø–æ—Ç–æ–º—É –Ω–µ—á–∏—Ç–∞–µ–º–æ–µ —É—Å–ª–æ–≤–∏–µ. –í–≤–æ–¥–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –±—É–¥—É—Ç –æ–±—ä—è—Å–Ω—è—Ç—å, —á—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
```
if (((difRow == ADJACENT_AXIS && difColumn == SAME_AXIS) || (difColumn == ADJACENT_AXIS && difRow == SAME_AXIS)) && (isHerbivore || isPredator)) {...}

//–ü–†–ê–í–ò–õ–¨–ù–û:
if (is–ù–∞–∑–≤–∞–Ω–∏–µ–ö–æ—Ç–æ—Ä–æ–µ–í—Å–µ–û–±—ä—è—Å–Ω—è–µ—Ç(...)) {...}
```

- –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∞–ø—É —Å–æ –≤—Å–µ–º–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
```
private Map<Coordinate, Boolean> visited

for (int i = 0; i < EntityMap.WIDTH; i++) {
  for (int j = 0; j < EntityMap.HEIGHT; j++) {
    this.visited.put(new Coordinate(i, j), false);
  }
}
```
–¢—ã —Ç—É—Ç —è–≤–Ω–æ –¥–µ–ª–∞–µ—à—å —á—Ç–æ-—Ç–æ –Ω–µ —Ç–æ, –ø–µ—Ä–µ—á–µ–Ω—å –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫ –Ω—É–∂–Ω–æ –ø–æ–ø–æ–ª–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ –º–µ—Ä–µ –¥–≤–∏–∂–µ–Ω–∏—è.


**8. class Node**

üëç –ù–æ–¥–∞, —Ç–æ –µ—Å—Ç—å —É–∑–µ–ª –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞, —ç—Ç–æ –ø–æ–ª–µ–∑–Ω—ã–π –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ BFS.

**9. abstract class Entity –∏ –µ–≥–æ –ø—Ä–æ—Å—Ç—ã–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏**

üëç –ò–¥–µ–∞–ª—å–Ω–æ
```
public abstract class Entity {
}

public class Grass extends Entity {
}
```

**10. abstract class Creature extends Entity**

- –ö–ª–∞—Å—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ö–∞—Ä—Ç—É –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. 

–ö–∞—Ä—Ç–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ö—Ä–µ–∞—Ç—É—Ä—ã. 
–ö–∞—Ä—Ç–∞ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ö–æ–¥–∞ 
```
public abstract class Creature extends Entity {
  //...
  public Creature(EntityMap entityMap) {...}
  public void makeMove() {...}
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public abstract class Creature extends Entity {
  //...
  public Creature() {...}
  public void makeMove(EntityMap entityMap) {...}
}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –û–û–ü –¥–∏–∑–∞–π–Ω–∞ –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏. –≠—Ç–∏ –ø–æ–ª—è –Ω—É–∂–Ω–æ –Ω–µ —Å–µ—Ç–∏—Ç—å, –∞ –∏–Ω–∂–µ–∫—Ç–∏—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```
public abstract class Creature extends Entity {
  protected int speed;
  protected int hp;
  //...

  public Creature(EntityMap entityMap) {
    this.entityMap = entityMap;
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public abstract class Creature extends Entity {
  protected int speed;
  protected int hp;
  //...

  public Creature(int speed, int hp) {
    this.speed = speed;
    this.hp = hp;
  }
}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏. 

–ö–ª–∞—Å—Å—ã –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–≤–µ—Ç–∏—Ç—å –Ω–∞—Ä—É–∂—É –≤—Å–µ–º–∏ —Å–≤–æ–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏. 
–ü—É–±–ª–∏—á–Ω—ã–º–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏.
–û—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å ptivate –∏–ª–∏ protected.  
–ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–≤–æ–µ–º –∫–ª–∞—Å—Å–µ –∏ –ø–æ—ç—Ç–æ–º—É –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å private
```
public Coordinate getCoordinate()
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. 

–ö–ª–∞—Å—Å –∑–∞–±–∏—Ä–∞–µ—Ç —Å–µ–±–µ —á–∞—Å—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –ö–∞—Ä—Ç—ã- —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–∏—Å–∫ —Å–µ–±—è –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è—Ö –ö–∞—Ä—Ç—ã
```
public Coordinate getCoordinate() {
  //–º–∏–ª–ª–∏–æ–Ω —Å—Ç—Ä–æ–∫
  //–≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Ç–æ–¥ 
  //–∫–æ–ø–∞–µ—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ EntityMap
}  
```
–°–¥–µ–ª–∞–π –≤ –ö–∞—Ä—Ç–µ –º–µ—Ç–æ–¥ `public Coordinate getCoordinate(Entity entity)` –∏ –≤—ã–∑—ã–≤–∞–π –µ–≥–æ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ.

- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É—Å–ª–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞. 
–ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏–¥—É–º–∞–Ω—ã –Ω–µ –¥–ª—è —ç—Ç–æ–≥–æ
```
try {
  for (Coordinate coordinate : entityMap.getCoordinates()) {
    if (entityMap.getEntity(coordinate).isPresent() && entityMap.getEntity(coordinate).get().equals(this)) {
      return coordinate;
    }
  }
  throw new IllegalStateException();
} catch (IllegalStateException e) {
  //–¥–µ–π—Å—Ç–≤–∏—è  
}
```

–í–æ—Ç —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã–π –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –∫–æ–¥:
```
for (Coordinate coordinate : entityMap.getCoordinates()) {
  if (entityMap.getEntity(coordinate).isPresent() && entityMap.getEntity(coordinate).get().equals(this)) {
    return coordinate;
  }
}
//–¥–µ–π—Å—Ç–≤–∏—è  
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP, —á—É–∂–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
–ú–æ–¥–µ–ª—å(–∞ —ç—Ç–æ –º–æ–¥–µ–ª—å) –Ω–µ –¥–æ–ª–∂–Ω–∞ –Ω–∏—á–µ–≥–æ –ø–µ—á–∞—Ç–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å
```
System.out.println("Creature not found on the map");
```
–ò–Ω–∞—á–µ –º–æ–¥–µ–ª—å –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –±—ã—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞—Ç–æ—á–µ–Ω–Ω–æ–π –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ä–µ–¥—É –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–µ–±—è –≤ —ç—Ç–æ–π —Å—Ä–µ–¥–µ- –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –∫–æ–Ω—Å–æ–ª—å.
–í –¥—Ä—É–≥–∏—Ö —Å—Ä–µ–¥–∞—Ö(–Ω–∞–ø—Ä. –ê–Ω–¥—Ä–æ–∏–¥) –º–æ–¥–µ–ª—å –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. 
–î—Ä—É–≥–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–¥–µ–ª–∏(–Ω–∞–ø—Ä. –µ—Å–ª–∏ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –º–æ–¥–µ–ª—å –Ω—É–∂–Ω–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ø–æ–∫–∞–∑–≤–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É) –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å, –∏–ª–∏ –ø—Ä–∏–¥–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –∫–æ—Å—Ç—ã–ª—å.

- –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–π –∫–æ–¥—ã –∏–ª–∏ –æ–±—ä–µ–∫—Ç—ã –æ—à–∏–±–æ–∫.

–ï—Å–ª–∏ –º–µ—Ç–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Å–≤–æ–µ —Å—É—â–µ—Ç—Å–≤–æ –≤ –∫–∞—Ä—Ç–µ, –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É —Å –∫–æ–¥–∞–º–∏ –æ—à–∏–±–æ–∫
```
public Coordinate getCoordinate() {
  //...
  return new Coordinate(Coordinate.COORDINATE_NOT_FOUND, Coordinate.COORDINATE_NOT_FOUND);
}
```
–¢–∏–ø–∞, –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Ç–æ —Å—É—â–µ—Å—Ç–≤–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.

–ü–æ–¥—Ö–æ–¥ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π. –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤–æ –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –≤ –∫–∞—Ä—Ç–µ —Å–µ–±—è –∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç, —ç—Ç–æ –±–∞–≥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. 
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –±–∞–≥ –Ω—É–∂–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ –≤—ã—è–≤–∏—Ç—å –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ç–µ –ø—Ä–∏—á–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —ç—Ç–æ–º—É –±–∞–≥—É. 

–¢–æ –µ—Å—Ç—å, –Ω—É–∂–Ω–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ–µ–π–∫–æ–≤—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É, –∞ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.  
*"–ß–ö", –≥–ª. 7, "...–≤–º–µ—Å—Ç–æ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫"* 

**11. –ü–∞–∫–µ—Ç lists, class `EntityList<E extends Entity>` –∏ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏**

–°–æ–¥–µ—Ä–∂–∏—Ç –æ—á–µ–Ω—å —Å—Ç—Ä–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
```
abstract class EntityList<E extends Entity>
class GrassList extends EntityList<Grass>
lass HerbivoreList extends EntityList<Herbivore>
class PredatorList extends EntityList<Predator>
```
–®–æ –æ–Ω–æ —Ç–∞–∫–æ–µ, –∞ –≥–ª–∞–≤–Ω–æ–µ –∑–∞—á–µ–º, —è –ø—ã—Ç–∞–ª—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –º–∏–Ω—É—Ç –ø—è—Ç—å. –¢–∞–∫ –∏ –Ω–µ –ø–æ–Ω—è–ª
```
public abstract class EntityList<E extends Entity> {
  protected EntityMap entityMap;
  protected List<E> list;

  public EntityList(EntityMap entityMap) {...}

  protected abstract Class<E> getEntityType();

  private void add() {
    for (Coordinate coordinate : entityMap.getCoordinates()) {
      Optional<Entity> optionalEntity = entityMap.getEntity(coordinate);
      Entity entity = optionalEntity.orElse(null);
      if (getEntityType().isInstance(entity)) {
        list.add(getEntityType().cast(entity));
      }
    }
  }

  public List<E> getList() {
    this.add();
    return Collections.unmodifiableList(list);
  }
}
```
–û–¥–Ω–æ —è—Å–Ω–æ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞- –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É `List`.

–ù—É–∂–Ω–æ —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –≤–µ—Å—å —ç—Ç–æ—Ç —É–∂–∞—Å –±–µ–∑ –≤—Å—è–∫–æ–≥–æ —Å–æ–∂–∞–ª–µ–Ω–∏—è. 

**12. abstract class Move implements Action –∏ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏**

–ù–∞—Ä—É—à–µ–Ω–∏–µ DRY. –¢—Ä–∏ –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ- –ø–µ—Ä–µ–¥–≤–∏–≥–∞—é—Ç —Å—É—â–µ—Å—Ç–≤ –ø–æ –∫–∞—Ä—Ç–µ
```
public abstract class Move implements Action 
public class MoveHerbivore extends Move
public class MovePredator extends Move
```

–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞ —Å—É—â–µ—Å—Ç–≤. 
–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å –≤—Å–µ –ö—Ä–µ–∞—Ç—É—Ä—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ —á–µ—Ä–µ–∑ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º.

**13. abstract class Placement implements Action –∏ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏**

–¢–∞ –∂–µ —Å–∞–º–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. –ö—É—á–∞ –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ- –∑–∞—Å–µ–ª—è—é—Ç –∫–∞—Ä—Ç—É —Å—É—â–µ—Å—Ç–≤–∞–º–∏
```
public abstract class Placement implements Action
public class GrassPlacement extends Placement
public class HerbivorePlacement extends Placement
public class PredatorPlacement extends Placement
public class RockPlacement extends Placement
public class TreePlacement extends Placement
```

–í–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –≤–∏–¥ —Å—É—â–µ—Å—Ç–≤, –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö —Å—É—â–µ—Å—Ç–≤ –∏ —Å–ø–æ—Å–æ–± –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è.
–°–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Supplier
```
SpawnAction –∑–∞—è—ÜSpawnAction = new SpawnAction(() -> new –ó–∞—è—Ü(), –ö–û–õ–ò–ß–ï–°–¢–í–û_–ó–ê–ô–¶–ï–í);
SpawnAction –≤–æ–ª–∫SpawnAction = new SpawnAction(() -> new –í–æ–ª–∫(), –ö–û–õ–ò–ß–ï–°–¢–í–û_–í–û–õ–ö–û–í);
–∑–∞—è—ÜSpawnAction.execute(–∫–∞—Ä—Ç–∞); 
–≤–æ–ª–∫SpawnAction.execute(–∫–∞—Ä—Ç–∞); 
//...

public class SpawnAction extends Action {
  private final Supplier<Entity> entitySupplier;
  private final int amount;

  public SpawnAction(Supplier<Entity> entitySupplier, int amount) {
    this.entitySupplier = entitySupplier;
    this.amount = amount;
  }

  @Override
  public void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    for (int i = 0; i < amount; i++) {
      Entity entity = entitySupplier.get();
      Coordinates coordinates = getRandomEmptyCoordinates(–∫–∞—Ä—Ç–∞);
      –∫–∞—Ä—Ç–∞.put(entity, coordinates);
    }
  }

  private Coordinates getRandomEmptyCoordinates(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–Ω–∞—Ö–æ–¥–∏—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –ø—É—Å—Ç—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
  }
}
```

**14. public class Renderer**

- –°–Ω–æ–≤–∞ —Å—Ç—Ä–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
```
default:
  try {
    throw new IllegalStateException();
  } catch (IllegalStateException e) {
    System.out.println("Unexpected value: " + entity);
  }

//–≠–¢–û –†–ê–í–ù–û–¶–ï–ù–ù–û –¢–ê–ö–û–ú–£ –ö–û–î–£:
default: System.out.println("Unexpected value: " + entity);
```

- –í switch-case –≤ default –Ω—É–∂–Ω–æ –∫–∏–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∞ –Ω–µ –ø–∏—Å–∞—Ç—å "Unexpected value: ".

–ü–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞ –≤ –ø—Ä–æ–µ–∫—Ç, –º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ —Å–ø—Ä–∞–π—Ç –≤ —Ä–∞—Å–ø–µ—á–∞—Ç–∫—É.
–¢–∞–∫—É—é —Å–∏—Ç—É–∞—Ü–∏—é –Ω—É–∂–Ω–æ —Å—Ä–∞–∑—É –≤—ã—è–≤–∏—Ç—å –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å.

- –í–º–µ—Å—Ç–æ –æ–≥—Ä–æ–º–Ω–æ–≥–æ —Å–≤–∏—á-–∫–µ–π—Å–∞ –≤ –º–µ—Ç–æ–¥–µ —Ä–∞—Å–ø–µ—á–∞—Ç–∫–∏, —Å–¥–µ–ª–∞–π –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥: `private String toSprite(Entity entity)`.

**15. class Simulation**

–ù–∞—Ä—É—à–µ–Ω–∏–µ DI. –ö–ª–∞—Å—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º —Å–µ–±—è. 
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∫–ª–∞—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∞–º —Å–µ–±—è —Ç–µ–º, —á—Ç–æ —Å–∞–º —Å–æ–∑–¥–∞–µ—Ç –∫–∞—Ä—Ç—É, –∞ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –µ–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```
public class Simulation {
  public Simulation() {
    //...
    this.entityMap = new EntityMap();
    //...
  }
}
```
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–≥—Ä–æ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏.  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–ö", –≥–ª.11.2*

**16. class Main**, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ main

üëç –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç Simulation, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

## –í–´–í–û–î

–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –û–û–ü –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –°–µ—Ä–≥–µ—è –ø—Ä–æ —à–∞—Ö–º–∞—Ç—ã. 
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –ù–µ–º—á–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–æ SOLID.

–í–∏–¥–Ω–æ, —á—Ç–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –±–∞–∑—ã –û–û–ü: –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º.  
–ù–∞–ø—Ä–∏–º–µ—Ä, —Ö–æ—Ç—è –≤—Å–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ Creature –∏–º–µ—é—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –º–µ—Ç–æ–¥ –¥–≤–∏–∂–µ–Ω–∏—è, –∏—Ö —Ç—É—Ç –¥–≤–∏–≥–∞—é—Ç –Ω–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ, –∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ.

–ü–æ—á–∏—Ç–∞–π —Å—Ç–∞—Ç—å–∏, –ø–æ—Å–º–æ—Ç—Ä–∏ –≤–∏–¥–æ—Å–∏–∫–∏ –Ω–∞ —é—Ç—É–±–µ –ø—Ä–æ —Ç—Ä–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –û–û–ü. 
–í–æ–∑–º–æ–∂–Ω–æ, —Å–¥–µ–ª–∞–π –ø–∞—Ä—É –ø—Ä–æ—Å—Ç—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º.

n.102(231)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è 