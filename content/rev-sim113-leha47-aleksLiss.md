https://github.com/aleksLiss/simulation_app  
[–õ–µ—Ö–∞ 47]

–ï—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å.

## –ù–ï–î–û–°–¢–ê–¢–ö–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

1. –ö–∞—Ä—Ç–∞ —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ—Ä–æ–≤–Ω–æ, –Ω—É–∂–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å —Å–ø—Ä–∞–π—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —à–∏—Ä–∏–Ω—ã  
![pic](https://github.com/raketareview/simulation_review/blob/master/content/resources/rev-sim113/img0.png) 

2. –ù–µ—Ç –ø–∞—É–∑—ã/–ø—É—Å–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–∏–º—É–ª—è—Ü–∏–∏, —Ö–æ—Ç—è —ç—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –µ—Å—Ç—å –≤ –¢–ó.

## –•–û–†–û–®–û

+ üëç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö(–º–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è)

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

- –ù–µ —Å–æ–∫—Ä–∞—â–∞–π –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —Ç–µ–º –±–æ–ª–µ–µ –∏–º—è –∫–ª–∞—Å—Å–∞
```
class Coords

//–ü–†–ê–í–ò–õ–¨–ù–û:
class Coordinates
```

- –î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—É—Ç–∞–Ω–∏—Ü—ã –Ω–µ –Ω–∞–∑—ã–≤–∞–π –ø–∞–∫–µ—Ç—ã, –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ç–∞–∫ –∂–µ, –∫–∞–∫ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
–ï—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `Set` –∏ `Map`, –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º
```
package ru.simulation.app.action.set;
package ru.simulation.app.map;
```

- –ï—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –∫–ª–∞—Å—Å `SimulationMap`, —Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –∏–º–µ–Ω–µ–º, –≤–∫–ª—é—á–∞—é—â–∏–º —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞.
–ï—Å–ª–∏ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º, —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ
```
public class SimulationMap {
  private Map<Coords, Entity> simulationMap = new HashMap<>();
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public class SimulationMap {
  private Map<Coords, Entity> entities = new HashMap<>();
  //...
}
```
–ü–æ—Ç–æ–º—É —á—Ç–æ –∏–Ω–∞—á–µ –±—É–¥–µ—Ç –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, —è–≤–ª—è—é—Ç—Å—è –ª–∏ —ç—Ç–∏ –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞:
```
var simulationMap = new SimulationMap(10);
var simulationMap0 = simulationMap.getSimulationMap();
```

–¢–æ –∂–µ —Å–∞–º–æ–µ:
```
public class Icon {
  private String icon;
  //...
}
```

- –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ. –ò —Ç–∞–∫ –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —Ä–∞–∑ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –ö–∞—Ä—Ç–µ, —Ç–æ –∏ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π –ö–∞—Ä—Ç—ã
```
public class SimulationMap {
  public void putIntoMap(Coords coords, Entity entity)
  public Entity getEntityFromMap(Coords coords)
  public void deleteFromMap(Coords coordinate)
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public class SimulationMap {
  public void put(Coords coords, Entity entity)
  public Entity get(Coords coords)
  public void delete(Coords coordinate)
  //...
}
```

- –ù–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è

–ö–æ–Ω—Ü–µ–ø—Ü–∏—è "–∫–ª—é—á" –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞  SimulationMap.
–¢–∞–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ö—ç—à–º–∞–ø–∞, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç –∑–∞–ø–∏—Å–∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
```
public class SimulationMap {
  private Map<Coords, Entity> simulationMap = new HashMap<>();

  public boolean isContainsKey(Coords coords) {
    return simulationMap.containsKey(coords);
  }
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public boolean isBusyCoordinates( Coords coords) {...}
```
–ö–ª–∏–µ–Ω—Ç –Ω–µ –æ–±—è–∑–∞–Ω –∑–Ω–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞. 
–ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç –µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —ç—Ç–∏–º –∫–ª–∞—Å—Å–æ–º.

- –ù–µ –Ω—É–∂–Ω–æ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ –ø–µ—Ä–µ—Å–∫–∞–∑—ã–≤–∞—Ç—å –µ–≥–æ —Å–∏–≥–Ω–∞—Ç—É—Ä—É
```
List<Coords> getGrassesCoordsList()

//–ü–†–ê–í–ò–õ–¨–ù–û:
List<Coords> getGrassesCoordinates()
```

- –î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏–π, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –≤ –Ω–∞–∑—ã–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤–æ "Object", –µ—Å–ª–∏ –æ–Ω–∏ —Ç–∞–º –Ω–µ —Ö—Ä–∞–Ω—è—Ç –æ–±—ä–µ–∫—Ç—ã –∏–º–µ–Ω–Ω–æ –∫–ª–∞—Å—Å–∞ `Object`.  
–î–∞, –≤—Å–µ –∫–ª–∞—Å—Å—ã —è–≤–ª—è—é—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ `Object`. 
–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —Ç–∞–∫ –Ω–∞–∑–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é- –≤—Å–µ —Ä–∞–≤–Ω–æ, —á—Ç–æ –Ω–∏–∫–∞–∫ –µ—ë –Ω–µ –Ω–∞–∑–≤–∞—Ç—å
```
List<Coords> staticObjects

//–ü–†–ê–í–ò–õ–¨–ù–û:
List<Coords> staticEntities
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º
```
class CalculatePath
class AddGrass

//–ü–†–ê–í–ò–õ–¨–ù–û:
class PathFinder
class GrassSpawnAction
```

- –ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è. –ù–∞–∑–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –¥–µ–ª–∞–π –ª–∏–±–æ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º, –ª–∏–±–æ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ
```
model
utils
```

- –≠—Ç–æ –Ω–µ —Å–ª—É—á–∞–π–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞, —ç—Ç–æ –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
```
public class RandomCoordinates {
  public static Coords getRandomCoordinate(int size) {...}
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public class RandomCoordinatesFactory {
  public static Coords get(int max) {...}
}
```

- –ù–µ –¥—É–±–ª–∏—Ä—É–π –∏–º—è –∫–ª–∞—Å—Å–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –µ–≥–æ –º–µ—Ç–æ–¥–∞
```
public interface Action {
  void doAction();
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public interface Action {
  void execute();
}
```

*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*

**2. –ö—Ä–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç- —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞. –ù–µ —Å—Ç—Ä–µ–º–∏—Å—å –∑–∞—Å—É–Ω—É—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ –æ–¥–Ω—É.  
–û—Å–æ–±–µ–Ω–Ω–æ, –∫–æ–≥–¥–∞ —ç—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ç–∞–∫–æ–π –¥–ª–∏–Ω–Ω–æ–π, —á—Ç–æ –µ–µ —Ö–æ—á–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫
```
simulationMap.putIntoMap(
  RandomCoordinates.getRandomCoordinate(simulationMap.getSize()), new Predator());

//–ü–†–ê–í–ò–õ–¨–ù–û:
Coords coords = RandomCoordinates.getRandomCoordinate(simulationMap.getSize())
simulationMap.putIntoMap(coords, new Predator());
```

**3. –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –ø–∞–∫–µ—Ç—ã**

- –ü–∞–∫–µ—Ç model

–°—É–¥—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –≤ —ç—Ç–æ–º –ø–∞–∫–µ—Ç–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –º–æ–¥–µ–ª–∏.  
–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –ø—Ä–æ–µ–∫—Ç–∞ *–Ω–µ –¥–æ–ª–∂–Ω—ã* —è–≤–ª—è—Ç—å—Å—è –º–æ–¥–µ–ª—è–º–∏.  
–ù–æ –Ω–µ –≤—Å–µ –∫–ª–∞—Å—Å—ã-–º–æ–¥–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ "model".

–ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–∏ –∫–ª–∞—Å—Å—ã-–º–æ–¥–µ–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –ø–∞–∫–µ—Ç–∞—Ö: SimulationMap, Coords, Counter.

- –ü–∞–∫–µ—Ç utils

–ù–µ –≤—Å–µ –∫–ª–∞—Å—Å—ã –≤ –ø–∞–∫–µ—Ç–µ —É—Ç–∏–ª–∏—Ç–Ω—ã–µ.  
–£—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å final, –∏–º–µ—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –≤—Å–µ –∏—Ö –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏.  
*–ë–ª–æ—Ö, "Java. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ" –≥–ª.2.4*

**4. class Coords**

+ üëç –ù–µ—Ç –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. 

- –ù–µ–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å

–û–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –∏–∑–º–µ–Ω—è–µ–º—ã–º - –≤ –∫–ª–∞—Å—Å–µ –µ—Å—Ç—å —Å–µ—Ç—Ç–µ—Ä—ã.  
–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ —ç—Ç–æ—Ç –∫–ª–∞—Å—Å —Å–¥–µ–ª–∞—Ç—å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º.

- –ö–ª–∞—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ record –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –ù–æ –ø—Ä–∏ —ç—Ç–æ–º –æ–Ω —Å—Ç–∞–Ω–µ—Ç –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º.

**5. class SimulationMap**

- –ù–µ—Ç –æ—Å–Ω–æ–≤–∞–Ω–∏–π –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –∫–∞—Ä—Ç—É —Ç–æ–ª—å–∫–æ –∫–≤–∞–¥—Ä–∞—Ç–æ–º
```
private int size;

//–ü–†–ê–í–ò–õ–¨–ù–û:
private int width;
private int height;
```

- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä –∫–∞—Ä—Ç—ã –ø–æ—Å–ª–µ –µ–µ —Å–æ–∑–¥–∞–Ω–∏—è
```
public void setSize(int size)
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP, OCP 

–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ –≤—Å–µ–º–∏ —Ö—Ä–∞–Ω–∏–º—ã–º–∏ —Å—É—â–µ—Å—Ç–≤–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫-—Ç–æ –ø–æ-–æ—Å–æ–±–æ–º—É —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –∏ –Ω–µ –¥–æ–ª–∂–Ω–∞ –¥–∞–∂–µ –∑–Ω–∞—Ç—å –ø–æ –∏–º–µ–Ω–∞–º –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ Entity
```
public List<Coords> getHerbivoresCoordsList() {...}
public List<Coords> getPredatorsCoordsList() {...}
public List<Coords> getGrassesCoordsList() {...}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public List<Coords> getAllCoordinatesBy(Class<? extends Entity> clazz)  //–≤–µ—Ä–Ω—É—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ 
```

–ó–¥–µ—Å—å —Ç–æ–∂–µ –∫–∞–∫–∞—è-—Ç–æ –ª–æ–≥–∏–∫–∞, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è –Ω–∞ –∑–Ω–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—É—â–µ—Å—Ç–≤ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –≤–∑–∞–∏–º–æ–¥–µ—Å—Ç–≤–∏—è —Å –Ω–∏–º–∏:
```
private boolean isCellNotAccessible(Coords coords) {
  return (simulationMap.get(coords).getName() == 'r')
      || (simulationMap.get(coords).getName() == 't');
}
```

–ê –∑–¥–µ—Å—å –ö–∞—Ä—Ç–∞ –∑–Ω–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã —Å—É—â–µ—Å—Ç–≤, –Ω–æ –∏ –ø—Ä–æ —Ç–æ, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –æ–±—ä–µ–¥–µ–Ω–µ–Ω—ã –≤ –æ—Å–æ–±—ã–µ –≥—Ä—É–ø–ø—ã
```
public List<Coords> getStaticObjects()
```

- –ü—Ä–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —É—á–∞—Å—Ç–∏–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã(–¥–æ–±–∞–≤–∏—Ç—å, –≤—ã–¥–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å –∏ —Ç.–¥.), –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å. 
–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞(–Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –ø—Ä–µ–¥–µ–ª–æ–≤ –∫–∞—Ä—Ç—ã), –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
```
public boolean isContainsKey(Coords coords) {
  return simulationMap.containsKey(coords);
}
```
–°–µ–π—á–∞—Å, –µ—Å–ª–∏ —É –∫–∞—Ä—Ç—ã —Å–ø—Ä–æ—Å–∏—Ç—å, –∑–∞–Ω—è—Ç–∞ –ª–∏ —è—á–µ–π–∫–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ–π (+100500, -100500), —Ç–æ –∫–∞—Ä—Ç–∞ —Å–∫–∞–∂–µ—Ç, —á—Ç–æ —Å–≤–æ–±–æ–¥–Ω–∞. 
–ê –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç- —è—á–µ–π–∫–∏ —Å —Ç–∞–∫–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ–π –≤ –∫–∞—Ä—Ç–µ –Ω–µ—Ç –≤–æ–æ–±—â–µ.

–ë–ª–∏–∂–∞–π—à–∞—è –∞–Ω–∞–ª–æ–≥–∏—è- —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Ç–∏–ø–∞ List –∏ –º–∞—Å—Å–∏–≤–∞. 
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–±—Ä–∞—Ç–∏—Ç—å—è –∫ –Ω–∏–º –ø–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∏–Ω–¥–µ–∫—Å—É, –±—Ä–æ—Å–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.


- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–π null
```
private Map<Coords, Entity> simulationMap = new HashMap<>();

public Entity getEntityFromMap(Coords coords) {
  return simulationMap.get(coords);  <-- –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å null
}
```
–í–æ–∑–≤—Ä–∞—Ç null –ø–æ–≤—ã—à–∞–µ—Ç —Ä–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è NullPointerException –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.7.7-8*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å NULL?"*

**6. class CalculatePath**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞. –ì–ª–∞–≤–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–º –ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç, –¥–æ–ª–∂–µ–Ω —Å—Ç–æ—è—Ç—å –≤–≤–µ—Ä—Ö—É. –°–µ–π—á–∞—Å –æ–Ω —Å—Ç–æ–∏—Ç –≤ —Å–∞–º–æ–º –Ω–∏–∑—É
```
public static Coords getNextCoordinate(List<Coords> exclusion, Coords start, Coords finish)
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

–í –∫–ª–∞—Å—Å–µ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥- —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—â–µ—Ç –ø—É—Ç—å. 
–ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏.  
*–í–∞–π—Å—Ñ–µ–ª—å–¥ "–û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥", –≥–ª.5, "–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –æ—Ç–∫—Ä—ã—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"*

- –°–µ–π—á–∞—Å –∫–ª–∞—Å—Å –Ω–µ –∏—â–µ—Ç –ø—É—Ç—å

–ü–æ–∏—Å–∫ –¥–æ–ª–∂–µ–Ω –Ω–∞–π—Ç–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å –ø—É—Ç—å –∫ —Ü–µ–ª–∏. –ü—É—Ç—å —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. 

–°–µ–π—á–∞—Å –∫–ª–∞—Å—Å –∏—â–µ—Ç –Ω–µ –ø—É—Ç—å –∫ —Ü–µ–ª–∏, –∞ —Å–ª–µ–¥—É—é—â—É—é —Ç–æ—á–∫—É –∫ —Ü–µ–ª–∏. 
–ù–æ —á—Ç–æ–±—ã –µ–µ –ø–æ–ª—É—á–∏—Ç—å, –Ω—É–∂–Ω–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
```
public static Coords getNextCoordinate(List<Coords> exclusion, Coords start, Coords finish)
```

–ü–æ–∏—Å–∫ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ –∏—Å–∫–∞—Ç—å –ø—É—Ç—å –æ—Ç —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –¥–æ —Ç–æ—á–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º. 
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ- –¥–æ —Ç–æ—á–∫–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

–ï—Å–ª–∏ –ø–æ–∏—Å–∫ –ø–æ–ª—É—á–∞–µ—Ç –≤–æ –≤—Ö–æ–¥—è—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –º–µ—Ç–æ–¥–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–ª–∏, –∑–Ω–∞—á–∏—Ç —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø–æ–∏—Å–∫–∞ —É–∂–µ –≤—ã–ø–æ–ª–Ω–∏–ª –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π. 
–¢–æ –µ—Å—Ç—å, –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π —É–∂–µ –Ω–∞—à–µ–ª —Ü–µ–ª—å –∏ –ø–µ—Ä–µ–¥–∞–ª –µ–µ –∫–æ—Ä–¥–∏–Ω–∞—Ç—É –≤ –ø–æ–∏—Å–∫ –ø—É—Ç–∏.

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø–æ–∏—Å–∫ –ø—É—Ç–∏ –¥–æ–ª–∂–µ–Ω —Å–∞–º –∏—Å–∫–∞—Ç—å —Ü–µ–ª—å –∏ –ø—Ä–æ–∫–ª–∞–¥—ã–≤–∞—Ç—å –∫ –Ω–µ–π –ø—É—Ç—å. 
–°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ –¥–ª—è —ç—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫
```
List<Coordinate> findPath(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞, Coordinate start, Class<? extends Entity> target) {
  //–∏—â–µ—Ç –ø—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ –æ—Ç —Ç–æ—á–∫–∏ start
  //–¥–æ —Ç–æ—á–∫–∏, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞(–Ω–∞–ø—Ä. target == Grass.class)
}
```

- –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Ü–∏—Ñ—Ä—ã
```
return (Math.min(diffX, diffY) * 14) + (Math.abs(diffX - diffY) * 10);
```

**7. class Icon**

–ö–ª–∞—Å—Å –Ω–µ –¥–µ–ª–∞–µ—Ç –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ, –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω. 
–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ —Å—Ç—Ä–æ–∫–æ–π
```
public class Icon {
  private String icon;

  public Icon(String icon) {
    this.icon = icon;
  }

  public String getIcon() {
    return icon;
  }

  public void setIcon(String icon) {
    this.icon = icon;
  }
}
```

**8. abstract class Entity**

- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
```
public char name;
```
–ü–æ–ª–µ `name` –∑–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ç–∏–ø—É(—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∫–ª–∞—Å—Å—É) —Å—É—â–µ—Å—Ç–≤. 

–ù–µ –Ω—É–∂–Ω–æ –≤ –µ–Ω—Ç–∏—Ç–∏ —Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–æ–≤.

–î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∫ –∫–ª–∞—Å—Å–∞–º, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
```
return (simulationMap.get(coords).getName() == 'r')
    || (simulationMap.get(coords).getName() == 't');

//–ü–†–ê–í–ò–õ–¨–ù–û:
return (simulationMap.get(coords).getClass() == Rock.class)
    || (simulationMap.get(coords).getClass() == Tree.class);
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

–°—É—â–µ—Å—Ç–≤–æ —Ö—Ä–∞–Ω–∏—Ç —Å–ø—Ä–∞–π—Ç —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞-–æ–±–µ—Ä—Ç–∫–∏
```
public Icon icon;
```
–ú–æ–¥–µ–ª—å(–∞ —ç—Ç–æ –º–æ–¥–µ–ª—å) –Ω–µ –¥–æ–ª–∂–Ω–∞ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –∑–Ω–∞—Ç—å, –∫–∞–∫ –µ–µ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —é–∑–µ—Ä—É.
–ü–æ—Ç–æ–º—É —á—Ç–æ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö(–∫–æ–Ω—Å–æ–ª—å, Swing, Android) –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∞ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.
–°–ø—Ä–∞–π—Ç—ã –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –∫–ª–∞—Å—Å–µ, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É.

**9. class Grass extends Entity**

–ù–∞—Ä—É—à–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ –û–û–ü –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏. 
–î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–µ–¥–∫–∞, –∞ –Ω–µ —Å–µ—Ç–∏—Ç—å—Å—è
```
public class Grass extends Entity {
  public Grass() {
    this.icon = new Icon("\uD83C\uDF3F");
    this.name = 'g';
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public class Grass extends Entity {
  private final static char NAME = 'g';
  private final static String SPRITE = "\uD83C\uDF3F";

  public Grass() {
    super(NAME, new Icon(SPRITE));
  }
}
```

**10. abstract class Creature extends Entity implements Move**

- –ö—Ä–µ–∞—Ç—É—Ä–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–µ–±–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –µ–¥—ã
```
public abstract class Creature extends Entity implements Move {
  private Coords goal;
  //...
}
```
–£ –ö—Ä–µ–∞—Ç—É—Ä—ã –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–µ–±–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –µ–¥—ã. 
–í–æ –≤—Ä–µ–º—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ö–æ–¥–∞, –∫—Ä–µ–∞—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø—É—Ç—å –∫ –µ–¥–µ –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ —ç—Ç–æ–º—É –ø—É—Ç–∏.
–•—Ä–∞–Ω–∏—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –µ–¥—ã –≤ –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞, –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

- –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ, –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∫—É—é-—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É.
–ú–µ—Ç–æ–¥ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ö–æ–¥–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–≤–µ—Ä—à–∞—Ç—å —Ö–æ–¥
```
public Coords makeMove(Coords start, Coords goal, List<Coords> exclusion)

//–ü–†–ê–í–ò–õ–¨–ù–û:
/*
* –∏—â–µ—Ç –ø—É—Ç—å –¥–æ –µ–¥—ã 
* –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—É—Ç—å 
* –µ—Å—Ç –µ–¥—É
*/
public abstract void makeMove(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞); 
```

**11. class Herbivore/Predator extends Creature**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ –û–û–ü –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–µ–¥–∫–µ –∏ –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö
```
public abstract class Creature extends Entity implements Move {
  private int hp;
  private int speed;
  //...
  
  public int getHp() {
    return hp;
  }

  public int getSpeed() {
    return speed;
  }
}

public class Predator extends Creature implements Move {
  private int hp;  <-- –î–£–ë–õ–ò–†–£–ï–¢ –ü–û–õ–ï –ü–†–ï–î–ö–ê
  private int speed;  <-- –î–£–ë–õ–ò–†–£–ï–¢ –ü–û–õ–ï –ü–†–ï–î–ö–ê

  public Predator() {
    this.hp = 100;
    this.speed = 2;
    //...
  }
  
  public int getHp() {
    return hp;  <-- –ü–ï–†–ï–û–ü–†–ï–î–ï–õ–Ø–ï–¢ –ê–ù–ê–õ–û–ì–ò–ß–ù–´–ô –ú–ï–¢–û–î –ü–†–ï–î–ö–ê
  }

  public int getSpeed() {  <-- –ü–ï–†–ï–û–ü–†–ï–î–ï–õ–Ø–ï–¢ –ê–ù–ê–õ–û–ì–ò–ß–ù–´–ô –ú–ï–¢–û–î –ü–†–ï–î–ö–ê
    return speed;
  }
}
//–¢–û –ñ–ï –°–ê–ú–û–ï –£ –ó–ê–ô–¶–ê
```

–û–±—â–∏–µ –ø–æ–ª—è –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–∏ –≤ –ø—Ä–µ–¥–∫–∞:
```
public abstract class Creature extends Entity implements Move {
  private int hp;
  private int speed;
  //...
  public Creature(int hp, int speed, ...) {
    super(...);
    this.hp = hp;
    this.speed = speed;    
  }

  public int getHp() {
    return hp;
  }

  public int getSpeed() {
    return speed;
  }
}

public class Herbivore extends Creature {
  private final static int HP = 100;
  private final static int SPEED = 1;
  //...

  public Herbivore() {
    super(HP, SPEED, ...);
    //...
  }
}
```

**12. class Counter**

–ù–µ—Ç –æ—Å–Ω–æ–≤–∞–Ω–∏–π, —á—Ç–æ–±—ã —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –±—ã–ª —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–º. 
–í–æ–æ–±—â–µ, —Å–∏–Ω–≥–ª–µ—Ç–æ–Ω–∏–∑–º —Å–µ–π—á–∞—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º
```
public class Counter {
 private static Counter instance;
 //...

  public static synchronized Counter getInstance() {...}
}
```

**13. class AddGrass/AddHerbivore/AddPredator implements Action**

–ù–∞—Ä—É—à–µ–Ω–∏–µ DRY.  
–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ- –∑–∞—Å–µ–ª—è—é—Ç –≤ —É–∫–∞—Ä—Ç—É –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–æ—Ä–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞.  
–°–¥–µ–ª–∞–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –Ω–∞–ø—Ä–º–µ—Ä, —Ç–∞–∫–æ–π:
```
public class SpawnAction implements Action {
  //...

  public SpawnAction(SimulationMap simulationMap, int number, Supplier<Entity> entitySupplier) {
    this.simulationMap = simulationMap;
    this.number = number;
    this.entitySupplier = entitySupplier;
  }

  @Override
  public void doAction() {
     for(int i = 0; i < nunber; i++) {
        Coords coods =  RandomCoordinates.getRandomCoordinate(simulationMap.getSize());
        Entity entity = entitySupplier.get();
        simulationMap.putIntoMap(coods, entity);
     }
  }
}
```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```
SpawnAction rockSpawnAction = new SpawnAction(simulationMap, ROCK_NUMBER, ()-> new Rock());
SpawnAction treeSpawnAction = new SpawnAction(simulationMap, TREE_NUMBER, ()-> new Tree());

rockSpawnAction.doAction();
treeSpawnAction.doAction();
```

**14. –ü–∞–∫–µ—Ç set**

7 –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ –º–Ω–æ–≥–æ–º  –¥—É–±–ª–∏—Ä—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞.  

**15. class PullObjectsIntoMap implements Action**

–ê–ª–≥–æ—Ä–∏—Ç–º –∑–∞—Å–µ–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã —Å—É—â–µ—Å—Ç–≤–∞–º–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –µ–µ —Ä–∞–∑–º–µ—Ä–∞ –æ—á–µ–Ω—å –≥—Ä–æ–º–æ–∑–¥–∫–∏–π –∏ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–π:
```
int size = simulationMap.getSize();
if (size > 4 && size < 15) {
  setStaticObjects = new SetObjectsService(new SetObjectsForSmallMap(simulationMap));
}
if (size > 14 && size < 20) {
  setStaticObjects = new SetObjectsService(new SetObjectsForMiddleMap(simulationMap));
}
//–∏ —Ç.–¥. –∏ —Ç.–ø.
```

–õ—É—á—à–µ —Å–¥–µ–ª–∞–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞—Å–µ–ª—è—Ç—å –∫–∞—Ä—Ç—É —Å—É—â–µ—Å—Ç–≤–∞–º–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç –æ–±—â–µ–π –ø–ª–æ—â–∞–¥–∏ –∫–∞—Ä—Ç—ã.  
–¢–∏–ø–∞ —Ç–∞–∫–æ–≥–æ:
```
class –ù–∞—á–∞–ª—å–Ω–æ–µ–ó–∞—Å–µ–ª–µ–Ω–∏–µAction implements Action {
  private final int rockNumber;
  private final int treeNumber;
  //...

  public –ù–∞—á–∞–ª—å–Ω–æ–µ–ó–∞—Å–µ–ª–µ–Ω–∏–µAction(
    –ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞,
    int rockPercent, 
    int treePercent, 
    //...
  ) {
    this.rockNumber = //—Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–Ω–µ–π –æ—Ç –ø–æ–ª—â–∞–¥–∏ –∏ rockPercent
    this.treeNumber = //—Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ä–µ–≤—å–µ–≤ –æ—Ç –ø–æ–ª—â–∞–¥–∏ –∏ treePercent
    //...
  }

  @Override
  public void doAction() {
    //–∑–∞—Å–µ–ª–∏—Ç—å rockNumber –∫–∞–º–Ω–µ–π –Ω–∞ –∫–∞—Ä—Ç—É
    //–∑–∞—Å–µ–ª–∏—Ç—å treeNumber –¥–µ—Ä–µ–≤—å–µ–≤ –Ω–∞ –∫–∞—Ä—Ç—É
    //–∑–∞—Å–µ–ª–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
  }
}
```

**16. class CheckCountObjects**

- –ì–æ—Ä—ã –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY. 

–ö—É—á–∞ –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ- ... –¥–µ–ª–∞—é—Ç —á—Ç–æ-—Ç–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–∏–¥–∞ —Å—É—â–µ—Å—Ç–≤, –∫–æ—Ä–æ—á–µ
```
public boolean isChangeCountGrass() {
  //–æ–ø–æ—Å—Ä–µ–¥–æ–≤–∞–Ω–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏  
}

public boolean isChangeCountPredators() {
  //–æ–ø–æ—Å—Ä–µ–¥–æ–≤–∞–Ω–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏  
}

public boolean isChangeCountHerbivore() {
  //–æ–ø–æ—Å—Ä–µ–¥–æ–≤–∞–Ω–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏  
}
```

- –ö–∞–∫ –∏ –≤ `PullObjectsIntoMap`, –∫–∞–∫–æ–π-—Ç–æ –≥—Ä–æ–º–æ–∑–¥–∫–∏–π –∫–æ–¥ –≤ `setCountersObjects()`.

**17. class MoveCreatures implements Action**

–ö–ª–∞—Å—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤–∞. 
–î—Ä—É–≥–∞—è —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ —Å–∞–º–æ–º —Å—É—â–µ—Å—Ç–≤–µ. 

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –µ–¥–∏–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤–∞ –ø–æ –∫–∞—Ä—Ç–µ, —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ –¥–≤–∞ –∫–ª–∞—Å—Å–∞.

–õ–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –ª–µ–∂–∞—Ç—å –ª–∏–±–æ –≤ —Å–∞–º–æ–π –∫—Ä–µ–∞—Ç—É—Ä–µ –∏ –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –µ–≥–æ –º–µ—Ç–æ–¥–µ `makeMove(...)`.  
–ò —Ç–æ–≥–¥–∞ –∫—Ä–µ–∞—Ç—É—Ä–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —Å—É—â–Ω–æ—Å—Ç—å —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–ª–µ–π.

–õ–∏–±–æ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–ª–∞—Å—Å–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `MoveAction`, –Ω–æ —Ç–æ–≥–¥–∞ –≤ —Å–∞–º–æ–π –∫—Ä–µ–∞—Ç—É—Ä–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `makeMove(...)`.
–ò —Å—É—â–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ —Å—É—â–Ω–æ—Å—Ç—å –±–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–ª–∏, –∫–∞–∫ —Ñ–∏–≥—É—Ä–∞ –≤ —à–∞—Ö–º–∞—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—É—é –ø–µ—Ä–µ–¥–≤–∏–≥–∞–µ—Ç –∫—Ç–æ-—Ç–æ –µ—â–µ.

**18. interface Renderer**

üëç –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞ —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.  
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–¥(–∫–æ–Ω—Å–æ–ª—å, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∏–Ω–¥–æ–≤—Å, http, –º–∞—Ç—Ä–∏—á–Ω—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä etc)
–∏ —Ä–∞–∑–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏(—Ü–≤–µ—Ç–Ω–æ–π, —á–µ—Ä–Ω–æ-–±–µ–ª—ã–π –∏ –ø—Ä.)
```
public interface Renderer {
  void render();
}
```

**19. class MapRenderer implements Renderer**

–°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∑–¥–µ—Å—å, –∞ –Ω–µ –±—Ä–∞—Ç—å—Å—è –∏–∑ –µ–Ω—Ç–∏—Ç–∏.

**20. class Simulation**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DI. –ö–ª–∞—Å—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º —Å–µ–±—è. 
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∫–ª–∞—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∞–º —Å–µ–±—è —Ç–µ–º, —á—Ç–æ —Å–∞–º —Å–æ–∑–¥–∞–µ—Ç –∫–∞—Ä—Ç—É, –∞ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –µ–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```
public class Simulation {

  public Simulation() {
    simulationMap = new SimulationMap(10);
    //...
  }
}
```
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–≥—Ä–æ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏.  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–ö", –≥–ª.11, "–û—Ç–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –æ—Ç –µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"*

- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–≤–∞ —Å–ø–∏—Å–∫–∞ —ç–∫—à–µ–Ω–æ–≤: —ç–∫—à–µ–Ω—ã –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –∏ —ç–∫—à–µ–Ω—ã –Ω–∞ –∫–∞–∂–¥–æ–º —Ö–æ–¥–µ

```
private List<Action> setActions;
private List<Action> turnActions;
private List<Action> conditionActions;

//–ü–†–ê–í–ò–õ–¨–ù–û:
private List<Action> initActions;
private List<Action> turnActions;
```

- –≠–∫—à–µ–Ω—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–æ —É—Å–ª–æ–≤–∏—é. 

–¢–∞–º –≤–µ—Å—å –ø—Ä–∏–∫–æ–ª –≤ —Ç–æ–º, —á—Ç–æ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–∫—à–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ —ç–∫—à–µ–Ω–æ–≤. 
–ò –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
```
if (checkCountObjects.isChangeCountGrass()  <-- –ó–ê–ü–£–°–ö –≠–ö–®–ï–ù–û–í –ü–û –£–°–õ–û–í–ò–Æ
   || checkCountObjects.isChangeCountHerbivore()
   || checkCountObjects.isChangeCountPredators()
   ) {
  conditionActions.forEach(Action::doAction);
}
```
–≠—Ç–∏ —ç–∫—à–µ–Ω—ã-–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∏ –ø–æ–ø—É–ª—è—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Ç–æ, –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤ –≤ –∫–∞—Ä—Ç—É –∏–ª–∏ –Ω–µ—Ç
```
turnActions = List.of(
  new MoveCreatures(simulationMap)
);
conditionActions = List.of(
  new AddGrass(simulationMap),
  new AddHerbivore(simulationMap),
  new AddPredator(simulationMap)
);

//–ü–†–ê–í–ò–õ–¨–ù–û:
turnActions = List.of(
  new MoveCreatures(simulationMap)
  new AddGrass(simulationMap),
  new AddHerbivore(simulationMap),
  new AddPredator(simulationMap)
);
```

- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `initActions`(–∑–¥–µ—Å—å —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `setActions`) –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –Ω–µ –≤ –º–µ—Ç–æ–¥–µ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ö–æ–¥–∞, –∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
```
public void nextTurn() {
  if (counter.getCount() == 0) {
    setActions.forEach(Action::doAction);
  }
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public Simulation(...) {
  //...
  setActions.forEach(Action::doAction);
}
```

**21. class Main**, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ main

üëç –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –°–∏–º—É–ª—è—Ü–∏—é, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

## –í–´–í–û–î

–†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º- –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—è —É –ø—Ä–µ–¥–∫–∞.  
–î–æ–¥–µ–ª–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ –¢–ó. 

n.113(258)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è 