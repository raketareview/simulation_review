https://github.com/LlqWst/Simulation.git  
[Ivan]

–ï—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å

## –•–û–†–û–®–û

+ üëç –ö–∞—Ä—Ç–∞ —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ä–æ–≤–Ω–æ  
![pic](https://github.com/raketareview/simulation_review/blob/master/content/resources/rev-sim076/img0.png)
+ üëç –î–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞: –∞–ª–≥–æ—Ä–∏—Ç–º—ã BFS –∏ AStar 
+ üëç –°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö
+ üëç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö(–º–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è)

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

- UPPER_SNAKE —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –∞ —ç—Ç–æ –Ω–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```
private final int MAX_ROW;
private final int MAX_COLUMN;
```

- –ù–∞–∑–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∫–∞–∫ –º–æ–∂–Ω–æ –ª—É—á—à–µ –æ–±—ä—è—Å–Ω—è—Ç—å —Å—É—Ç—å —è–≤–ª–µ–Ω–∏—è
```
GameMap.MAX_ROW;  <-- –≤—ã—Å–æ—Ç–∞
GameMap.MAX_COLUMN;  <-- —à–∏—Ä–∏–Ω–∞

//–ü–†–ê–í–ò–õ–¨–ù–û:
GameMap.HEIGHT;
GameMap.WIDTH;
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±–º–∞–Ω—ã–≤–∞–µ—Ç. –ú–µ—Ç–æ–¥ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∂–∏–≤–æ–µ —Å—É—â–µ—Å—Ç–≤–æ –∏–ª–∏ –Ω–µ—Ç, –º–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∏–º–µ–µ—Ç—Å—è –ª–∏ —Ç–∞–∫–æ–µ —Å—É—â–µ—Å—Ç–≤–æ –≤ –∫–∞—Ä—Ç–µ
```
private final Map<Coordinates, Entity> entities = new HashMap<>();

public boolean isAlive(Entity entity) {
  //...
  return entities.containsValue(entity);
}
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º
```
class PrintMoves

//–ü–†–ê–í–ò–õ–¨–ù–û:
class MovePrinter
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞  –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≥–ª–∞–≥–æ–ª–æ–º –≤ –ø–æ–≤–µ–ª–∏—Ç–µ–ª—å–Ω–æ–º –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏–∏
```
String entitySprite(Coordinates coordinates)
void moving(Creature creature, Coordinates startCoordinates, Coordinates nextMove) 

//–ü–†–ê–í–ò–õ–¨–ù–û:
String toSprite(Coordinates coordinates)
void move(Creature creature, Coordinates startCoordinates, Coordinates nextMove) 
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±–º–∞–Ω—ã–≤–∞–µ—Ç. –ú–µ—Ç–æ–¥ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–≤–æ–¥, –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è 
```
void checkInput()
```

- –û–±—ã—á–Ω–æ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞—é—Ç –ø–∞–∫–µ—Ç—ã –∏–ª–∏ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä—É–¥–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ: `handler`. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≤ –ø–∞–∫–µ—Ç–µ —Ö–µ–Ω–¥–ª–µ—Ä –ª–µ–∂–∏—Ç –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ.  
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Ö–æ—á–µ—Ç—Å—è –Ω–∞–∑–≤–∞—Ç—å "—Ö–µ–Ω–¥–ª–µ—Ä–æ–º", —Ç–æ —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –¥–ª—è —Å–∞–º–æ–≥–æ —Å–µ–±—è —è—Å–Ω–æ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –ø–∞–∫–µ—Ç –∏–ª–∏ –∫–ª–∞—Å—Å, –∞ –ø–æ—Ç–æ–º –¥–∞—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.

*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*  

**2. –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞.** –í –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≤—ã–¥–µ–ª—è–π —Ç–µ–ª–æ –±–ª–æ–∫–∞ —Å–∫–æ–±–æ—á–∫–∞–º–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–ª–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. 
–ò—Å–∫–ª—é—á–µ–Ω–∏–µ- –º–µ—Ç–æ–¥ equals(), —Ç–∞–º –º–æ–∂–Ω–æ –ø–æ—Å–ª–µ if –Ω–µ –≤—ã–¥–µ–ª—è—Ç—å –±–ª–æ–∫–∏ —Å–∫–æ–±–æ—á–∫–∞–º–∏
```
if (!isEmpty(coordinates) && isValidCoordinate(coordinates)) {
  return entities.get(coordinates);
} else throw new IllegalArgumentException();

//–ü–†–ê–í–ò–õ–¨–ù–û:
if (!isEmpty(coordinates) && isValidCoordinate(coordinates)) {
  return entities.get(coordinates);
} else {
  throw new IllegalArgumentException();
}
```

**3. –ï—Å–ª–∏ –≤ –±–ª–æ–∫–µ if –µ—Å—Ç—å return**(break, continue, throw, exit –∏ —Ç.–¥.), —Ç–æ else –Ω–µ –ø–∏—à–µ—Ç—Å—è - –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ–≤–∞–∂–Ω–æ, –±—É–¥–µ—Ç else –∏–ª–∏ –Ω–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∏ –∫–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —á–∏—Ç–∞–±–µ–ª—å–Ω–µ–π
```
if (!isEmpty(coordinates) && isValidCoordinate(coordinates)) {
  return entities.get(coordinates);
} else throw new IllegalArgumentException();

//–ü–†–ê–í–ò–õ–¨–ù–û:
if (!isEmpty(coordinates) && isValidCoordinate(coordinates)) {
  return entities.get(coordinates);
} 
throw new IllegalArgumentException();
```

**4. –ò—Å–ø–æ–ª—å–∑—É–π –∫–ª–∞—Å—Å—ã —á–µ—Ä–µ–∑ –∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**
```
HashMap<Coordinates, Creature> creatures = new HashMap<>();

//–ü–†–ê–í–ò–õ–¨–ù–û:
Map<Coordinates, Creature> creatures = new HashMap<>();
```

**5. record Coordinates(int row, int column)**

+ üëç –ù–µ—Ç –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. Record –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã- –∏–¥–µ–∞–ª—å–Ω–æ.

+ üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è row –∏ column –∞ –Ω–µ x –∏ y. –ú–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è.  
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç, –ø—É—Ç–∞–Ω–∏—Ü—ã —Å –ø–æ—Ä—è–¥–∫–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤–∞—Ö: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞(x,y), –∞ –≤ –º–∞—Å—Å–∏–≤–∞—Ö –Ω–∞–æ–±–æ—Ä–æ—Ç- –º–∞—Å—Å–∏–≤[y, x].

**6. class GameMap**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö
```
public GameMap() {
  this.MAX_ROW = 8;
  this.MAX_COLUMN = 12;
}

public GameMap(int maxRow, int maxColumn) {
  //...
  this.MAX_ROW = maxRow;
  this.MAX_COLUMN = maxColumn;
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public GameMap() {
  this(DEFAULT_HEIGHT, DEFAULT_WIDTH);
}

public GameMap(int maxRow, int maxColumn) {
  //...
  this.MAX_ROW = maxRow;
  this.MAX_COLUMN = maxColumn;
}
```

- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –∫–∞—Ä—Ç–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å —Ç–æ—á–∫–∏ 0,0 –∞ –Ω–µ 1,1
```
if (maxRow < 1 || maxColumn < 1) {
  throw new IllegalArgumentException("maxRow and maxColumn must be greater than 0");
}
```

–í–∏–∫–∏–ø–µ–¥–∏—è –ø–æ —ç—Ç–æ–º—É –ø–æ–≤–æ–¥—É –ø–∏—à–µ—Ç:
```
–í –¥–µ–∫–∞—Ä—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –Ω–∞—á–∞–ª–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç ‚Äî —ç—Ç–æ —Ç–æ—á–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –≤—Å–µ –æ—Å–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. 
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç—Ç–æ–π —Ç–æ—á–∫–∏ —Ä–∞–≤–Ω—ã –Ω—É–ª—é. 
–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –æ–Ω–∞ –∏–º–µ–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (0,0)
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP, –º–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π. 
–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–∞ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∏–º–∏: –≤—Å—Ç–∞–≤–∏—Ç—å, –≤—ã–¥–∞—Ç—å –æ–¥–Ω–æ —Å—É—â–µ—Å—Ç–≤–æ –∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ö—Ä–∞–Ω–∏–º—ã—Ö —Å—É—â–µ—Å—Ç–≤, —É–¥–∞–ª–∏—Ç—å.
–ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –º–µ—Ç–æ–¥ –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –∑–Ω–∞—á–∏—Ç –æ–Ω –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã, –∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ —á—É–∂–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
–ó–¥–µ—Å—å –º–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π: 
  - –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É—â–µ—Å—Ç–≤ 
  - –≤–µ—Ä–Ω—É—Ç—å –º–∞–ø—É –∫—Ä–µ–∞—Ç—É—Ä
  - —Å–æ–∑–¥–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –ø—É—Å—Ç—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
  - `isCoordinatesContains(...)`
  - `boolean isContains(Class<? extends Entity> clazz)`

–ù–∞–≤–µ—Ä–Ω–æ–µ, –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ü–µ–ª–æ–º –ø–æ–ª–µ–∑–Ω–æ –∏–º–µ—Ç—å –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –ø—É—Å—Ç—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É. 
–ù–æ —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏(SRP) –∫–∞—Ä—Ç—ã- —Ö—Ä–∞–Ω–µ–Ω–∏—é —Å—É—â–µ—Å—Ç–≤ –≤ —Å–µ–±–µ.  
–î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è/–≤—ã–¥–∞—á–∏ —Å—É—â–µ—Å—Ç–≤, –∫–∞—Ä—Ç–µ –Ω–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –ø—É—Å—Ç—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.  

–ú–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ç–µ—Ö –∫–ª–∞—Å—Å–∞—Ö, –≤ –∏–Ω—Ç–µ—Ä–µ—Å—Ö –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.
–ï—Å–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —Ç–æ –º–µ—Ç–æ–¥ –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä, BoardUtils.

- –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Å—Ç–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ –Ω–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É, –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
```
public void setEntity(Coordinates coordinates, Entity entity) {
  if (entity == null) {
    throw new IllegalArgumentException();
  }
  if (isValidCoordinate(coordinates)) {
    entities.put(coordinates, entity);
  }
}
```
–ê–Ω–∞–ª–æ–≥–∏—è: –µ—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤ –≤ —è—á–µ–π–∫—É —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º, —Ç–æ –≤—ã–ª–µ—Ç–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

+ üëç –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–æ—Ä–º
```
public List<Coordinates> getEntitiesCoordinates(Class<? extends Entity> clazz) 
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. 
–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ –≤—Å–µ–º–∏ —Ö—Ä–∞–Ω–∏–º—ã–º–∏ —Å—É—â–µ—Å—Ç–≤–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫-—Ç–æ –ø–æ-–æ—Å–æ–±–æ–º—É —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –∏ –Ω–µ –¥–æ–ª–∂–Ω–∞ –¥–∞–∂–µ –∑–Ω–∞—Ç—å –ø–æ –∏–º–µ–Ω–∞–º –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ Entity
```
public HashMap<Coordinates, Creature> getCreatures()
```
–ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –∫–∞—Ä—Ç—ã –º–∞–ø—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞-–∫—Ä–µ–∞—Ç—É—Ä–∞, —á—Ç–æ —Å–∞–º–æ –ø–æ —Å–µ–±–µ —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è SRP, —Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `List<Coordinates> getEntitiesCoordinates(Class<? extends Entity> clazz)`

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. –î–∞–≤–∞–π –ø–æ–ø—Ä–æ–±—É–µ–º —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥
```
public boolean isCoordinatesContains(Coordinates coordinates, Class<? extends Entity> clazz) {
  return isValidCoordinate(coordinates)
      && !isEmpty(coordinates)
      && getEntity(coordinates).getClass() == clazz;
}
```
–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞. –ù–∞–≤–µ—Ä–Ω–æ–µ, —ç—Ç–æ –ø–æ–ª–µ–∑–Ω—ã–π –º–µ—Ç–æ–¥, –Ω–æ!  
–í–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –±—É–¥–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–æ–±—â–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏ —Ç–µ–º –±–æ–ª–µ–µ –≤ –ö–∞—Ä—Ç–µ, —ç—Ç–æ –Ω–µ –±—É–¥–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –∏—Å–ø–æ–ª–Ω–∏–µ –∫–∞—Ä—Ç–æ–π —Å–≤–æ–∏—Ö –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π –≤ —Ä–∞–º–∫–∞—Ö —Å–≤–æ–µ–≥–æ SRP.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω—É–∂–µ–Ω –∫–æ–º—É —É–≥–æ–¥–Ω–æ, –Ω–æ –Ω–µ —Å–∞–º–æ–π –∫–∞—Ä—Ç–µ –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Å–≤–æ–∏—Ö –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π –ø–æ SRP
```
public boolean isContains(Class<? extends Entity> clazz) {
  return entities.values().stream().anyMatch(value -> value.getClass() == clazz);
}
```
–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –≤ –∫–∞—Ä—Ç–µ —Ö–æ—Ç—å –æ–¥–Ω–æ —Å—É—â–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞. –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–≤–æ–∏—Ö –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π –≤ —Ä–∞–º–∫–∞—Ö SRP, –∫–∞—Ä—Ç–µ –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–Ω–∞ –≤ —Å–µ–±–µ —Ö–æ—Ç—å –æ–¥–Ω–æ–≥–æ –ó–∞–π—Ü–∞ –∏ –ö–æ–ª–æ–±–∫–∞, –∏–ª–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç.

**7. class Parameters**

–ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. –ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –º–µ—Ç–æ–¥—ã.  
–ì–∏–±—Ä–∏–¥ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –∫–ª–∞—Å—Å–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –ø—Ä–∏–∫–ª–∞–¥–Ω—É—é –ª–æ–≥–∏–∫—É.  
–ü—Ä–∏–∫–ª–∞–¥–Ω—É—é –ª–æ–≥–∏–∫—É –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ —Ç—É–¥–∞, –≥–¥–µ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç —á–∞—Å—Ç—å –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.  
–ï—Å–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–∑ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Ç–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã, —Ç–æ –∑–¥–µ—Å—å –æ—Å—Ç–∞–Ω—É—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–ª–∞—Å—Å —Å—Ç–∞–Ω–µ—Ç –æ–±—ã—á–Ω—ã–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º.
–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–∑–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç –ª–∏—à–Ω–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ, –Ω–∞–ø–∏—à—É –Ω–∏–∂–µ.

–ü—Ä–æ –∫–ª–∞—Å—Å—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —è –ø–∏—Å–∞–ª —Ç—É—Ç: https://t.me/zhukovsd_it_chat/53243/176984

**8. abstract class PathFinder**

+ üëç –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞: BFS, AStar –∏ —Ç.–¥.

+ üëç –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ –ø–æ–∏—Å–∫–∞ –æ–∫
```
abstract public List<Coordinates> find(Coordinates start, Class<? extends Entity> goal, GameMap gameMap);
```
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ —è –±—ã –ø–æ–º–µ–Ω—è–ª- –ø–æ—Ä—è–¥–æ–∫ –≤—Ö–æ–¥—è—â–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –ß—Ç–æ–±—ã —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —á–∏—Ç–∞–ª–∞—Å—å –±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ: –Ω–∞–π—Ç–∏ –ø—É—Ç—å –≤ *–ö–ê–†–¢–ï* –Ω–∞—á–∏–Ω–∞—è –æ—Ç —Ç–æ—á–∫–∏ *–°–¢–ê–†–¢* –¥–æ —Ç–æ—á–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —É—Å–ª–æ–≤–∏—è–º *–¶–ï–õ–ò*.

**9. public class Entity –∏ –µ–≥–æ "—Å—Ç–∞—Ç–∏—á–Ω—ã–µ" –ø–æ—Ç–æ–º–∫–∏ Tree/Rock etc**

+ üëç –í—Å–µ –æ–∫.

**10. abstract class Creature extends Entity**

+ üëç –ü–æ–∏—Å–∫ –ø—É—Ç–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤—ã—à–µ –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª–µ–π.

- –ú–µ—Ç–æ–¥ —Ö–æ–¥–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ —Å–µ–±—è –µ—â–µ –∏ —Å–≤–æ—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
```
Coordinates makeMove(Coordinates coordinates, GameMap gameMap);
```
–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç–æ–≥–¥–∞ —Ç—ã –¥–µ–ª–∞–µ—à—å –¥–æ–ø—É—â–µ–Ω–∏–µ, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –≤—Å–µ–≥–¥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞, –∞ —ç—Ç–æ —Å–æ–≤—Å–µ–º –Ω–µ —Ñ–∞–∫—Ç.  

–°–≤–æ—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É —Å—É—â–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å —Å–∞–º–æ –æ–¥–Ω–∏–º –∏–∑ –¥–≤—É—Ö —Å–ø–æ—Å–æ–±–æ–≤: –ª–∏–±–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–µ–±–µ —Å–≤–æ—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É.  
–ù–æ —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –º–Ω–µ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –ø–æ –º–Ω–æ–≥–∏–º –ø—Ä–∏—á–∏–Ω–∞–º, –Ω–∞—á–∏–Ω–∞—è –æ—Ç —Å–∞–º–æ–≥–æ —Ñ–∞–∫—Ç–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Å—É—â–µ—Å—Ç–≤–µ –∏ –≤ –∫–∞—Ä—Ç–µ.  
–õ–∏–±–æ, —Å—É—â–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ —Å—á–∏—Ç—ã–≤–∞—Ç—å —Å–≤–æ—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –∏–∑ –∫–∞—Ä—Ç—ã –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫: `Coordinated coordinates = gameMap.getCoordinates(this);`

- –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±–º–∞–Ω—ã–≤–∞–µ—Ç. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –¥–µ–ª–∞–µ—Ç —Ö–æ–¥, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ö–æ–¥
```
Coordinates makeMove(Coordinates coordinates, GameMap gameMap)
```

**11. class CreatureActivity**

- –°—é–¥–∞ –≤—ã–Ω–µ—Å–µ–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ –ö—Ä–µ–∞—Ç—É—Ä—ã(–ó–∞–π—Ü–∞ –∏ –í–æ–ª–∫–∞):
  - –ü–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ
  - –ó–∞—è—Ü –µ—Å—Ç—å —Ç—Ä–∞–≤—É
  - –í–æ–ª–∫ –µ—Å—Ç –∑–∞–π—Ü–∞
  - –°–æ–æ–±—â–∞–µ—Ç, –∂–∏–≤ –∏–ª–∏ –Ω–µ—Ç

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ SRP: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤, –¥—Ä–æ–±–ª–µ–Ω–∏–µ.  
–ò–Ω—Ç–µ—Ä–ø—Ä–∏—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∫—É `Creature` + `CreatureActivity` –∫–∞–∫ –∞–Ω–µ–º–∏—á–Ω—É—é –º–æ–¥–µ–ª—å –∏ —Å–µ—Ä–≤–∏—Å –¥–ª—è —ç—Ç–æ–π –º–æ–¥–µ–ª–∏ —Ç–æ–∂–µ –Ω–µ–ª—å–∑—è, –ø–æ—Ç–æ–º—É —á—Ç–æ `Creature` –≤—Å–µ —Ä–∞–≤–Ω–æ –µ—â–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–∫–æ–µ-—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

–ö–ª–∞—Å—Å `CreatureActivity` —É–±—Ä–∞—Ç—å, –∫–æ–¥ –∏–∑ –Ω–µ–≥–æ –≤–µ—Ä–Ω—É—Ç—å –≤ –ö—Ä–µ–∞—Ç—É—Ä—É/–ó–∞–π—Ü–∞/–í–æ–ª–∫–∞.

**12. abstract class Actions**

üëç –û–∫.

**13. class MakeMove extends Actions**

- –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º, –Ω–∞–ø—Ä–∏–º–µ—Ä `MoveAction`

- –ú—É–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –æ–¥–Ω–∏–º –∏–∑ –¥–≤—É—Ö —Å–ø–æ—Å–æ–±–æ–≤.

–ü–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–±: –ø—Ä–æ—Å—Ç–æ –æ–±–æ–π—Ç–∏ –≤—Å—é –∫–∞—Ä—Ç—É, –Ω–∞–π—Ç–∏ –∫–∞–∂–¥—É—é –∫—Ä–µ–∞—Ç—É—Ä—É –∏ –¥–∞—Ç—å –µ–π –ø–∏–Ω–∫–∞, —á—Ç–æ–±—ã –æ–Ω–∞ –ø–æ–±–µ–∂–∞–ª–∞.
–ü—Ä–∏ —ç—Ç–æ–º –∫–∞–∫ –±—É–¥–µ—Ç –±–µ–∂–∞—Ç—å –∫—Ä–µ–∞—Ç—É—Ä–∞ –∏ —á—Ç–æ –ø—Ä–∏ —ç—Ç–æ–º –¥–µ–ª–∞—Ç—å, –Ω–µ –¥–æ–ª–∂–Ω–æ –≤–æ–ª–Ω–æ–≤–∞—Ç—å –ú—É–≤–µ—Ä, —ç—Ç–æ –≤—Å–µ –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å —Å–∞–º–∞ –∫—Ä–µ–∞—Ç—É—Ä–∞.
–í—ã–≥–ª—è–¥–µ—Ç—å —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫
```
class –ú—É–≤–µ—Ä —Ä–µ–∞–ª–∏–∑—É–µ—Ç Action {

  @–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
  public void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    List<Creature> creatures = get–ö—Ä–µ–∞—Ç—É—Ä—ã–ù–∞–ö–∞—Ä—Ç–µ(–∫–∞—Ä—Ç–∞);
    for(Creature c: creatures) {
      c.–±–µ–∂–∞—Ç—å–ñ–∏–≤–æ—Ç–Ω–æ–µ(/* args */);  //–¥–∞—ë—Ç –ø–∏–Ω–∫–∞
    }
  }

  private static List<Creature> get–ö—Ä–µ–∞—Ç—É—Ä—ã–ù–∞–ö–∞—Ä—Ç–µ(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–Ω–∞–π—Ç–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ –∫—Ä–µ–∞—Ç—É—Ä—ã –∏–∑ –∫–∞—Ä—Ç—ã
  }
}
```

–í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–±: –ú—É–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ –≤–µ—Å—å –∫–æ–¥ –ø–æ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—é —Å—É—â–µ—Å—Ç–≤–∞. –¢–∞–∫–æ–π –º—É–≤–µ—Ä –±—É–¥–µ—Ç —Å–≤–æ–µ–æ–±—Ä–∞–∑–Ω—ã–º —Å–µ—Ä–≤–∏—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –±—Ä–∞—Ç—å –Ω–∞ —Å–µ–±—è –≤—Å–µ –∑–∞–±–æ—Ç—ã –ø–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—é —Å—É—â–µ—Å—Ç–≤–∞ –Ω–∞ –∫–∞—Ä—Ç–µ. 
–¢–∏–ø–∞, –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫ –ø–µ—Ä–µ–¥–≤–∏–≥–∞–µ—Ç —Ñ–∏–≥—É—Ä—ã –Ω–∞ —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–µ, –≥–¥–µ —Å–∞–º–∏ —Ñ–∏–≥—É—Ä—ã –ª–∏—à–µ–Ω—ã —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–ª–∏.

–í –¥–∞–Ω–Ω–æ–π —Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º—ã –≤–∏–¥–∏–º –Ω–∏ —Ç–æ, –Ω–∏ —Å—ë.

**14. AddNewEntities extends Actions**

üëç –°–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤ —á–µ—Ä–µ–∑ `Supplier` —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

**15. class ParseIntInput**

–Ø –≤–æ–æ–±—â–µ –Ω–µ —Å–º–æ–≥ –ø–æ–Ω—è—Ç—å, —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ –∏ –∑–∞—á–µ–º. –ù–æ –æ–¥–Ω–æ —è—Å–Ω–æ —Ç–æ—á–Ω–æ: –∫–ª–∞—Å—Å –ø–∞—Ä—Å–∏—Ç –Ω–µ Input, –∞ –°—Ç—Ä–æ–∫—É –∏ –Ω–µ –≤ int –∞ –≤ Object.

**16. class Menu**

–í–æ—Ç –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä
```
private void checkInput() {
  String line = scanner.nextLine();
  Object answer = ParseIntInput.parse(line, START, EXIT);
  if (isInputInt(answer)) {
    int input = (int) answer;
    commandSelection(input);
  } else {
    printErrorMessage();
  }
}
```
–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ–º, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥: –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ–µ, –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞. –ï—Å–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞- –ø–∏—à–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

–ü–µ—Ä–µ–¥–µ–ª–∞–µ–º, —á—Ç–æ–±—ã —Å–º—ã—Å–ª –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ –±—ã–ª –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–µ–Ω
```
private final static String START = "1";
private final static String PAUSE = "2";
//...

  private void somename() {
    String command = scanner.nextLine().toUpperCase(); <-- –ø–µ—Ä–µ–≤–æ–¥ –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä –Ω–∞ —Å–ª—É—á–∞–π –±—É–∫–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
    switch(command) {
        case START -> start();
        case PAUSE -> pause();
        //...
        default -> printErrorCommand();
    }
  }
```

**17. class GameMapRenderer**

–ù–∞—Ä—É—à–µ–Ω–∏–µ SRP –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–µ—Ç–æ–¥–∞
```
public String entitySprite(Coordinates coordinates) {
  if (gameMap.isEmpty(coordinates)) {
    return EMOJI_EARTH;
  }

  return switch (gameMap.getEntity(coordinates).getClass().getSimpleName()) {
    case "Herbivore" -> EMOJI_HERBIVORE;
    case "Predator" -> EMOJI_PREDATOR;
    //...
    case null, default -> throw new IllegalArgumentException();
  };
}
```
–ú–µ—Ç–æ–¥ –¥–µ–ª–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–ª —Å—Ä–∞–∑—É, –∞ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ- –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤–æ –≤ —Å–ø—Ä–∞–π—Ç. –ü—Ä–∏–º–µ—Ä–Ω–æ, —Ç–∞–∫
```
public String toSprite(Entity entity) {
  return switch (entity.getClass().getSimpleName()) {
    case "Herbivore" -> EMOJI_HERBIVORE;
    case "Predator" -> EMOJI_PREDATOR;
    //...
    default -> throw new IllegalArgumentException("illegal entity: " + entity);
  };
}
```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```
for (int column = 0; column < gameMap.getMaxColumn(); column++) {
  line.append(ANSI_BLACK_BACKGROUND);

  Coordinates coordinates = new Coordinates(row, column);
  if(gameMap.isEmpty(coordinates)) {
    line.append(EMOJI_EARTH);
  } else {
    Entity entity = gameMap.getEntity(coordinates);
    line.append(toSprite(entity));
  }
}
```

**18. class Simulation**

üëç –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Å–ø–∏—Å–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π. 
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –º–∞–π–Ω—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–≥—Ä–æ–≤—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏, –Ω–µ –º–µ–Ω—è—è –∫–æ–¥ –≤ –∫–ª–∞—Å—Å–µ —Å–∏–º—É–ª—è—Ü–∏–∏
```
Simulation(GameMap gameMap, List<Actions> initActions, List<Actions> turnActions)
```

**19. class Main**

+ üëç –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∏–º—É–ª—è—Ü–∏—é, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

- –í–æ—Ç –∑–¥–µ—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å `Parameters`. –í –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–º –∫–ª–∞—Å—Å–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ—Ç–æ–¥–æ–≤ —Ç–∏–ø–∞ `getRandomSpeed()`
```
Supplier<Entity> supplierPredator = () -> new Predator(Parameters.getRandomSpeed(), Parameters.getRandomDamage(), Parameters.getRandomRange(), new AStarAlgorithm());

//–ü–†–ê–í–ò–õ–¨–ù–û:
Random random = new Random();

int speed = random.next(Parameters.PREDATOR_MIN_SPEED, Parameters.PREDATOR_MAX_SPEED);
int damage = random.next(Parameters.PREDATOR_MIN_DAMAGE, Parameters.PREDATOR_MAX_DAMAGE);
int range = random.next(Parameters.PREDATOR_MIN_RANGE, Parameters.PREDATOR_MAX_RANGE);

Supplier<Entity> supplierPredator = () -> new Predator(speed, damage, range, new AStarAlgorithm()); 
```

## –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

–í–º–µ—Å—Ç–æ —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ `ParseIntInput` –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –¥–∏–∞–ª–æ–≥–æ–≤.  
–î–∏–∞–ª–æ–≥ —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –≤–≤–æ–¥ –Ω–µ –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∑–∞–¥–∞–Ω–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.  
–≠—Ç–∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –±—É–¥—É—Ç –ø–æ–ª–µ–∑–Ω—ã –≤ –ª—é–±–æ–π –∫–æ–Ω—Å–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ.

–î–µ–ª–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–∏–∞–ª–æ–≥–∞
```
public interface Dialog<T> {
  T input();
}
```

–¢–µ–ø–µ—Ä—å –¥–µ–ª–∞–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç –≤–≤–µ—Å—Ç–∏ –æ–¥–Ω—É –∏–∑ –∑–∞–¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
```
public class StringSelectDialog implements Dialog<String> {
  private final String title;
  private final String failMessage;
  private final List<String> keys;
  private final Scanner scanner = new Scanner(System.in);

  public StringSelectDialog(String title, String failMessage, List<String> keys) {
    this.title = title;
    this.failMessage = failMessage;
    this.keys = keys;
  }

  public StringSelectDialog(String title, String failMessage, String... keys) {
    this(title, failMessage, List.of(keys));
  }

  @Override
  public String input() {
    System.out.println(title);
    while (true) {
      String s = scanner.nextLine();
      for (String key : keys) {
        if (key.equalsIgnoreCase(s)) {
          return key;
        }
      }
      System.out.println(failMessage);
    }
  }
}
```
–†–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ –±—É–¥–µ—Ç —Ç–∞–∫:
```
public static void main(String[] args) {
  List<String> keys = List.of("start", "stop", "pause");

  String title = "–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É %s: ".formatted(keys);
  String failMessage = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞";
    
  Dialog<String> dialog = new StringSelectDialog(title, failMessage, keys);
  String command = dialog.input();

  System.out.println("–í–≤–µ–¥–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞: " + command);
}

//–†–ï–ó–£–õ–¨–¢–ê–¢:
–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É [start, stop, pause]: 
ssstart
–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
111
–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
STarT
–í–≤–µ–¥–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞: start
```

–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–¥ –¥–∞–Ω–Ω—ã—Ö: Integer, Char, Boolean –∏ —Ç.–¥.  
–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –≤ –º–æ–µ–º —Å—Ç—Ä–∏–º–µ –Ω–∞—á–∏–Ω–∞—è —Å 6:28 —Ç—É—Ç: https://t.me/zhukovsd_it_chat/53243/176204

## –í–´–í–û–î

–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –û–û–ü –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –°–µ—Ä–≥–µ—è –ø—Ä–æ —à–∞—Ö–º–∞—Ç—ã. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –ù–µ–º—á–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–æ SOLID.

n.76(165)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è #–¥–∏–∞–ª–æ–≥–∏ #—Å—Ç—Ä–∏–º–¥–∏–∞–ª–æ–≥–∏