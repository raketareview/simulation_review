https://github.com/Blackened07/simulationMap 
[–¢–∏–º–æ—Ñ–µ–π]

–í —Ü–µ–ª–æ–º, —É–¥—Ä—É—á–∞—é—â–µ.

## –•–û–†–û–®–û

+ üëç –°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö
+ üëç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö(–º–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è)
+ üëç –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–∞—É–∑–∞/–ø—É—Å–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

- –î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—É—Ç–∞–Ω–∏—Ü—ã –Ω–µ –Ω–∞–∑—ã–≤–∞–π –ø–∞–∫–µ—Ç—ã, –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ç–∞–∫ –∂–µ, –∫–∞–∫ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.  
–ï—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map`, –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º
```java
package map;

//–ü–†–ê–í–ò–õ–¨–ù–û:
package simulationmap;
```

- –ò–∑–±—ã—Ç–æ—á–Ω–æ. –ü—Ä–∏–ø–∏—Å–∫–∞ "Data" —Ç—É—Ç —è–≤–ª—è–µ—Ç—Å—è —Å–ª–æ–≤–æ–º-–ø–∞—Ä–∞–∑–∏—Ç–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∏—á–µ–≥–æ –Ω–æ–≤–æ–≥–æ –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é —Ç–æ–≥–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–ª–∞—Å—Å
```java
class CoordinatesData

//–ü–†–ê–í–ò–õ–¨–ù–û:
class Coordinates
```

- –ù–µ —Å–æ–∫—Ä–∞—â–∞–π –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –ñ–µ–ª–∞–Ω–∏–µ, —á—Ç–æ–±—ã –æ–±–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –±—ã–ª–∏ –æ–¥–Ω–æ–π –¥–ª–∏–Ω—ã- –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å
```java
private final int col;
private final int row;

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final int column;
private final int row;
```

- –•—É–∂–µ –≤–µ–Ω–≥–µ—Ä—Å–∫–æ–π –Ω–æ—Ç—Ç–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –≤–µ–Ω–≥–µ—Ä—Å–∫–∞—è –Ω–æ—Ç—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–±–º–∞–Ω—ã–≤–∞–µ—Ç.
–≠—Ç–∞ –ø–∞—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Map, —ç—Ç–æ –º–∞—Å—Å–∏–≤
```java
private final Cell[][] map = new Cell[HEIGHT][WIDTH];

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final Cell[][] cells = new Cell[HEIGHT][WIDTH];
```

- –¢–∞–∫ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–Ω–æ–≥–æ –µ–¥–∏–Ω–∏—Ü —Ç—Ä–∞–≤—ã –∏–ª–∏ –æ–¥–Ω—É –µ–¥–∏–Ω–∏—Ü—É? 
```java
public Map<Cell, Grass> getGrasses() {
  return grass;
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public Map<Cell, Grass> getGrasses() {
  return grasses;
}
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ–±—ä—è—Å–Ω—è—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ—Ç–æ–¥. 

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–∞–≤—É –≤ –∫–∞—Ä—Ç—É. 
–ù–æ —É–º–∞–ª—á–∏–≤–∞–µ—Ç –æ —Ç–æ–º, —á—Ç–æ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫, –∞ –ø–æ –∫–∞–∫–æ–π-—Ç–æ —Ö–∏—Ç—Ä–æ–π –ª–æ–≥–∏–∫–µ
```java
public void setGrass(CoordinatesData coords) {
  //...
  if (new Random().nextInt(100) < 20) {
    cell.setOccupant(new Grass());
    //...
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public void setGrass–ö—Ä–∞—Ç–∫–æ–µ–û–ø–∏—Å–∞–Ω–∏–µ–£—Å–ª–æ–≤–∏–π(CoordinatesData coords)
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±–º–∞–Ω—ã–≤–∞–µ—Ç. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç, –∞ –Ω–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –µ–¥—ã
```java
public void increaseSatietyLevelAfterEating() {
  this.satietyLevel++;
}
```
–Ø —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –º–æ–≥—É –≤—ã–∑–≤–∞—Ç—å –ø–æ—Å–ª–µ –µ–¥—ã, –ø–µ—Ä–µ–¥ –µ–¥–æ–π, –≤–º–µ—Å—Ç–æ –µ–¥—ã- —Ñ–∞–∫—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–µ–¥–∞–Ω–∏—è –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç—Ç–∏–º –º–µ—Ç–æ–¥–æ–º.

- –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±–º–∞–Ω—ã–≤–∞–µ—Ç. –ú–µ—Ç–æ–¥ –∏—â–µ—Ç –ø—É—Ç—å, –∞ –Ω–µ –±–ª–∏–∂–∞–π—à–∏–π —Ä–µ—Å—É—Ä—Å
```java
public class PathFinder {
  public static List<CoordinatesData> findNearestResource(...) {...}
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public class PathFinder {
  public static List<CoordinatesData> find(...) {...}
}
```

- –°–ø–∏—Å–∫–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –≤–æ –º–Ω–æ–∂–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ
```java
private final List<Action> initAction;

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final List<Action> initActions;
```

- –î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—É—Ç–∞–Ω–∏—Ü—ã, –Ω–µ –Ω–∞–∑—ã–≤–∞–π –ø–æ–ª–µ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –º–µ—Ç–æ–¥
```java
private final List<Action> initAction;
//...

private void initAction() {
  initAction.add(...);
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final List<Action> initActions;
//...

private void initializeInitActions() <-- –ù–£ –•–û–¢–Ø –ë–´ –¢–ê–ö
```

- –ì–µ—Ç—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω —á—Ç–æ-—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å. –ì–µ—Ç—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç- –Ω–æ–Ω—Å–µ–Ω—Å
```java
void getActions()
```

- –ú–µ—Ç–æ–¥—ã –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Å—Ç–∏–ª–µ–º camelCase
```java
private void PlanActions()

//–ü–†–ê–í–ò–õ–¨–ù–û:
private void planActions()
```
*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*  


**2. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç- –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞, –∞ –Ω–µ —ç–∫–æ–Ω–æ–º–∏—è —Å—Ç—Ä–æ–∫**

–í–≤–æ–¥–∏ –ø–æ—è—Å–Ω—è—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–µ–ª–∞–π –ø—Ä–æ–≥—Ä–∞–º–º—É –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–π
```java
creatures.put(getCell(coords.getCol(), coords.getRow()),
  getCreature(coords.getCol(), coords.getRow()));

//–ü–†–ê–í–ò–õ–¨–ù–û:
Cell cell = getCell(coords.getCol(), coords.getRow();
Creature creature = getCreature(coords.getCol(), coords.getRow());
creatures.put(cell, creature);
```

**3. –ï—Å–ª–∏ –≤ –±–ª–æ–∫–µ if –µ—Å—Ç—å return**(break, continue, throw, exit –∏ —Ç.–¥.), —Ç–æ else –Ω–µ –ø–∏—à–µ—Ç—Å—è.
 
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ–≤–∞–∂–Ω–æ, –±—É–¥–µ—Ç else –∏–ª–∏ –Ω–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ, –∞ –∫–æ–¥ –±–µ–∑ `else` –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —á–∏—Ç–∞–±–µ–ª—å–Ω–µ–π
```java
if (randomNum < 50) {
 return new Earth();
} else if (randomNum < 75) {
  return new Grass();
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
if (randomNum < 50) {
 return new Earth();
} 
if (randomNum < 75) {
  return new Grass();
}
```

**4. –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY**, –º–∞–≥–∏—á–µ—Å–∫–∏–µ –±—É–∫–≤—ã, —á–∏—Å–ª–∞, —Å–ª–æ–≤–∞. –í–≤–æ–¥–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã. –ê –µ—Å–ª–∏ –æ–Ω–∏ —É–∂–µ –µ—Å—Ç—å- –ø–æ–ª—å–∑—É–π—Å—è 
```java
private static final String INTRO = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏–º—É–ª—è—Ü–∏—é!\n" +
   "–î–ª—è —Å—Ç–∞—Ä—Ç–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤–≤–µ–¥–∏—Ç–µ \"S\"\n–î–ª—è –ø–∞—É–∑—ã –≤–≤–µ–¥–∏—Ç–µ \"P\"\n–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤–≤–µ–¥–∏—Ç–µ \"E\"\n–î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–≤–µ–¥–∏—Ç–µ \"exit\"";
private static final String START_COMMAND = "s";
private static final String PAUSE_COMMAND = "p";
private static final String STOP_COMMAND = "e";
private static final String EXIT_PROGRAM = "exit";

//–ü–†–ê–í–ò–õ–¨–ù–û:
private static final String START_COMMAND = "s";
private static final String PAUSE_COMMAND = "p";
private static final String STOP_COMMAND = "e";
private static final String EXIT_PROGRAM = "exit";

private static final String INTRO = """
   –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏–º—É–ª—è—Ü–∏—é!
   –î–ª—è —Å—Ç–∞—Ä—Ç–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤–≤–µ–¥–∏—Ç–µ '%s'
   –î–ª—è –ø–∞—É–∑—ã –≤–≤–µ–¥–∏—Ç–µ '%s'
   –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤–≤–µ–¥–∏—Ç–µ '%s'
   –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–≤–µ–¥–∏—Ç–µ '%s'
   """.formatted(START_COMMAND, PAUSE_COMMAND, STOP_COMMAND, EXIT_PROGRAM);

```
*–§–∞—É–ª–µ—Ä, "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥", –≥–ª.8, "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*  
*refactoring.guru "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª—å–Ω–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*

**5. class CoordinatesData**

+ üëç –ù–µ—Ç –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

+ üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –ø–æ–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è row/column –∞ –Ω–µ y/x. –ú–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è.  
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç, –ø—É—Ç–∞–Ω–∏—Ü—ã —Å –ø–æ—Ä—è–¥–∫–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤–∞—Ö: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞(x,y), –∞ –≤ –º–∞—Å—Å–∏–≤–∞—Ö –Ω–∞–æ–±–æ—Ä–æ—Ç- –º–∞—Å—Å–∏–≤[y, x].

- –ö–ª–∞—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ record –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

**6. class Cell**

–ó–∞–±–µ–≥–∞—è –≤–ø–µ—Ä–µ–¥, —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –∑–¥–µ—Å—å –ª–∏—à–Ω–∏–π.  
–ö–ª–∞—Å—Å —Ö—Ä–∞–Ω–∏—Ç –≤ —Å–µ–±–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É, –±–∞–∑–æ–≤—ã–π —ç–Ω—Ç–∏—Ç–∏(—Ç—É—Ç –æ–Ω –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–∫–∫—É–ø–∞–Ω—Ç) –∏ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫
```java
public class Cell {

private final CoordinatesData coordinates;
  private Occupant occupant;
  private Cell parentCell;
  //...
}
```
–Ø –Ω–µ –º–æ–≥—É –ø–æ–Ω—è—Ç—å, –∫–∞–∫—É—é —Å—É—â–Ω–æ—Å—Ç—å –∏–∑ —Å–µ–±—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç –∫–ª–∞—Å—Å.  

–≠—Ç–æ node –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–ª—è –ü–æ–∏—Å–∫–∞ –ø—É—Ç–∏?  
–¢–æ–≥–¥–∞ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–º–µ—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ø—Ä–µ–¥–∫–∞.

–≠—Ç–æ —Å—É—â–Ω–æ—Å—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –µ–Ω—Ç–∏—Ç–∏ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ?  
–¢–æ–≥–¥–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–µ–¥–∫–∞ —ç—Ç–æ –ª–∏—à–Ω–µ–µ. 
–ò –≤ –ö–∞—Ä—Ç–µ –¥–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–µ—à–º–∞–ø—É- –æ–Ω–∞ –∫–∞–∫ —Ä–∞–∑ –∏ –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å —Å–≤—è–∑–∫—É "–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞-—Å—É—â–µ—Å—Ç–≤–æ" —Å–∞–º—ã–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.

–≠—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –∏ –¥–ª—è –ö–∞—Ä—Ç—ã(—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤) –∏ –¥–ª—è –ü–æ–∏—Å–∫–∞ –ø—É—Ç–∏(—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫)?  
–¢–æ–≥–¥–∞ —ç—Ç–æ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–≤–º–µ—â–∞–µ—Ç –≤ —Å–µ–±–µ –¥–≤–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–∞—Ä—É—à–∞–µ—Ç SRP.  
–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞- —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—ã–ª–µ—Å–æ—Å-–∫–æ—Ñ–µ–≤–∞—Ä–∫–∞. –°–¥–µ–ª–∞—Ç—å –º–æ–∂–Ω–æ, –Ω–æ –Ω–∏–∫–æ–º—É —Ç–∞–∫–æ–π –Ω–µ –Ω—É–∂–µ–Ω.

**7. class SimulationMap**

- –ö–∞—Ä—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã, –ø–æ—ç—Ç–æ–º—É —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π- –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –∏–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –∫–∞—Ä—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
```java
public final static int WIDTH = 12;
public final static int HEIGHT = 12
```
–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–∏(8x8) –∏–ª–∏ –∏–≥—Ä—ã –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏(3x3).  
–¢–æ –µ—Å—Ç—å –≤ —Ç–µ—Ö –∏–≥—Ä–∞—Ö, –≥–¥–µ —Ä–∞–∑–º–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –∂–µ—Å—Ç–∫–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª–∞–º–∏.  
–ó–¥–µ—Å—å —Ä–∞–∑–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Ä—Ç—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤.

- –ò–∑–±—ã—Ç–æ—á–Ω–æ —Å–ª–æ–∂–Ω–æ–µ, –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤.

–ö–∞—Ä—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤, –∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ "—è—á–µ–π–∫–∏", –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å—É—â–µ—Å—Ç–≤
```java
private final Cell[][] map = new Cell[HEIGHT][WIDTH];
```
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ–ª–æ–∂–µ–Ω–∏–µ –µ–Ω—Ç–∏—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: —á–µ—Ä–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –≤ `Cell` –∏ —á–µ—Ä–µ–∑ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ —è—á–µ–π–∫–∏(Cell) –≤ —è—á–µ–π–∫–µ –º–∞—Å—Å–∏–≤–∞(—Å–æ—Ä—è–Ω –∑–∞ —Ç–æ–≤—Ç–æ–ª–æ–≥–∏—é).

–•—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤ –≤ –º–∞—Å—Å–∏–≤–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ –∏ –Ω–∞—Ä—É—à–∞–µ—Ç —á–µ–∫–ª–∏—Å—Ç –¢–ó
```
–ü—Ä–æ–±–ª–µ–º—ã –∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ:  ...–ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —è—á–µ–µ–∫
```
–ó–¥–µ—Å—å –∏–º–µ—Ç—Å—è –≤–≤–∏–¥—É, —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤ –≤ –º–∞—Å—Å–∏–≤–µ- –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ. –•—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤ –≤ —Ö–µ—à–º–∞–ø–µ- –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ.

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—É—â–µ—Å—Ç–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
```java
private final Map<Cell, Creature> creatures = new ConcurrentHashMap<>();
private final Map<Cell, Grass> grass = new ConcurrentHashMap<>();
```
–≠—Ç–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞ –¢–ó
```
–ü—Ä–æ–±–ª–µ–º—ã –∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ:
–ö–ª–∞—Å—Å Map ...–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—É—â–µ—Å—Ç–≤ (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–≤–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è)
```

–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤ –≤ –ö–∞—Ä—Ç–µ –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è, –≤–æ—Ç —Ç–∞–∫–∞—è:
```java
private final Map<Coordinates, Entity> entities = new ConcurrentHashMap<>();
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP, –º–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π. 

–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–∞ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∏–º–∏: –≤—Å—Ç–∞–≤–∏—Ç—å, –≤—ã–¥–∞—Ç—å –æ–¥–Ω–æ —Å—É—â–µ—Å—Ç–≤–æ –∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ö—Ä–∞–Ω–∏–º—ã—Ö —Å—É—â–µ—Å—Ç–≤, —É–¥–∞–ª–∏—Ç—å.
–ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –º–µ—Ç–æ–¥ –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –∑–Ω–∞—á–∏—Ç –æ–Ω –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã, –∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ —á—É–∂–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
–ó–¥–µ—Å—å –º–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π: –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è Creature/Herbivore/etc, –≤–µ—Ä–Ω—É—Ç—å —Å–ª—É—á–∞–π–Ω–æ–≥–æ –æ–∫–∫—É–ø–∞–Ω—Ç–∞ –∏ —Ç.–¥.

–ù–∞–≤–µ—Ä–Ω–æ–µ, –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ü–µ–ª–æ–º –ø–æ–ª–µ–∑–Ω–æ –∏–º–µ—Ç—å –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –æ–∫–∫—É–ø–∞–Ω—Ç–∞. 
–ù–æ —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã- —Ö—Ä–∞–Ω–µ–Ω–∏—é —Å—É—â–µ—Å—Ç–≤ –≤ —Å–µ–±–µ.  
–î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è/–≤—ã–¥–∞—á–∏ —Å—É—â–µ—Å—Ç–≤, –∫–∞—Ä—Ç–µ –Ω–µ –Ω—É–∂–Ω–æ —É–º–µ—Ç—å –∏—Å–∫–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–≥–æ –æ–∫–∫—É–ø–∞–Ω—Ç–∞.  

–ú–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ç–µ—Ö –∫–ª–∞—Å—Å–∞—Ö, –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.
–ï—Å–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —Ç–æ –º–µ—Ç–æ–¥ –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä, SimulationMapUtils.

- –ö–∞—Ä—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ —Å–∞–º–∞ —Å–µ–±—è –∑–∞—Å–µ–ª—è—Ç—å —Å—É—â–µ—Å—Ç–≤–∞–º–∏. 
–ò–Ω–∞—á–µ –æ–Ω–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –∏ –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–≥—Ä—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏ —Å—É—â–µ—Å—Ç–≤ –Ω–∞ –∫–∞—Ä—Ç–µ
```java
private void fillMap() {
  //...  
  map[row][col] = new Cell(new CoordinatesData(col, row), getRandomOccupant());  <-- –ù–ê–ß–ê–õ–¨–ù–û–ï –ó–ê–°–ï–õ–ï–ù–ò–ï –°–£–©–ï–°–¢–í –ù–ê –ö–ê–†–¢–£
}

private Occupant getRandomOccupant()  <-- –°–û–ó–î–ê–ï–¢ –°–õ–£–ß–ê–ô–ù–û–ï –°–£–©–ï–°–¢–í–û –î–õ–Ø –ó–ê–°–ï–õ–ï–ù–ò–Ø
```
–û–±—ä–µ–∫—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω —Å–∞–º —Å–µ–±—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å.  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–ö", –≥–ª.11, "–û—Ç–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –æ—Ç –µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"*

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY. –ú–µ—Ç–æ–¥—ã –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ- –ø–æ–º–µ—â–∞—é—Ç –≤ –∫–∞—Ä—Ç—É —Å—É—â–µ—Å—Ç–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
```java
public void setGrass(CoordinatesData coords) {
  Cell cell = getCell(coords.getCol(), coords.getRow());
  if (new Random().nextInt(100) < 20) {
    cell.setOccupant(new Grass());
    grass.put(getCell(coords.getCol(), coords.getRow()),
    getGrasses(coords.getCol(), coords.getRow()));
  }
}

public void setCarnivore(CoordinatesData coords) {
  Cell cell = getCell(coords.getCol(), coords.getRow());
  if (new Random().nextInt(100) < 15) {
    cell.setOccupant(new Carnivore());
    creatures.put(getCell(coords.getCol(), coords.getRow()),
    getCreature(coords.getCol(), coords.getRow()));
  }
}
```
–û–±—â–∏–π –∫–æ–¥ –≤—ã–Ω–æ—Å–∏ –≤–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã.

- –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ –≤—ã–Ω–æ—Å–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```java
if (randomNum < 50) {
 return new Earth();
} else if (randomNum < 75) {
  return new Grass();
}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏, –∫–ª–∞—Å—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –∫–æ–¥—É –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–º—É
```java  
public Map<Cell, Grass> getGrasses() {
  return grass;
}
```
–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å HashMap –ö–∞—Ä—Ç—ã –Ω–∞–ø—Ä—è–º—É—é, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∫–∞—Ä—Ç–æ–π —Å–ø–æ—Å–æ–±—ã. 
–ù–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫
```java
–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞ = new –ö–∞—Ä—Ç–∞();
<–∑–∞—Å–µ–ª–∏—Ç—å –∫–∞—Ä—Ç—É —Å—É—â–µ—Å—Ç–≤–∞–º–∏>
–∫–∞—Ä—Ç–∞.getGrasses().clear(); //–≥–µ–Ω–æ—Ü–∏–¥- —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–∞—Ä—Ç—ã –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤, –º–∏–Ω—É—è –¥–æ–∑–≤–æ–ª–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ–π –º–µ—Ö–∞–Ω–∏–∑–º—ã
```
–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è –≥–∏–±—Ä–∏–¥–æ–º —Å–æ –≤—Å–µ–º–∏ –≤—ã—Ç–µ–∫–∞—é—â–∏–º–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏: *"–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.6*

–¢—É—Ç –µ—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ:  
–õ–∏–±–æ –≤–µ—Ä–Ω—É—Ç—å –Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª –º–∞–ø—ã, –∞ –µ–µ –∫–æ–ø–∏—é: 
```java
public Map<Cell, Grass> getGrasses() {
  return new HashMap(grass);
}
```

–õ–∏–±–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—É—â–µ—Å—Ç–≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ:
```java
public Entity get(Coordinate coordinate)
public Coordinates getCoordinates(Entity entity)
```
–õ–∏—á–Ω–æ –º–Ω–µ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ. 

- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö —É—Å–ª–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.  
–£—Å–ª–æ–≤–∏–µ –¥–æ–ª–∂–Ω–æ —Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è —Å—Ä–∞–∑—É, –∞ –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–Ω–æ–≤–æ –≤ –≥–æ–ª–æ–≤–µ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∫–æ–¥–∞ 
```java
if (new Random().nextInt(100) < 15) {...}

//–ü–†–ê–í–ò–õ–¨–ù–û:
int randomNumber = new Random().nextInt(100); 
if (randomNumber < 15) {...}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ OCP. 

–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ –≤—Å–µ–º–∏ —Ö—Ä–∞–Ω–∏–º—ã–º–∏ —Å—É—â–µ—Å—Ç–≤–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫-—Ç–æ –ø–æ-–æ—Å–æ–±–æ–º—É —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –∏ –Ω–µ –¥–æ–ª–∂–Ω–∞ –¥–∞–∂–µ –∑–Ω–∞—Ç—å –ø–æ –∏–º–µ–Ω–∞–º –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ Entity
```java
public Map<Cell, Creature> getCreatures() {...}
public Map<Cell, Grass> getGrasses() {...}

//–ü–†–ê–í–ò–õ–¨–ù–û –¢–ê–ö:
public List<Entity> getAll() //–∏ —Ç–æ–≥–¥–∞ –ø—É—Å—Ç—å –∫–ª–∏–µ–Ω—Ç –æ—Ç–±–∏—Ä–∞–µ—Ç –æ—Ç—Å—é–¥–∞ –∫—Ä–µ–∞—Ç—É—Ä

//–ò–õ–ò –¢–ê–ö:
public List<? extends Entity> getAllBy(Class<? extends Entity> clazz)  //–≤–µ—Ä–Ω—É—Ç—å —Å—É—â–µ—Å—Ç–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ 
```
–ï—Å–ª–∏ –∫–∞—Ä—Ç–∞ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å –ø–æ –∏–º–µ–Ω–∞–º –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ Entity –∏ –∏–º–µ—Ç—å –¥–ª—è –Ω–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Ç–æ –∫–ª–∞—Å—Å –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.  
–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç –∫–ª–∞—Å—Å–∞ –ü—Ç–∏—Ü–∞, –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å –ö–∞—Ä—Ç–∞ –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–µ–≥–æ –º–µ—Ç–æ–¥ `getBirds()`.

‚ùå –ö–ª–∞—Å—Å —Å–æ–±—Ä–∞–ª –≤ —Å–µ–±–µ —Ö—É–¥—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –∫–ª–∞—Å—Å–∞ –ö–∞—Ä—Ç–∞.


**8. class PathFinder**

- –°–æ–±–ª—é–¥–∞–π —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —É—Ç–∏–ª–∏—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.

–≠—Ç–æ —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å, –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã. 
–£—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `final` –∏ –∏–º–µ—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.  
–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç —É—Ç–∏–ª–∏—Ç—ã –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –µ–µ —ç–∫–∑–µ–º–ø–ª—è—Ä.  
*–ë–ª–æ—Ö, "Java. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", –∏–∑–¥.3, –≥–ª.2.4*

- –≠—Ç–æ —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å, –∞ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä. –ü–æ—ç—Ç–æ–º—É –Ω–µ –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–∞–∫–µ—Ç–µ "controller".

- –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥–æ–º –ø–æ–∏—Å–∫–∞- –Ω–µ—è—Å–Ω–æ.

–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥, –≤—Å–µ –ø—Ä–æ—Å—Ç–æ. 
–ï—Å—Ç—å –º–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–∞, —Ç–æ—á–∫–∞ —Å—Ç–∞—Ä—Ç–∞ –∏ –∫–ª–∞—Å—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–µ–ª–∏
```java
public static List<CoordinatesData> findNearestResource(SimulationMap map, CoordinatesData startCoords, TargetChecker targetChecker)
```
–ù–æ —ç—Ç–æ—Ç —Ç–∞—Ä–≥–µ—Ç—á–µ–∫–∫–µ—Ä —Å—É–ø–µ—Ä–∑–∞–≥–∞–¥–æ—á–µ–Ω
```java
@FunctionalInterface
public interface TargetChecker {
  boolean isResource(SimulationMap map, CoordinatesData startCords);
}
```
–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —ç—Ç–æ –≤—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ü–µ–ª—è—Ö –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏, –Ω—É–∂–Ω–æ –¥–æ–ª–≥–æ –∫–æ–≤—ã—Ä—è—Ç—å—Å—è –≤ –∫–æ–¥–µ.

–Ø –±—ã –ø–æ–Ω—è–ª, –µ—Å–ª–∏ –±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å —Ü–µ–ª–∏ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–ø—Ä–µ–¥–µ–ª—è–ª —Ü–µ–ª—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —Ç–∞–∫:
```java
public interface TargetChecker {
    boolean isTarget(Entity entity);
}
```
–¢–æ–≥–¥–∞ –±—ã–ª–æ –±—ã –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–∏—Å–∫–æ–º –∏ —á—Ç–æ –æ–Ω –±—ã –¥–µ–ª–∞–ª –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ:  
–ò—Å–∫–∞–ª –≤ –∫–∞—Ä—Ç–µ –ø—É—Ç—å –æ—Ç —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –¥–æ –±–ª–∏–∂–∞–π—à–µ–π —Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è targetChecker'–æ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –∫–∞–∫ —Ü–µ–ª—å.

–ï—â–µ –ø—Ä–æ—â–µ, –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤–æ –µ—Å—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–∏–¥ –µ–¥—ã, –ø–µ—Ä–µ–¥–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É –∫–ª–∞—Å—Å –µ–¥—ã –∫–∞–∫ —Ü–µ–ª—å
```java
public List<Coordinates> find(SimulationMap simulationMap, Coordinates start, Class<? extends Entity> target) {
  //–∏—â–µ—Ç –ø—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ simulationMap –æ—Ç —Ç–æ—á–∫–∏ start
  //–¥–æ —Ç–æ—á–∫–∏, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞(–Ω–∞–ø—Ä. target == Grass.class)
}
```

**9. enum OccupantType**

–ï–Ω–∞–º —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–æ–≤
```java
public enum OccupantType {
  CARNIVORE, HERBIVORE, GRASS, ROCK, EARTH, TREE
}
```
–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –∫–ª–∞—Å—Å–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –¥—É–±–ª–∏—Ä—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã.  
–ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞–Ω–¥–∞—Ä–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–æ–≤ –∫ –∫–ª–∞—Å—Å–∞–º:
```java
String name = entity.getClass().getSimpleName();

switch (name) {
  case "Herbivore": //...
  case "Predator":  //...
}
```

**10. abstract class Occupant**

- –ù–µ–π–º–∏–Ω–≥.

–ü–æ —Å—É—Ç–∏, —ç—Ç–æ –∫–ª–∞—Å—Å Entity –∏–∑ –¢–ó:
```java
Entity 
–ö–æ—Ä–Ω–µ–≤–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤ –∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤ —Å–∏–º—É–ª—è—Ü–∏–∏.
```
–ü–æ—á–µ–º—É —Ç—ã —Ä–µ—à–∏–ª –µ–≥–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ –æ–∫–∫—É–ø–∞–Ω—Ç–∞, –º–Ω–µ –Ω–µ—è—Å–Ω–æ.
–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —á–∏—Ç–∞–π –¢–ó –∏ —Å–æ–±–ª—é–¥–∞–π –µ–≥–æ, —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –Ω–∞–≤—ã–∫ –≤ —Ä–∞–±–æ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞. 

–¢–µ—Ä–º–∏–Ω:
```
–û–∫–∫—É–ø–∞–Ω—Ç ‚Äî —ç—Ç–æ —Ç–æ—Ç, –∫—Ç–æ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –æ–∫–∫—É–ø–∞—Ü–∏–∏, —Ç–æ –µ—Å—Ç—å –Ω–∞—Å–∏–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–º –∑–∞—Ö–≤–∞—Ç–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω—ã –∏–ª–∏ –µ–µ —á–∞—Å—Ç–∏ –≤–æ–æ—Ä—É–∂–µ–Ω–Ω—ã–º–∏ —Å–∏–ª–∞–º–∏.
```
–ú–æ–∂–µ—Ç –ª–∏ —Ç—Ä–∞–≤–∞ –±—ã—Ç—å –æ–∫–∫—É–ø–∞–Ω—Ç–æ–º? –ù–µ—Ç, —Ç—Ä–∞–≤–∞ –Ω–µ —Å–ª—É–∂–∏—Ç –≤ –≤–æ–æ—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏–ª–∞—Ö.

–ï—Å–ª–∏ —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∞–Ω–æ –¥–ª—è –ª—É–ª–∑–æ–≤, —Ç–æ –Ω–µ –Ω–∞–¥–æ –ø–æ—à—É—Ç–µ–µ–∫ –≤ –∫–æ–¥–µ- –∫–æ–ª–ª–µ–≥ —ç—Ç–æ –±—É–¥–µ—Ç —Å–∏–ª—å–Ω–æ —Ä–∞–∑–¥—Ä–∞–∂–∞—Ç—å.  

- –ù–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é
```java
public abstract OccupantType getType();
```
–ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∫ —Ç–∏–ø–∞–º: `instanceof`, `getClass()`.

- –û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Ç–æ–º–∫–æ–≤ —Ö—Ä–∞–Ω–∏ –≤ –∏—Ö –ø—Ä–µ–¥–∫–µ.

–ï—Å–ª–∏ –≤—Å–µ –ø–æ—Ç–æ–º–∫–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–æ–±—â–∞—Ç—å —Å–≤–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–∏–ø, —ç—Ç–æ –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ—Ç–æ–º–∫–æ–≤.  
–ó–Ω–∞—á–∏—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—â–µ–≥–æ –ø—Ä–µ–¥–∫–∞
```java
public abstract class Occupant {
  public Occupant() {}
  public abstract OccupantType getType();
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public abstract class Occupant {
  private final OccupantType occupantType;

  public Occupant(OccupantType occupantType) {
    occupantType.this = occupantType;
  }
    
  public OccupantType getType() {...};
}
```
–î–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø.—Ç–∏–ø–∏–∑–∞—Ü–∏—é –≤–æ–æ–±—â–µ –Ω–µ–ª—å–∑—è. 
–ù–æ —è —Å–µ–π—á–∞—Å –≥–æ–≤–æ—Ä—é –æ –¥—Ä—É–≥–æ–º- –æ —Å–ø–æ—Å–æ–±–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤.

**11. abstract class Creature extends Occupant**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ Low Coupling, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Action.

```java
public abstract Action planAction(SimulationMap map, CoordinatesData startCords);
```
–°—É—â–µ—Å—Ç–≤–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å –ø—Ä–æ –∫–ª–∞—Å—Å—ã Action'—ã –∏ –∫–∞–∫-—Ç–æ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. 
–ü–æ–¥—Ä–æ–±–Ω–µ–µ —ç–∫—à–µ–Ω—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–∑–∂–µ, –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ —Ç–µ–∑–∏—Å.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –¢–ó. –ù–µ –≤–∏–∂—É –∑–¥–µ—Å—å –º–µ—Ç–æ–¥–∞ `makeMove(...)`, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ –¢–ó
```java
Creature #
–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç Entity ...–ò–º–µ–µ—Ç –º–µ—Ç–æ–¥ makeMove() - —Å–¥–µ–ª–∞—Ç—å —Ö–æ–¥.
```

**12. class Carnivore extends Creature**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ –û–û–ü. 

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞, –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –ø—Ä–µ–¥–∫–∞ –¥–æ–ª–∂–Ω—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∞ –Ω–µ —Å–µ—Ç–∏—Ç—å—Å—è  
```java
ublic class Carnivore extends Creature {

  private final int attackPower;

  public Carnivore() {
    this.attackPower = 5;
    setCurrentHealth(15);
    setSatietyLevel(6);
  }
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:

ublic class Carnivore extends Creature {
  private static final int HEALTH = 15;
  private static final int SATIETY_LEVEL = 6;
  private static final int ATTACK_POWER = 5;

  private final int attackPower;

  public Carnivore() {
    super(HEALTH, SATIETY_LEVEL);
    this.attackPower = ATTACK_POWER;
  }
  //...
}
```
*–≠–∫–∫–µ–ª—å "–§–∏–ª–æ—Å–æ—Ñ–∏—è Java", –≥–ª.5, "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é"*

**13. interface Action**

–î–µ–π—Å—Ç–≤–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–≤–µ—Ä—à–∞—Ç—å—Å—è –Ω–∞–¥ –º–∏—Ä–æ–º(–∫–∞—Ä—Ç–æ–π), –∞ –Ω–µ –Ω–∞–¥ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º —ç–∫—à–µ–Ω–æ–≤
```java
public interface Action {
  void perform(ActionManager actionManager);
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public interface Action {
  void perform(SimulationMap simulationMap);
}
```
–¢–ó –ø–æ —ç—Ç–æ–º—É –ø–æ–≤–∞–¥—É –≥–æ–≤–æ—Ä–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:
```
Action - –¥–µ–π—Å—Ç–≤–∏–µ, —Å–æ–≤–µ—Ä—à–∞–µ–º–æ–µ –Ω–∞–¥ –º–∏—Ä–æ–º. –ù–∞–ø—Ä–∏–º–µ—Ä - —Å—Ö–æ–¥–∏—Ç—å –≤—Å–µ–º–∏ —Å—É—â–µ—Å—Ç–≤–∞–º–∏. 
...–ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –∫–ª–∞—Å—Å–æ–º –∏ —Å–æ–≤–µ—Ä—à–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –∫–∞—Ä—Ç–æ–π.
```

**14. –ü—Ä–æ –∫–ª–∞—Å—Å—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Action**

- –ò–¥–µ—è `Action` –∑–¥–µ—Å—å –Ω–µ –æ—Å–º—ã—Å–ª–µ–Ω–∞. 

–ò–¥–µ—è —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–µ–º–µ–π—Å—Ç–≤–æ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö –æ–±—â–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.  
–ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ —Å–≤–æ–µ —Å –∫–∞—Ä—Ç–æ–π: –æ–¥–Ω–∞ –∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∑–∞—Å–µ–ª—è—Ç—å –∫–∞—Ä—Ç—É —Å—É—â–µ—Å—Ç–≤–∞–º–∏, –¥—Ä—É–≥–∞—è –¥–µ–ª–∞—Ç—å —Ö–æ–¥—ã –∏ —Ç.–¥.  
Action'—ã, –∏–∑–ª–æ–∂–µ–Ω–Ω—ã–µ –≤ –¢–ó, —ç—Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Command. 

–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥, —Å —ç–∫—à–µ–Ω–∞–º–∏ —É —Ç–µ–±—è –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ- –µ—Å—Ç—å –∫–ª–∞—Å—Å—ã `GlobalMoveAction` –∏ `EatingAction`.

–ù–æ —ç—Ç–∏ –∫–ª–∞—Å—Å—ã –Ω–µ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ- –æ–Ω–∏ –ø–æ —Å—É—Ç–∏ —è–≤–ª—è—é—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ `ActionManager`.  
–ê –∫–ª–∞—Å—Å `ActionManager`, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–±–æ—Ä–Ω–∏–∫ —Ñ—É–Ω–∫—Ü–∏–π, —Å–¥–µ–ª–∞–Ω–Ω—ã–π –≤ —Å—Ç–∏–ª–µ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.  
–í —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ —Å–æ–±—Ä–∞–Ω—ã –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞–¥ –∫–∞—Ä—Ç–æ–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º(?!)
```java
public class ActionManager {

  private final MapController controller;
  private final Map<OccupantType, EatingRules> eatingRules = new EnumMap<>(OccupantType.class);

  public void moveCreature(CoordinatesData start, CoordinatesData dest) {...}

  public void eating(CoordinatesData creatureCoords, CoordinatesData destCoords) {...}

  public void fillCreatures() {...}

  public void fillGrass() {...}

  public void checkEntitiesValue() {...}
}
```

–°–º—ã—Å–ª Action'–æ–≤ –ø–æ –¢–ó —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—â–∏–π –∫–ª–∞—Å—Å/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Action –∏ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏.  
–í –∫–∞–∂–¥–æ–º —ç–∫—à–µ–Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥(–Ω–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ).  
–≠—Ç–æ –≤–∞—Ä–∏–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Command- —ç–∫—à–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã –∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º. –ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫
```java
interface Action{
 void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞);
}

class –•–æ–¥–∏—Ç—åAction —Ä–µ–∞–ª–∏–∑—É–µ—Ç Action {
  void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–æ–±–æ–π—Ç–∏ –≤—Å—é –∫–∞—Ä—Ç—É
    //–Ω–∞–π—Ç–∏ –∫–∞–∂–¥—É—é –∫—Ä–µ–∞—Ç—É—Ä—É
    //–∏ –¥–∞—Ç—å –µ–π –ø–∏–Ω–∫–∞ —á—Ç–æ–± –ø–æ–±–µ–∂–∞–ª–∞
  }
}

class –î–∞—Ç—å–°–∏–≥–∞—Ä–µ—Ç—É–í—Å–µ–º–ó–∞–π—Ü–∞–ºAction —Ä–µ–∞–ª–∏–∑—É–µ—Ç Action {
  void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–æ–±–æ–π—Ç–∏ –≤—Å—é –∫–∞—Ä—Ç—É
    //–Ω–∞–π—Ç–∏ –≤—Å–µ—Ö –∑–∞–π—Ü–µ–≤ –∏ –¥–∞—Ç—å –∏–º –ø–æ —Å–∏–≥–∞—Ä–µ—Ç–µ 
  }
}

List<Action> actions = List.of(new –î–∞—Ç—å–°–∏–≥–∞—Ä–µ—Ç—É–í—Å–µ–º–ó–∞–π—Ü–∞–ºAction(), new –•–æ–¥–∏—Ç—åAction());
for(Action a: actions) {
  a.execute(–∫–∞—Ä—Ç–∞);
}

/*
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±–æ–π–¥–µ—Ç –≤—Å—é –∫–∞—Ä—Ç—É, –Ω–∞–π–¥–µ—Ç –≤—Å–µ—Ö –∫—Ä–µ–∞—Ç—É—Ä –∏ –¥–∞—Å—Ç –∏–º –ø–∏–Ω–∫–∞, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ–±–µ–∂–∞–ª–∏.
–ê –∫–∞–∂–¥–æ–º—É –∑–∞–π—Ü—É –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –¥–∞—Å—Ç —Å–∏–≥–∞—Ä–µ—Ç—É.
*/
```

–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ –∫–ª–∞—Å—Å—ã-—ç–∫—à–µ–Ω—ã –∏ `ActionManager` —è –Ω–µ –≤–∏–∂—É —Å–º—ã—Å–ª–∞.  
–ò—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ —ç—Ç–æ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ —Å–æ–∑–¥–∞–Ω–∏—é Action'–æ–≤.  
–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —ç–∫—à–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥—É—Ö–æ–º –¢–ó, –∞ –ø–æ—Ç–æ–º —Ç–æ–ª—å–∫–æ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç—å –∏—Ö –æ–±–æ–∑—Ä–µ–≤–∞—Ç—å.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –¢–ó. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–ª–∞—Å—Å-—ç–∫—à–µ–Ω –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–∞—Å–µ–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã —Å—É—â–µ—Å—Ç–≤–∞–º–∏
```
initActions - –¥–µ–π—Å—Ç–≤–∏—è, —Å–æ–≤–µ—Ä—à–∞–µ–º—ã–µ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º —Å–∏–º—É–ª—è—Ü–∏–∏. –ü—Ä–∏–º–µ—Ä - —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã –∏ —Å—É—â–µ—Å—Ç–≤ –Ω–∞ –∫–∞—Ä—Ç–µ.
```

**15. class MapController**

–ü—Ä–æ—Å—Ç–æ –µ—â–µ –∫–∞–∫–æ–π-—Ç–æ —Å–±–æ—Ä–Ω–∏–∫ —Ñ—É–Ω–∫—Ü–∏–π –≤ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º —Å—Ç–∏–ª–µ.

**16. class Renderer**

–ê—Ü–∫–∏–π –∞–¥. –ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Ö–æ–¥–∏—Ç, —Ç—Ä—É–¥–Ω–æ –æ–ø–∏—Å–∞—Ç—å —Å–ª–æ–≤–∞–º–∏. –≠—Ç–æ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—à–∏–±–æ–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

**17. class Simulation**

–ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–±—â–∞—è –ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.  
–ù–∞–ø—Ä–∏–º–µ—Ä
```java
//–°–ï–ô–ß–ê–° –¢–ê–ö:
void nextTurn() {  
  actionsQueue.clear();  <-- –®–û –¢–£–¢ –ò –ù–ò–ñ–ï –í–û–û–ë–©–ï –ü–†–û–ò–°–•–û–î–ò–¢?
  PlanActions();
  checkEntitiesValue();
  getActions();

  controller.getCreatures().clear();
  controller.getGrass().clear();

  actionManager.fillCreatures();
  actionManager.fillGrass();
}

//–î–û–õ–ñ–ù–û –ë–´–¢–¨ –ü–†–ò–ú–ï–†–ù–û –¢–ê–ö:
void nextTurn() {  
  for(Action action : turnActions) {  //–≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ —Ç—É—Ä–Ω-—ç–∫—à–µ–Ω—ã
    action.perform(simulationMap);
  }
  renderer.render(simulationMap);  //—Ä–∞—Å–ø–µ—á–∞–∫–∞ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞–∂–¥–æ–º —Ö–æ–¥–µ
}
```

–í —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ä–∞–±–æ—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—ã—Å–æ–∫–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π: –≤—ã–∑–æ–≤ —ç–∫—à–µ–Ω–æ–≤, —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞ –∏ —Ç.–¥.  
–í–æ—Ç —Ç–∞–∫–∏–µ –æ—à–º–µ—Ç–∫–∏ –±–æ–ª–µ–µ –Ω–∏–∑–∫–æ–π –ª–æ–≥–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–µ –∑–¥–µ—Å—å, –∞ –≤ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–∞—Ö
```java
private void PlanActions() {
  controller.getCreatures().keySet()
    .forEach(cell -> {
    Creature creature = controller.getCreatures().get(cell);
    ensureDeath(creature, cell);
    actionsQueue.add(creature.planAction(controller.getMap(), cell.getCoordinates()));
    setSatietyToAllCreatures(creature);
    setHealth(creature);
 });
}
```
–ù–µ –∑–Ω–∞—é, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥- –≤—Å–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç—É—Ç —Ç–∞–∫–∏–µ, —á—Ç–æ –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å —ç—Ç–æ –±–µ–∑ –∏–∑—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.  
–ù–æ —ç—Ç–æ —è–≤–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—å –∫–∞–∫–æ–π-—Ç–æ –±–æ–ª–µ–µ –Ω–∏–∑–∫–æ–π –ª–æ–≥–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤—É—é—â–µ–º –¥–ª—è –Ω–µ–µ —ç–∫—à–µ–Ω–µ.

## –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

–ö–æ–¥ —Ç—è–∂–µ–ª–æ —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑-–∑–∞ —Å–ø–∞–≥–µ—Ç—Ç–∏ –∫–æ–¥–∞ –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –≤ –æ—Å–Ω–æ–≤–µ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–ª–∞—Å—Å `Cell`.  
–ï—Å—Ç—å —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ —Å—Ç–∏–ª—è- –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Ç–∏–ø–∞ `ActionManager` –∏ `MapController`.

## –í–´–í–û–î

–ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—è—Å—å –¢–ó.  
–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Ä–∞–∑–±–µ—Ä–∏—Å—å —Å Action'–∞–º–∏, –ø–æ—Å–º–æ—Ç—Ä–∏ —Ä–æ–ª–∏–∫–∏ –Ω–∞ —é—Ç—É–±–µ –ø—Ä–æ –ø–∞—Ç—Ç–µ—Ä–Ω "Command", —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ –Ω–µ–º –æ–±—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –û–û–ü –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –°–µ—Ä–≥–µ—è –ø—Ä–æ —à–∞—Ö–º–∞—Ç—ã.  
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –ù–µ–º—á–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–æ SOLID.

n.125(276)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è 