https://github.com/Ciltonn/SimGame  
[–ï–ª–µ–Ω–∞ –ö–∞–∑–∞–∫–æ–≤–∞]

–í —Ü–µ–ª–æ–º, –Ω–µ–ø–ª–æ—Ö–æ. –ù–æ –µ—Å—Ç—å, –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å.

## –•–û–†–û–®–û

+ üëç –°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö
+ üëç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Å—É—â–µ—Å—Ç–≤–∞—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞—á–∏–Ω–∞—è —Å Creature 
+ üëç –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–∞—É–∑–∞/–ø—É—Å–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

- –ù–∞–∑–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Å—Ç–∏–ª–µ–º lower_snake
```
Factory
BFS

//–ü–†–ê–í–ò–õ–¨–ù–û:
factory
bfs
```

- –≠—Ç–∞ –ø–∞—Ä–∞ –æ–±—ã—á–Ω–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è row/column
```
public class Coordinates {
  private int line;
  private int column;
  //...
}
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≥–ª–∞–≥–æ–ª–æ–º –≤ –ø–æ–≤–µ–ª–∏—Ç–µ–ª—å–Ω–æ–º –Ω–∞–∫–ª–æ–Ω–µ–Ω–∏–∏
```
List<Coordinates> pathFinder(...)

//–ü–†–ê–í–ò–õ–¨–ù–û:
List<Coordinates> findPath(...)
```

- –ì–µ—Ç—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω —á—Ç–æ-—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å. –ì–µ—Ç—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç- –Ω–æ–Ω—Å–µ–Ω—Å
```
void getSprite(Location location, Coordinates coordinates)
```

*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*

**2. –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY**, –º–∞–≥–∏—á–µ—Å–∫–∏–µ –±—É–∫–≤—ã, —á–∏—Å–ª–∞, —Å–ª–æ–≤–∞. –í–≤–æ–¥–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```
System.out.println("[e] –¥–ª—è –≤—ã—Ö–æ–¥–∞");
if (input.equals("e")) {...}

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final static String EXIT = "e";

System.out.printf("[%s] –¥–ª—è –≤—ã—Ö–æ–¥–∞ \n", EXIT);
if (input.equals(EXIT)) {...}
```
*–§–∞—É–ª–µ—Ä, "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥", –≥–ª.8, "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*  
*refactoring.guru "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª—å–Ω–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*

**3. –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å –¥—Ä—É–≥–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –ø–ª–æ—Ö–æ –ø–æ–Ω–∏–º–∞–µ—Ç—Å—è**
```
System.out.println("Turn" + turnCount++);
```
–í–Ω–∏–º–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å, —á—Ç–æ —Ä–∞—Å–ø–µ—á–∞—Ç–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: 1 –∏–ª–∏ 2?
```
int turnCount = 1;
System.out.println("Turn" + turnCount++);
```

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç 1, –Ω–æ –ø—Ä–∏ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏ –∫–æ–¥–∞ –Ω–∞ –ª–µ—Ç—É –æ—Ç–≤–µ—Ç –æ—Ç–≥–∞–¥–∞—é—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –ª–∏—à—å –≤—Å–µ. –ü–æ—ç—Ç–æ–º—É –ª—É—á—à–µ —É–ø—Ä–æ—â–∞—Ç—å:
```
System.out.println("Turn" + turnCount);
turnCount++
```

**4. class Coordinates**

- –≠—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ —á–∏—Å–ª–∞, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏: x,y –∏–ª–∏ row,column.
–õ—É—á—à–µ –¥–∞–∂–µ, –µ—Å–ª–∏ —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –±—É–¥–µ—Ç record'–æ–º.

–ó–¥–µ—Å—å –∂–µ –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, —Ç–µ–º —Å–∞–º—ã–º –Ω–∞—Ä—É—à–∞—è SRP: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –¥–ª—è –∫–ª–∞—Å—Å–∞ –ö–∞—Ä—Ç—ã –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ —Ä–∞–∑–º–µ—Ä—ã –ö–∞—Ä—Ç—ã
```
public class Coordinates {
  public static final int MAX_LINE = 10;  <-- –≠–¢–û –ü–†–û–ë–õ–ï–ú–´ –ö–ê–†–¢–´
  public static final int MAX_COLUMN = 15; <-- –≠–¢–û –ü–†–û–ë–õ–ï–ú–´ –ö–ê–†–¢–´
  //...

  public boolean isValid() {  <-- –≠–¢–û –ü–†–û–ë–õ–ï–ú–´ –ö–ê–†–¢–´
    return ((getLine() < MAX_LINE && getLine() >= 0) &&
        (getColumn() < MAX_COLUMN && getColumn() >= 0));
  }
  //...
}
```
–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –≤–æ–æ–±—â–µ –∑–Ω–∞—Ç—å –ø—Ä–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã. –ò —Ç–µ–º –±–æ–ª–µ –Ω–µ –¥–æ–ª–∂–Ω–∞ —Ä–µ—à–∞—Ç—å –∑–∞ –∫–∞—Ä—Ç—É –µ–µ –ø—Ä–æ–±–ª–µ–º—ã.

- –î–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å record- —ç—Ç–æ –ø–æ–¥–æ–π–¥–µ—Ç –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –∏–≥—Ä—ã –Ω–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π –¥–æ—Å–∫–µ(–ú–æ—Ä—Å–∫—Å–æ–π –±–æ–π, –®–∞—Ö–º–∞—Ç—ã –∏ —Ç.–¥.):
```
public record Coordinates (int row, int column){
}
```
Record'—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å `hashCode()`, `equals()` –∏ `toString()`.  
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω—é–∞–Ω—Å- record'—ã immutable, –∞ –∑–Ω–∞—á–∏—Ç –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç—å –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –Ω–∏—Ö —Å–¥–µ–ª–∞—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.
–ù–æ —ç—Ç–æ –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–∞–∂–µ –ª—É—á—à–µ- –Ω–µ—Ç –æ—Å–æ–±—ã—Ö –æ—Å–Ω–æ–≤–∞–Ω–∏–π –¥–µ–ª–∞—Ç—å –ø–æ–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã row –∏ column –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏.

**5. class Location**, –∫–∞—Ä—Ç–∞ —Å–∏–º—É–ª—è—Ü–∏–∏

–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –∫–æ–º–ø–∞–∫—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ö–∞—Ä—Ç—ã
```
public class Location {
  private final Map<Coordinates, Entity> entities = new HashMap<>();

  public void addEntity(Coordinates coordinates, Entity entity) {
    entities.put(coordinates, entity);
  }
  public void removeEntity(Coordinates coordinates) { entities.remove(coordinates); }
  public Entity getEntity(Coordinates coordinates) { return entities.get(coordinates); }
  public List<Entity> getEntities() { return new ArrayList<>(entities.values()); }
}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. –ö–∞—Ä—Ç–∞ –∑–¥–µ—Å—å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ–∏ —Ä–∞–∑–º–µ—Ä—ã, —ç—Ç—É —á–∞—Å—Ç—å –µ–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞. 
–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç –≤ —Å–µ–±–µ –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–∞—Ä—Ç—ã.
–ú–µ—Ç–æ–¥—ã `boolean isValid(Coordinates coordinates)` –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∫–∞—Ä—Ç—É.

- –ö–∞—Ä—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã- –∫–æ—Ç–æ—Ä—ã–µ, –æ–ø—è—Ç—å –∂–µ, –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–µ –≤ –Ω–µ–π, –∞ –≤ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ. 
–ö–∞—Ä—Ç–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π.  

–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–∏(8x8) –∏–ª–∏ –∏–≥—Ä—ã –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏(3x3).  
–ó–¥–µ—Å—å —Ä–∞–∑–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Ä—Ç—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤.

–•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∫–∞—Ä—Ç—ã —ç—Ç–æ –µ—â–µ –æ–¥–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç—Å–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞ –∫–∞—Ä—Ç—ã- —ç—Ç—É —á–∞—Å—Ç—å –µ–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏—Å–≤–æ–∏–ª–∞ —Å–µ–±–µ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞. 
–ó–∞ —Å–≤–æ–∏ —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–≤–µ—á–∞—Ç—å —Å–∞–º–∞, –∞ –Ω–µ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—Ç—å —ç—Ç—É –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –∫–ª–∞—Å—Å—ã.
–î—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã, –∫–æ–≥–¥–∞ –∏–º –Ω—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä –†–µ–Ω–¥–µ—Ä–µ—Ä, –¥–æ–ª–∂–Ω—ã —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —ç—Ç–∏ —Ä–∞–∑–º–µ—Ä—ã —É —Å–∞–º–æ–π –∫–∞—Ä—Ç—ã, –∞ –Ω–µ —É —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –∫–ª–∞—Å—Å–æ–≤.

- –ü—Ä–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —É—á–∞—Å—Ç–∏–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã(–¥–æ–±–∞–≤–∏—Ç—å, –≤—ã–¥–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å –∏ —Ç.–¥.), –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å.
–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞(–Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –ø—Ä–µ–¥–µ–ª–æ–≤ –∫–∞—Ä—Ç—ã), –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
```
public void addEntity(Coordinates coordinates, Entity entity) {
  entities.put(coordinates, entity);
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public void addEntity(Coordinates coordinates, Entity entity) {
  if( /*–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–∞—Ä—Ç—ã*/) {
    throw new ... //–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
  }
  entities.put(coordinates, entity);
}

```
–°–µ–π—á–∞—Å –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∫–∞—Ä—Ç—ã.

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–π null
```
private final Map<Coordinates, Entity> entities = new HashMap<>();

public Entity getEntity(Coordinates coordinates) { 
  return entities.get(coordinates);  //–º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å null
}
```
–í–æ–∑–≤—Ä–∞—Ç null –ø–æ–≤—ã—à–∞–µ—Ç —Ä–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è NullPointerException –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.7.7-8*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å NULL?"*

- –í —Ü–µ–ª–æ–º, –∫–ª–∞—Å—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ- –∏ –≤ —ç—Ç–æ–º —Å–º—ã—Å–ª–µ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. 
–ù–æ –æ–Ω –Ω–∞—Ä—É—à–∞–µ—Ç SRP –ø–æ-–¥—Ä—É–≥–æ–º—É- —á–∞—Å—Ç—å —Å–≤–æ–µ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –æ–Ω –ø–µ—Ä–µ–¥–∞–ª –¥—Ä—É–≥–∏–º –∫–ª–∞—Å—Å–∞–º.

–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–µ–±–µ –∏ —Å–æ–æ–±—â–∞—Ç—å —Å–≤–æ–∏ —Ä–∞–∑–º–µ—Ä—ã- –±–µ–∑ —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É –∫–æ–¥—É –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞—Ä—Ç–æ–π, –∞ –∑–Ω–∞—á–∏—Ç —ç—Ç–∏ –º–µ—Ç–æ–¥—ã —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç —á–∞—Å—Ç—å –µ–µ SRP.  
–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –µ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç—ã.  
–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã- –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç—ã, –Ω—É–∂–Ω–æ –∫–∏–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. 
–í–∞–ª–∏–¥–∞—Ü–∏—é –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö, –≤–æ –≤—Ö–æ–¥—è—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞.

**6. class BFS**, –ø–æ–∏—Å–∫ –ø—É—Ç–∏

- –í–Ω–µ–∑–∞–ø–Ω—ã–π –Ω–µ–π–º–∏–Ω–≥. –ù–∏–∫—Ç–æ, –∫—Ä–æ–º–µ –∑–∞—è–¥–ª—ã—Ö —à–∞—Ö–º–∞—Ç–∏—Å—Ç–æ–≤, –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–æ–µ "rank" –∏ "file" –ø—Ä–∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º. 
–û—Å—Ç–∞–ª—å–Ω—ã–º —Å–ª–æ–≤–æ "file" –≤ —ç—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –º–æ–∂–µ—Ç –ø–æ–ª–æ–º–∞—Ç—å –º–æ–∑–≥
```
int newRank = current.getLine() + d[0];
int newFile = current.getColumn() + d[1];

Coordinates neighbors = new Coordinates(newRank, newFile);

//–ü–†–ê–í–ò–õ–¨–ù–û:
int line = current.getLine() + d[0];
int column = current.getColumn() + d[1];

Coordinates neighbors = new Coordinates(line, column);
```

- –°–º–µ—â–µ–Ω–∏—è –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∏–∑ –º–µ—Ç–æ–¥–∞ –∏ —Å–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏.  
–ò, —á—Ç–æ —Ç–∞–∫–æ–µ –ø–∞—Ä–∞ —Ö/—É? –ü—Ä–∞–≤–∏–ª—å–Ω–æ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞
```
public class BFS {
  //
  public List<Coordinates> pathFinder(...) {
    int[][] dir = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};
    //...
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public class BFS {
  private final static List<Coordinates> SHIFT_COORDINATES = List.of{
    new Coordinates(0, 1),
    new Coordinates(1, 0),
    //...
  };  
  //
  public List<Coordinates> pathFinder(...) {
    //...
  }
}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. –ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ –∏—Å–∫–∞—Ç—å –ø—É—Ç—å –æ—Ç —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –¥–æ —Ç–æ—á–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º —Å–æ–≥–ª–∞—Å–Ω–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É BFS –∏–ª–∏ AStar.  
–≠—Ç–∏ —É—Å–ª–æ–≤–∏—è –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ —Å–µ–±—è –∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —ç—Ç–∏ —É—Å–ª–æ–≤–∏—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä –ø—É—Ç–µ–º –æ–ø—Ä–æ—Å–∞ Creature –æ –µ–≥–æ –µ–¥–µ
```
public List<Coordinates> pathFinder(Location location, Class<? extends Creature> hunterClass, Coordinates start) {
  //...
  Class<? extends Entity> targetClass = Creature.getTarget(hunterClass);
  //..
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public List<Coordinates> pathFinder(Location location, Coordinates start, Class<? extends Entity> target) {
  //...
}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏. –ü—É–±–ª–∏—á–Ω—ã–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥- —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—â–µ—Ç –ø—É—Ç—å.

- –ö–∞–∫ —è —É–∂–µ –ø–∏—Å–∞–ª, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–π null
```
public List<Coordinates> pathFinder(Location location, Class<? extends Creature> hunterClass, Coordinates start) {
  if (start == null) {
    return null;
  }
  //...
}
```

**7. class Factory**

- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ "Factory" –º–æ–∂–µ—Ç –±—ã—Ç—å —É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏–ª–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–π–±—Ä–∏–∫
```
class Factory

//–¢–£–¢ –ü–†–ê–í–ò–õ–¨–ù–û:
class –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è–ü—Ä–æ–¥—É–∫—Ü–∏—èFactory
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏. –ü—É–±–ª–∏—á–Ω—ã–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥- —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø—Ä–æ–¥—É–∫—Ü–∏—é.
–¢–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å private. 

- –î—Ä—É–≥–æ–µ –¥–µ–ª–æ, —á—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —ç—Ç–∞ —Ñ–∞–±—Ä–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç. –ü–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç:
```
public class Factory {
  public void setEntities(Location location) {...}
  public void spawnPredator(Location location) {...}
  //...
} 
```
–§–∞–±—Ä–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é, –ª–∏–±–æ —ç—Ç–æ –Ω–µ —Ñ–∞–±—Ä–∏–∫–∞.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ñ–∞–±—Ä–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –ö–∞—Ä—Ç—É –∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞—Å–µ–ª—è–µ—Ç –µ–µ:
```
public class LocationFactory {
  private final static WIDTH = 20;
  private final static HEIGHT = 15;

  private final static PREDATOR_AMOUNT = 3;
  private final static TREE_AMOUNT = 5;
  private final static PREDATOR_AMOUNT = 3;
  //...

  public Location get() {
    Location location = new Location(WIDTH, HEIGHT);

    spawn(location, (coordinates) -> new Tree(), TREE_AMOUNT);
    
    spawn(location, 
       (coordinates) -> new Predator(
          coordinates, 
          PREDATOR_SPEED, 
          PREDATOR_HP, 
          PREDATOR_POWER
        ), 
        PREDATOR_AMOUNT);
    //...
    return location;
  }

  private void spawn(Location location, Function<Coordinates, Entity> mapper, int amount) {
    for(int i = 0; i < amount; i++) {
      Coordinates coordinates = getRandomEmptyCoordinates(location);
      Entity entity = mapper.apply(coordinates);
      location.addEntity(coordinates, entity);
    }
  }
  //...
} 
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY, –æ–ø–æ—Å—Ä–µ–¥–æ–≤–∞–Ω–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
```
for (int i = 0; i < 2; i++) {
  spawnTree(location);
}
for (int i = 0; i < 2; i++) {
  spawnRock(location);
}
//–µ—â–µ –º–∏–ª–ª–∏–æ–Ω —Ç–∞–∫–∏—Ö –∂–µ —Ü–∏–∫–ª–æ–≤

public void spawnTree(Location location) {
  Coordinates coordinates = randomCoordinates(location);
  location.addEntity(coordinates, new Tree());
}

public void spawnRock(Location location) {
  Coordinates coordinates = randomCoordinates(location);
  location.addEntity(coordinates, new Rock());
}
//–µ—â–µ –º–∏–ª–ª–∏–æ–Ω —Ç–∞–∫–∏—Ö –∂–µ –º–µ—Ç–æ–¥–æ–≤  
```
–í –ø—Ä–∏–º–µ—Ä–µ —Ñ–∞–±—Ä–∏–∫–∏ —è –ø–æ–∫–∞–∑–∞–ª, –∫–∞–∫ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ java, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ Function, –º–æ–∂–Ω–æ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Ç–∞–∫–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

**8. class SpawnEntities implements Action**

–ù–∞—Ä—É—à–µ–Ω–∏–µ DRY, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∫–∞–∫ –≤ –ø—Ä–æ—à–ª–æ–º –ø—Ä–∏–º–µ—Ä–µ.

**9. abstract class Entity –∏ –µ–≥–æ –ø—Ä–æ—Å—Ç—ã–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ Tree/Rock/Grass**

üëç –ò–¥–µ–∞–ª—å–Ω–æ
```
public abstract class Entity {
}
public class Rock extends Entity {
}
```

**10. abstract class Creature extends Entity**

- –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞(–Ω–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã) –¥–µ–ª–∞–π final.
–ü–æ—Å–º–æ—Ç—Ä–∏, —Ç–∞–º IDE –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç- –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç –∂–µ–ª—Ç—ã–º. 
–ü–æ—Å—Ç–∞–≤—å –∫—É—Ä—Å–æ—Ä –Ω–∞ —ç—Ç–æ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ-> —Å–ª–µ–≤–∞ –ø–æ—è–≤–∏—Ç—Å—è –∂–µ–ª—Ç–∞—è –ª–∞–º–ø–æ—á–∫–∞-> –Ω–∞–∂–∏ –Ω–∞ –Ω–µ–µ –õ–ö–ú-> "Make '–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è' final".
```
private int speed;
private int hp;

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final int speed;
private final int hp;
```

+ üëç –¢–æ–ª—å–∫–æ —Å —ç—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ Entity —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏. –ü—É–±–ª–∏—á–Ω—ã–º–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –∫–æ–¥–æ–º. 
–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `private` –∏ `protected`.
–ù–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–æ–¥ `moveEntity(...)` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å private –ø–æ—Ç–æ–º—É —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ `makeMove(...)`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–º.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP. –ü—Ä–µ–¥–æ–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å —Å–≤–æ–∏—Ö –ø–æ—Ç–æ–º–∫–æ–≤ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∑–∞ –Ω–∏—Ö –∏—Ö –ª–æ–≥–∏–∫—É
```
public abstract class Creature extends Entity {

  public static Class<? extends Entity> getTarget(Class<? extends Creature> hunterClass) {
    if (hunterClass.equals(Predator.class)) {
      return Herbivore.class;
    }
    if (hunterClass.equals(Herbivore.class)) {
      return Grass.class;
    }
    return null; <-- –ù–ò–ö–û–ì–î–ê –ù–ï –í–û–ó–í–†–ê–©–ê–ô NULL!!!!11
  }
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public abstract class Creature extends Entity {

  public abstract Class<? extends Entity> getTarget();
  //...
}

class Herbivore extends Creature {
  private final static Class<? extends Entity> TARGET = Grass.class;

  @Override
  public abstract Class<? extends Entity> getTarget() {
     return TARGET;
  } 
  //... 
}
```

- –°—Ä–∞–∑—É –∫–∞—Å—Ç—É–π
```
if (entity instanceof Creature) {
  ((Creature) entity).setCoordinates(newPosition);
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
if (entity instanceof Creature creature) {
  creature.setCoordinates(newPosition);
}
```

**11. class Herbivore/Predator extends Creature**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ OCP. –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ Entity, –ø—Ä–∏–¥–µ—Ç—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å –∏—Ö –≤ —ç—Ç–æ —É—Å–ª–æ–≤–∏–µ: –≤–≤–µ–ª –≤ –ø—Ä–æ–µ–∫—Ç –ß–µ–±—É—Ä–∞—à–∫—É- –¥–æ–±–∞–≤–∏–ª –≤ —ç—Ç–æ —É—Å–ª–æ–≤–∏–µ "&& !!(entity instanceof –ß–µ–±—É—Ä–∞—à–∫–∞)"
```
public class Predator extends Creature {
  @Override
  public boolean isPossibleCell(Coordinates coordinates, Location location){
    Entity entity = location.getEntity(coordinates);
    return entity==null|| !(entity instanceof Rock) && !(entity instanceof Tree) && !(entity instanceof Predator) && !(entity instanceof Grass);
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
return entity==null || entity instanceof Herbivore;
```

**12. class Renderer**

+ üëç –°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∑–¥–µ—Å—å, –∞ –Ω–µ –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö. –≠—Ç–æ —Ö–æ—Ä–æ—à–æ- –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

- –ü—Ä–∞–≤–∏–ª–æ "—Å—á–µ—Ç—á–∏–∫ –≤ —Ü–∏–∫–ª–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–Ω–æ–±—É–∫–≤–µ–Ω–Ω—ã–º" –Ω–µ –≤—Å–µ–≥–¥–∞ —è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º
```
for (int i = Coordinates.MAX_LINE - 1; i >= 0; i--) {
  for (int j = 0; j <= Coordinates.MAX_COLUMN - 1; j++) {
    Coordinates coordinates = new Coordinates(i, j);
  }
}

//–õ–£–ß–®–ï:
for (int line = Coordinates.MAX_LINE - 1; line >= 0; line--) {
  for (int column = 0; column <= Coordinates.MAX_COLUMN - 1; column++) {
    Coordinates coordinates = new Coordinates(line, column);
  }
}
```

- –í –∫–∞–∂–¥–æ–º switch-case –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å default. –ó–¥–µ—Å—å –≤ default –Ω—É–∂–Ω–æ –∫–∏–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. 
–ü–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞ –≤ –ø—Ä–æ–µ–∫—Ç, –º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ —Å–ø—Ä–∞–π—Ç –≤ —Ä–∞—Å–ø–µ—á–∞—Ç–∫—É.
–ò —Ç–æ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤–æ –±—É–¥–µ—Ç –∂–∏—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é, –Ω–æ –º—ã —ç—Ç–æ–≥–æ –Ω–µ —É–≤–∏–¥–∏–º- —Å—É—â–µ—Å—Ç–≤–æ –ø—Ä–æ—Å—Ç–æ –Ω–µ —Ä–∞—Å–ø–µ—á–∞—Ç–∞–µ—Ç—Å—è –∏ —ç—Ç–æ—Ç –≥–ª—é–∫ –±—É–¥–µ—Ç –≤—ã—è–≤–ª–µ–Ω –¥–∞–ª–µ–∫–æ –Ω–µ —Å—Ä–∞–∑—É.

- –ì–µ—Ç—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω —á—Ç–æ-—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å
```
public void renderInConsole(Location location) {
  //...  
  if (location.getEntity(coordinates) == null) {
    System.out.print(" . ");
  } else {
    getSprite(location, coordinates);
  }
  //...
}

private void getSprite(Location location, Coordinates coordinates) {
  Entity entity = location.getEntity(coordinates);
  //...

  switch (entity.getClass().getSimpleName()) {
    case "Herbivore":
      System.out.print(" \uD83D\uDC07");
      break;
    case "Predator":
      System.out.print(" \uD83D\uDC3A");
      break;
    //...  
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final static String HERBIVORE = "\uD83D\uDC07";
//oths const's

public void renderInConsole(Location location) {
  //...  
  if (location.isEmpty(coordinates)) {
    System.out.print(" . ");
  } else {
    Entity entity = location.getEntity(coordinates);
    String sprite = toSprite(entity);
    System.out.print(" " + sprite);
  }
  //...
}

private String toSprite(Entity entity) {
  return switch (entity.getClass().getSimpleName()) { <-- –ù–û–í–ê–Ø –£–î–û–ë–ù–ê–Ø –§–û–†–ú–ê –ó–ê–ü–ò–°–ò
    case "Herbivore" -> HERBIVORE;
    case "Predator" -> PREDATOR;
    default -> throw new ... //–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ —Å—É—â–µ—Å—Ç–≤–æ- –±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
  };
}
```

**13. class Simulation**

- –î–ª—è –¥–≤–∏–∂–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π Action, –∞ –Ω–µ –º–µ—Ç–æ–¥ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ
```
private void creatureMove() {...}
```

- –°–µ–π—á–∞—Å –≤ –∫–ª–∞—Å—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω Action
```
private final SpawnEntities spawnEntities = new SpawnEntities();
```
–°–æ–≥–ª–∞—Å–Ω–æ –¢–ó, –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è —ç–∫—à–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ —Å—Ç–∞—Ä—Ç–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –∏ –≤–æ –≤—Ä–µ–º—è –∫–∞–∂–¥–æ–≥–æ —Ö–æ–¥–∞.  
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
```
private final List<Action> initActions = List.of(new –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ–ó–∞—Å–µ–ª–µ–Ω–∏–µ–ö–∞—Ä—Ç—ã–°—É—â–µ—Å—Ç–≤–∞–º–∏Action());
private final List<Action> turnActions = List.of(new –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–†–µ—Å—É—Ä—Å–æ–≤Action(), new MoveAction());
```

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.

- –°–∏–º—É–ª—è—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –ó–¥–µ—Å—å- –∫–∞–∫ –º–∏–Ω–∏–º—É–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–∞—Ä—Ç—ã.
–°–µ–π—á–∞—Å –∫–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö.  
–ö–æ–≥–¥–∞ —Ç—ã –ø–µ—Ä–µ–¥–µ–ª–∞–µ—à—å –∫–∞—Ä—Ç—É –ø–æ-–Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É, —Ç–æ –µ—Å—Ç—å –∫–æ–≥–¥–∞ –ö–∞—Ä—Ç–∞ –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–≤–æ–∏ —Ä–∞–∑–º–µ—Ä—ã –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–∞—Ä—Ç—ã –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤ –º–∞–π–Ω–µ –∏ –¥–∞–ª–µ–µ –∏–Ω–∂–µ–∫—Ç–∏—Ç—å —ç—Ç—É –∫–∞—Ä—Ç—É –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –°–∏–º—É–ª—è—Ü–∏–∏.

- –ò–∑–±—ã—Ç–æ—á–Ω–æ
```
class Simulation {
  //...
  List<Entity> entities = new ArrayList<>(location.getEntities()); <-- –õ–ò–®–ù–Ø–Ø –ü–ï–†–ï–°–¢–†–ê–•–û–í–ö–ê
  //...
}

public class Location {
  //...
  public List<Entity> getEntities() {
    return new ArrayList<>(entities.values()); <-- –≠–¢–û –£–ñ–ï –ë–ï–ó–û–ü–ê–°–ù–û –î–õ–Ø –í–ù–£–¢–†–ï–ù–ù–û–°–¢–ï–ô –ö–ê–†–¢–´
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
class Simulation {
  //...
  List<Entity> entities = location.getEntities();
  //...
}
```

**14. class Main**, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ main

üëç –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –°–∏–º—É–ª—è—Ü–∏—é, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

## –í–´–í–û–î

–°–¥–µ–ª–∞—Ç—å Action'—ã –ø–æ –¢–ó.  
–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –û–û–ü –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –°–µ—Ä–≥–µ—è –ø—Ä–æ —à–∞—Ö–º–∞—Ç—ã.
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –ù–µ–º—á–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–æ SOLID.

n.93(210)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è 