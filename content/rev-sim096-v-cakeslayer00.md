https://github.com/cakeslayer00/nature-lifecycle-simulation  
[v]

–ï—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å.

## –•–û–†–û–®–û

+ üëç –°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö
+ üëç –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–∞—É–∑–∞/–ø—É—Å–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

- –í –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–µ –ø–∏—à–∏ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, –∫ –∫–æ—Ç–æ—Ä—ã–º –æ–Ω–∏ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è. –ò –≤–æ–æ–±—â–µ –Ω–µ —É–ø–æ—Ç—Ä–µ–±–ª—è–π –≤–µ–Ω–≥–µ—Ä—Å–∫—É—é –Ω–æ—Ç—Ç–∞—Ü–∏—é.  
–ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ–ª–∂–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∞ –Ω–µ –∫–∞–∫ —Ö—Ä–∞–Ω–∏—Ç
```
HashMap<Coordinate, Entity> map;

//–ü–†–ê–í–ò–õ–¨–ù–û:
HashMap<Coordinate, Entity> entities;  //–∏–ª–∏ coordinateWithEntities
```

- –î–ª—è –æ–¥–Ω–æ–π –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π –æ–¥–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ
```
Coordinate position

//–ü–†–ê–í–ò–õ–¨–ù–û:
Coordinate coordinate
```

- –ù–µ –Ω–∞–∑—ã–≤–∞–π –º–µ—Ç–æ–¥ "run" –µ—Å–ª–∏ –æ–Ω –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç `Runnable.run()`- –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å —ç—Ç–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–≤. 
–ó–¥–µ—Å—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –∏–º–µ–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ `Runnable.run()`
```
public class Simulation {
  //...
  public void run() {...}
}

//–ü–†–ê–í–ò–õ–¨–ù–û: start(), go(), execute(), perform(), –ø–æ–µ—Ö–∞–ª–∏() 
```

- –ù–∞–∑–≤–∞–Ω–∏–µ "map", –≤—Å—Ç—Ä–µ—á–∞—è—Å—å –≤ –∫–æ–¥–µ, –±—É–¥–µ—Ç –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ- –≤—Å–µ –±—É–¥—É—Ç –¥—É–º–∞—Ç—å, —á—Ç–æ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Map
```
GameMapImpl map = new GameMapImpl();

//–ü–†–ê–í–ò–õ–¨–ù–û:
GameMapImpl gameMap = new GameMapImpl();
```
*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*

**2. –ò—Å–ø–æ–ª—å–∑—É–π –∫–ª–∞—Å—Å—ã —á–µ—Ä–µ–∑ –∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**
```
HashMap<Coordinate, Entity> map;

//–ü–†–ê–í–ò–õ–¨–ù–û:
Map<Coordinate, Entity> entities;
```
–û–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ: ArrayList –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ List, HashMap- —á–µ—Ä–µ–∑ Map –∏ —Ç.–¥. 
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞.

–î–∞, –±—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å LinkedList –Ω—É–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–º–µ–Ω–Ω–æ –∫–∞–∫ —Å LinkedList, –∞ –Ω–µ —Å List. –ù–æ —ç—Ç–æ —É–∂–µ –Ω—é–∞–Ω—Å—ã.

**3. –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞**. –í –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≤—ã–¥–µ–ª—è–π —Ç–µ–ª–æ –±–ª–æ–∫–∞ —Å–∫–æ–±–æ—á–∫–∞–º–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–ª–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. 
–ò—Å–∫–ª—é—á–µ–Ω–∏–µ- –º–µ—Ç–æ–¥ equals(), —Ç–∞–º –º–æ–∂–Ω–æ –ø–æ—Å–ª–µ if –Ω–µ –≤—ã–¥–µ–ª—è—Ç—å –±–ª–æ–∫–∏ —Å–∫–æ–±–æ—á–∫–∞–º–∏
```
if (entity == null) continue;
if (path.isEmpty()) return new MoveIntent(Intent.STUCK, position);

//–ü–†–ê–í–ò–õ–¨–ù–û:
if (entity == null) {
  continue;
}
if (path.isEmpty()) {
  return new MoveIntent(Intent.STUCK, position);
}
```

**4. record Coordinate(int x, int y)**

üëç –ù–µ—Ç –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. Record –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã- –∏–¥–µ–∞–ª—å–Ω–æ
```
public record Coordinate(int x, int y) {
}
```

**5. interface GameMap**

+ üëç –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–∞—Ä—Ç—ã —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –µ–µ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –º–∞—Å—Å–∏–≤–µ –∏ —Ö–µ—à–º–∞–ø–µ.

- –£–∂–µ –ø–æ –º–µ—Ç–æ–¥–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–∏–¥–Ω–æ, —Ç–æ –∫–∞—Ä—Ç–∞ –Ω–µ—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –∏ –±—É–¥–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏- –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫–∞–∂—É—Ç —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç—ã. 
–ê –∑–Ω–∞—á–∏—Ç, –∫–∞—Ä—Ç–∞ —Å–≤–æ–∏ —Ñ–∞–±–µ—Ä–∂–µ —Ö—Ä–∞–Ω–∏—Ç –≤ —á—É–∂–æ–º —Å–µ—Ä–≤–∞–Ω—Ç–µ –∏ –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ–Ω–∞ –±—É–¥–µ—Ç
```
public interface GameMap {
  Entity getEntity(Coordinate coordinate);
  void putEntity(Coordinate coordinate, Entity entity);
  void removeEntity(Coordinate coordinate);
  boolean contains(Coordinate coordinate);
}
```

**6. class GameMapImpl implements GameMap**

- –ù–∞–∑–≤–∞—Ç—å –∫–ª–∞—Å—Å –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –ò–º—è–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞Impl —ç—Ç–æ —Å–∞–º—ã–π –ª–µ–Ω–∏–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç. 
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–ª–∞—Å—Å–∞ –ª—É—á—à–µ –æ—Ç—Ä–∞–∑–∏—Ç—å –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—É—Ç—å- —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ö–µ—à–º–∞–ø–µ: HashGameMap. 
–ü–æ—Ç–æ–º—É —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—Ä—É–≥–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞- –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ —Ö–µ—à–º–∞–ø—ã, –∞ –º–∞—Å—Å–∏–≤–∞.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏. –°–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –≤ —Å–µ–±–µ, –∞ –±–µ—Ä–µ—Ç –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –∫–ª–∞—Å—Å–∞
```
for (int i = 0; i < Simulation.HORIZONTAL_BOUND; i++) {
  for (int j = 0; j < Simulation.VERTICAL_BOUND; j++) {...}
}
```
–°–≤–æ–∏ —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å —Å–∞–º–∞. –†–∞–∑–º–µ—Ä—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∂–µ—Å—Ç–∫–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö, –∞ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç—Ä –∫–∞—Ä—Ç—ã. 
–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–∞—Ç–∞ –±—ã–ª–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –∏ –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º –∫–∞—Ä—Ç.

- –ö—Å—Ç–∞—Ç–∏, –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –º–µ–ª–æ—á—å: –¥–ª—è —Ü–∏–∫–ª–æ–≤ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∏–Ω–¥–µ–∫—Å—ã i, j. –ù–æ –±—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω–∞–º–Ω–æ–≥–æ –Ω–∞–≥–ª—è–¥–Ω–µ–µ –±—É–¥—É—Ç —Å–º–æ—Ç—Ä–µ—Ç—å—Å—è –¥—Ä—É–≥–∏–µ –∏–Ω–¥–µ–∫—Å—ã. –ù–∞–ø—Ä–∏–º–µ—Ä:
```
for (int y = 0; y < Simulation.HORIZONTAL_BOUND; y++) {
  for (int x = 0; x < Simulation.VERTICAL_BOUND; x++) {
    map.put(new Coordinate(x, y), null);
  }
}
```

- –ö–∞—Ä—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ "–ø—É—Å—Ç—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏", –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞-null. 
–ò–Ω–∞—á–µ —Ç–µ—Ä—è–µ—Ç—Å—è –≤—Å–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –¥–∞–µ—Ç HashMap –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π
```
map.put(new Coordinate(x, y), null);
```

–§–∞–∫—Ç–∏—á–µ—Å–∫–∏, —Ç—É—Ç HashMap —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–Ω–∞–ª–æ–≥–æ–º –æ–±—ã—á–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, —Ç–æ–ª—å–∫–æ —Ö—É–∂–µ, –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ –∑–∞–±–∏–≤–∞—è –ø–∞–º—è—Ç—å.
–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å—Ç—å –∏–≥—Ä–æ–≤–∞—è –¥–æ—Å–∫–∞ 100*100 –∏ –≤ –Ω–µ–π –µ–¥–∏–Ω–æ–º–æ–º–µ–Ω—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ–±—â–∏–º —á–∏—Å–ª–æ–º 150 —Ä–∞–∑–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤: –∫–∞–º–Ω–µ–π, —Ç—Ä–∞–≤—ã, –∑–∞–π—Ü–µ–≤ –∏ —Ç.–¥.
–¢–æ–≥–¥–∞ –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–µ–Ω–∏–∏ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –º–∞–ø–µ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è 150 –∑–∞–ø–∏—Å–µ–π.
–ï—Å–ª–∏ –≤ —ç—Ç–æ–π –∂–µ –º–∞–ø–µ –∫—Ä–æ–º–µ —ç—Ç–∏—Ö –∑–Ω–∞—á–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—å –µ—â–µ –ø—É—Å—Ç—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏, —Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∂–µ 10.000 –∑–∞–ø–∏—Å–µ–π.
–î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –≤ —Ç–æ—á–∫–µ –∫–∞—Ä—Ç—ã –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–≤–µ—Å—Ç–∏ –º–µ—Ç–æ–¥ 
```
private boolean is–ü—É—Å—Ç–∞—è–Ø—á–µ–π–∫–∞(–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞) {...}
```

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–π null
```
private final HashMap<Coordinate, Entity> map;

public Entity getEntity(Coordinate coordinate) {
  return map.get(coordinate);  //–º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å null
}
```
–í–æ–∑–≤—Ä–∞—Ç null –ø–æ–≤—ã—à–∞–µ—Ç —Ä–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è NullPointerException –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.7.7-8*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å NULL?"*

- –ü—Ä–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —É—á–∞—Å—Ç–∏–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã(–¥–æ–±–∞–≤–∏—Ç—å, –≤—ã–¥–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å –∏ —Ç.–¥.), –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å.  
–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞(–Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –ø—Ä–µ–¥–µ–ª–æ–≤ –∫–∞—Ä—Ç—ã), –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
```
public boolean contains(Coordinate coordinate) {
  return map.get(coordinate) != null;
}
```
–°–µ–π—á–∞—Å, –µ—Å–ª–∏ —É –∫–∞—Ä—Ç—ã —Å–ø—Ä–æ—Å–∏—Ç—å, —Å–≤–æ–±–æ–¥–Ω–∞ –ª–∏ —è—á–µ–π–∫–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ–π (+100500, -100500), —Ç–æ –∫–∞—Ä—Ç–∞ —Å–∫–∞–∂–µ—Ç, —á—Ç–æ —Å–≤–æ–±–æ–¥–Ω–∞. 
–ê –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç- —Ç–∞–∫–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –∫–∞—Ä—Ç–µ –≤–æ–æ–±—â–µ –Ω–µ—Ç.

- –í –∫–ª–∞—Å—Å–µ –µ—Å—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–µ SRP. 
–ù–æ –æ–Ω–æ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–µ –≤ —Ç–æ–º, —á—Ç–æ –∫–ª–∞—Å—Å —Ö—Ä–∞–Ω–∏—Ç —á—Ç–æ-—Ç–æ –ª–∏—à–Ω–µ–µ. 
–ù–∞—Ä—É—à–µ–Ω–∏–µ SRP –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –∫–ª–∞—Å—Å —á–∞—Å—Ç—å —Å–≤–æ–µ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏,- —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤,- –ø–µ—Ä–µ–¥–∞–ª –¥—Ä—É–≥–æ–º—É –∫–ª–∞—Å—Å—É.

**7. interface SearchService**

+ üëç –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞: BFS, A* –∏ —Ç.–¥.
+ üëç –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ –ø–æ–∏—Å–∫–∞ –æ–∫
```
public interface SearchService {
  List<Coordinate> search(Coordinate start, Class<? extends Entity> target);
}
```

**8. class BFSSearchService implements SearchService**

üëç –í—Å–µ –æ–∫.

**9. abstract class Entity**

–°–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É. –ù–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —Ç–æ–º—É —Å—É—â–µ—Å—Ç–≤—É, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ–¥–∏—Ç. 
–ü–æ—ç—Ç–æ–º—É entities –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞—è —Å —É—Ä–æ–≤–Ω—è `Creature`.

**10. abstract class Creature extends Entity**

- –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, –∑–∞—á–µ–º –∫–ª–∞—Å—Å—É –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø—É—Ç—å
```
protected List<Coordinate> path;
```
–ï—Å–ª–∏ –∫–ª–∞—Å—Å —Å–∞–º —Å–æ–≤–µ—Ä—à–∞–µ—Ç —Å–≤–æ–∏ —Ö–æ–¥—ã, —Ç–æ –µ–º—É –Ω–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø—É—Ç—å –≤ –≤–∏–¥–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞- 
–ø—Ä–∏ —Ö–æ–¥—å–±–µ –æ–Ω –¥–æ–ª–∂–µ–Ω —ç—Ç–æ—Ç –ø—É—Ç—å –ø–æ–ª—É—á–∞—Ç—å –∏–∑ –∫–ª–∞—Å—Å–∞ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ –∏ —Ç—É—Ç –∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

–ï—Å–ª–∏ –∫–ª–∞—Å—Å –¥–≤–∏–≥–∞–µ—Ç –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∫–ª–∞—Å—Å, —Ç–æ –¥–µ—Ä–∂–∞—Ç—å –ø—É—Ç—å –≤ –∫—Ä–µ–∞—Ç—É—Ä–µ —Ç–µ–º –±–æ–ª–µ–µ –Ω–µ –Ω–∞–¥–æ-
—Ç–æ—Ç –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–≤–∏–≥–∞–µ—Ç –∫—Ä–µ–∞—Ç—É—Ä—É, —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω —ç—Ç–æ—Ç –ø—É—Ç—å –ø–æ–ª—É—á–∞—Ç—å –∏–∑ –∫–ª–∞—Å—Å–∞ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏.

- –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ —Å–æ–≤–µ—Ä—à–∞–µ—Ç —Ö–æ–¥. –û–Ω —Å–æ–∑–¥–∞–µ—Ç –∏–Ω—Ç–µ–Ω—Ç(–Ω–∞–º–µ—Ä–µ–Ω–∏–µ)
```
public MoveIntent makeMove(GameMap map)
```

**11. class Predator/Prey extends Creature**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ `makeMove(GameMap map)` —É –ó–∞–π—Ü–∞ –∏ –í–æ–ª–∫–∞. –û–±—â–∏–π –∫–æ–¥ –≤—ã–Ω–æ—Å–∏ –≤ –ø—Ä–µ–¥–∫–∞
```
  //Prey
  public MoveIntent makeMove(GameMap map) {
    //...
    if (entity instanceof Grass) {
      return new MoveIntent(Intent.CONSUME, coordinate);
    }
    //...  
  }

  //Predator
  public MoveIntent makeMove(GameMap map) {
    //...
    if (entity instanceof Prey) {
      return new MoveIntent(Intent.CONSUME, coordinate);
    }
  }

//–ü–†–ê–í–ò–õ–¨–ù–û:
public class Creature –±–ª–∞-–±–ª–∞ {

  public MoveIntent makeMove(GameMap map) {
    //...
    if (entity instanceof getTrget()) {
      return new MoveIntent(Intent.CONSUME, coordinate);
    }
  }

  protected abstract Class<? extends Entity> getTarget();
}
```

**12. –ü–∞–∫–µ—Ç util**

+ üëç –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —É—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã: –∏–º–µ—é—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã.
- –£—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `final` –∏ –∏–º–µ—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä- –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç —É—Ç–∏–ª–∏—Ç—ã –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –µ–µ —ç–∫–∑–µ–º–ø–ª—è—Ä.

**13. class ActionUtils**

–ù–∞—Ä—É—à–µ–Ω–∏–µ DRY. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤–æ –≤—Å–µ—Ö —Ç—Ä–µ—Ö –º–µ—Ç–æ–¥–∞—Ö: `gatherPrey(GameMap gameMap)`, `gatherGrass(GameMap gameMap)` –∏ `gatherCreatures(GameMap gameMap)`.
–°–¥–µ–ª–∞–π –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ —Ç–∏–ø–∞ —Ç–∞–∫–æ–≥–æ:
```
public static List<? extends Entity> getEntitiesBy(GameMap gameMap, Class<? extends Entity> clazz) 
```

**14. class FindPathAction extends Action**

- –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º. –ò –í–æ–ª–∫ –∏ –ó–∞—è—Ü —á–µ–º-—Ç–æ –ø–∏—Ç–∞—é—Ç—Å—è, –∞ –∑–Ω–∞—á–∏—Ç —É –Ω–∏—Ö –º–æ–∂–Ω–æ —ç—Ç–æ —Å–ø—Ä–æ—Å–∏—Ç—å 
```
List<Coordinate> path = switch (creature) {
  case Predator _ -> searchService.search(coordinate, Prey.class);
  case Prey _ -> searchService.search(coordinate, Grass.class);
  default -> throw new RuntimeException("Invalid creature type");
};

//–ü–†–ê–í–ò–õ–¨–ù–û:
List<Coordinate> path = searchService.search(coordinate, creature.getFood()); //–∏–ª–∏ .getTarget();
```

- –≠—Ç–æ—Ç Action –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏–¥–µ–µ Action'–æ–≤, –∏–∑–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –¢–ó. 
–ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ—Ç Action –Ω–µ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω. –û–Ω –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –ø—É—Ç—å, –Ω–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è. 
–ê –∑–Ω–∞—á–∏—Ç, –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ,- –¥–≤–∏–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤,- –≤—ã–ø–æ–ª–Ω—è—é—Ç –¥–≤–∞ —ç–∫—à–µ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
–≠—Ç–∏ –¥–≤–∞ —ç–∫—à–µ–Ω–∞ –Ω—É–∂–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å –≤ –æ–¥–∏–Ω.

**15. class MoveAction extends Action**

–í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫—Ä–µ–∞—Ç—É—Ä –ø–æ –∫–∞—Ä—Ç–µ. –ü—Ä–∏—á–µ–º, –∏–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç- –¥–≤–∏–≥–∞–µ—Ç –∏—Ö, –∫–∞–∫ —à–∞—Ö–º–∞—Ç–∏—Å—Ç –¥–≤–∏–≥–∞–µ—Ç —Ñ–∏–≥—É—Ä—ã –ø–æ –¥–æ—Å–∫–µ.
–í –ø—Ä–∏–Ω—Ü–∏–ø–µ, –ø–æ—á–µ–º—É –±—ã –∏ –Ω–µ—Ç. –ù–æ —Å–µ–π—á–∞—Å –µ–¥–∏–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤–∞ —Ä–∞–∑–º–∞–∑–∞–Ω –Ω–∞ —Ç—Ä–∏ –∫–ª–∞—Å—Å–∞: `FindPathAction`, `MoveAction` –∏ `makeMove(...)` –≤ `Creature`.

–°–æ–±–µ—Ä–∏ –ª–æ–≥–∏–∫—É –¥–≤–∏–∂–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ: –∏–ª–∏ –≤ `MoveAction`, –∏–ª–∏ –≤ `Creature`. –ü–æ—Ç–æ–º—É —á—Ç–æ –∑–∞ –æ–¥–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –∫—Ç–æ-—Ç–æ –æ–¥–∏–Ω.
–ï—Å–ª–∏ –≤—Å—è –ª–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –≤ –∫—Ä–µ–∞—Ç—É—Ä–µ, —Ç–æ `MoveAction` –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ.  
–ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
```
class MoveAction —Ä–µ–∞–ª–∏–∑—É–µ—Ç Action {

  @Override
  public void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    List<Creature> creatures = getCreatures(–∫–∞—Ä—Ç–∞);
    for(Creature creature: creatures) {
      creature.makeMove(–∫–∞—Ä—Ç–∞);  //–¥–∞—ë—Ç –ø–∏–Ω–∫–∞
    }
  }

  private static List<Creature> getCreatures(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–Ω–∞–π—Ç–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ –∫—Ä–µ–∞—Ç—É—Ä—ã –∏–∑ –∫–∞—Ä—Ç—ã
  }
}
```

**16. abstract class SpawnAction extends Action**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY. –í—Å–µ –º–µ—Ç–æ–¥—ã –¥—É–±–ª–∏—Ä—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

- –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞.

- –ò–∑–±—ã—Ç–æ—á–Ω–æ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞—Å–µ–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤.  
–ó–∞—Å–µ–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–∞ –æ—á–µ–Ω—å –ª–µ–≥–∫–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ —Ç–∞–∫–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É:
```
public class SpawnAction extends Action {
  private final static int –ö–û–õ–ò–ß–ï–°–¢–í–û_–¢–†–ê–í–´ = 10;
  //...  

  @Override
  public void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    spawn(–∫–∞—Ä—Ç–∞, (coordinates) -> new Grass(coordinates), –ö–û–õ–ò–ß–ï–°–¢–í–û_–¢–†–ê–í–´);
    spawn(–∫–∞—Ä—Ç–∞, (coordinates) -> new Rock(coordinates), –ö–û–õ–ò–ß–ï–°–¢–í–û_–ö–ê–ú–ù–ï–ô);
    //...
  }

  private void spawn(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞, Function<Coordinates, Entity> mapper, int amount) {
    for (int i = 0; i < amount; i++) {
      Coordinates coordinates = getRandomEmptyCoordinates(–∫–∞—Ä—Ç–∞);
      Entity entity = mapper.apply(coordinates);
      –∫–∞—Ä—Ç–∞.put(entity, coordinates);
    }
  }

  private Coordinates getRandomEmptyCoordinates(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–Ω–∞—Ö–æ–¥–∏—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –ø—É—Å—Ç—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
  }
}
```

**17. class MaintenanceSpawnAction extends SpawnAction**

–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞: 3, 2, 4.

**18. interface Renderer**

üëç –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞ —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∏–∑—É–ª—å–Ω—ã—Ö —Å—Ä–µ–¥(–∫–æ–Ω—Å–æ–ª—å, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∏–Ω–¥–æ–≤—Å, http, –º–∞—Ç—Ä–∏—á–Ω—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä etc)
–∏ —Ä–∞–∑–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏(—Ü–≤–µ—Ç–Ω–æ–π, —á–µ—Ä–Ω–æ-–±–µ–ª—ã–π –∏ –ø—Ä.)

**19. class ConsoleRenderer implements Renderer**

- –ò–∑–±—ã—Ç–æ—á–Ω–æ:
```
case Prey _ -> System.out.print("\uD83D\uDC07");

//–ü–†–ê–í–ò–õ–¨–ù–û:
case Prey -> System.out.print("\uD83D\uDC07");
```

+ üëç –í —Ü–µ–ª–æ–º, –æ–∫.

**20. class Simulation**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY, –º–∞–≥–∏—á–µ—Å–∫–∏–µ –±—É–∫–≤—ã, —á–∏—Å–ª–∞, —Å–ª–æ–≤–∞. –í–≤–æ–¥–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```
case "p":
case "h":
System.out.println("Unknown command: '" + input + "'. Type 'h' for help.");
System.out.println("Controls: [ENTER/p] = pause/resume, [q] = quit, [h] = help");

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final static String PAUSE = "p";
private final static String HELP = "h";
//...

case PAUSE:
case HELP:
System.out.printf("Unknown command: '%s'. Type '%s' for help.", input, HELP);
System.out.printf("Controls: [ENTER/%s] = pause/resume, [%s] = quit, [%s] = help", PAUSE, QUIT, HELP);
```
*–§–∞—É–ª–µ—Ä, "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥", –≥–ª.8, "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*  
*refactoring.guru "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª—å–Ω–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*  

- –°–∏–º—É–ª—è—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–∞—Ä—Ç—ã.
–°–µ–π—á–∞—Å –∫–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö Simulation.
–ó–Ω–∞—á–∏—Ç, –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –≤ –≤–∏–¥–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö Main'–æ–≤ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–≥—Ä—ã —Å —Ä–∑–Ω—ã–º–∏ —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∫–∞—Ä—Ç.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DI. –†–∞–∑ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã(–∫–æ—Ç–æ—Ä—ã–µ –≤–æ–æ–±—â–µ-—Ç–æ –≤–≤–æ–¥–∏—Ç—å –±—ã–ª–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ), —Ç–∏–ø–∞ `Renderer`, 
—Ç–æ Simulation –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∞—Ç—å –∏—Ö –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∞ –Ω–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Å–µ–π—á–∞—Å:
```
GameMapImpl map = new GameMapImpl();
ConsoleRenderer consoleRenderer = new ConsoleRenderer(map);
```

## –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

–û–û–ü –∑–¥–µ—Å—å —á–∞—Å—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∫–∞—Ä–≥–æ-–∫—É–ª—å—Ç–æ–º: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–µ –Ω–µ—Å—É—Ç –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏, –∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø—Ä–æ—Å—Ç–æ –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã.

–í –ø—Ä–æ–≥—Ä–∞–º–º–µ –µ—Å—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: `Renderer`, `GameMap` –∏ –¥—Ä—É–≥–∏–µ.  
–≠—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã *–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ* –ø–æ–ª–µ–∑–Ω—ã —Ç–µ–º, —á—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –∏—Ö —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç. 
–ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–Ω–¥–µ—Ä–µ—Ä —ç–º–æ–¥–∑–∏ –∏ —Ä–µ–Ω–¥–µ—Ä–µ—Ä, –≥–¥–µ —Å—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ –±—É–∫–≤—ã.

–ù–æ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ —ç—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ `Simulation` –¥–∞–∂–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∞ —é–∑–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ —É–∂–µ –≥–æ—Ç–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤, –ø–æ–ª—å–∑–∞ –æ—Ç –Ω–∏—Ö —Ä–∞–≤–Ω–∞ –Ω—É–ª—é.
–ù–∞–ø—Ä–∏–º–µ—Ä, –ö–∞—Ä—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```
GameMapImpl map = new GameMapImpl();
```
–ï—Å–ª–∏ –±—ã –∫–∞—Ä—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –≤ —ç—Ç–æ–º –ø–æ—è–≤–∏–ª—Å—è –±—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–º—ã—Å–ª:
```
GameMap gameMap = new GameMapImpl();
```
–ù–æ –≤–æ–æ–±—â–µ, –Ω—É–∂–Ω–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É, –≤ —Å–ª–æ–µ `main`, –∏ –¥–∞–ª–µ–µ –∏–Ω–∂–µ–∫—Ç–∏—Ç—å –≤ —Å–∏–º—É–ª—è—Ü–∏—é —Å–æ–≥–ª–∞—Å–Ω–æ DI. 
–¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã —Å–æ–±–∏—Ä–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –Ω–µ –º–∏–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º –∫–ª–∞—Å—Å `Simulation` –∏ –¥—Ä—É–≥–∏–µ –Ω–∏–∂–µ—Å—Ç–æ—è—â–∏–µ –∫–ª–∞—Å—Å—ã.  
–ù–∞–ø—Ä–∏–º–µ—Ä:
```
public class MainFirst {
  public static void main(String[] args) {
    GameMap gameMap = new HashGameMap(10, 15);
    SearchService searchService = new AStarSearchService();
    Renderer renderer = new EmodjiConsoleRenderer();

    Game game = new Game(gameMap, searchService, renderer);
    game.start();
  }
}

public class MainSecond {
  public static void main(String[] args) {
    GameMap gameMap = new HashGameMap(20, 30);
    SearchService searchService = new BfsSearchService();
    Renderer renderer = new TextConsoleRenderer();

    Game game = new Game(gameMap, searchService, renderer);
    game.start();
  }
}
```

## –í–´–í–û–î

–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –û–û–ü –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –°–µ—Ä–≥–µ—è –ø—Ä–æ —à–∞—Ö–º–∞—Ç—ã. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –ù–µ–º—á–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–æ SOLID.

n.96(216)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è 