https://github.com/GDPixel/Simulation  
[K Andrey]

–•–æ—Ä–æ—à–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è üëç

## –•–û–†–û–®–û

+ üëç –°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö
+ üëç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö(–º–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è)
+ üëç –¶–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–¥–æ—Ä–æ–≤—å—è —Å—É—â–µ—Å—Ç–≤
+ üëç –ï—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –≥–æ–ª–æ–¥–∞

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

+ üëç –í —Ü–µ–ª–æ–º, –æ–∫.

*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*  

**2. record Coordinates**

+ üëç –ù–µ—Ç –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. Record –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã- –∏–¥–µ–∞–ª—å–Ω–æ.

**3. class WorldMap**

- –ü–æ—á–µ–º—É this.maxColumn, –Ω–æ –Ω–µ this.entities?
```
this.maxColumn = maxColumn;
entities = new HashMap<>();
```

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–π null
```
private final Map<Coordinates, Entity> entities;

public Entity getEntity(Coordinates coordinates) {
  validateCoordinates(coordinates);
  return entities.get(coordinates);  //–º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å null
}
```
–í–æ–∑–≤—Ä–∞—Ç null –ø–æ–≤—ã—à–∞–µ—Ç —Ä–∏—Å–∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è NullPointerException –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.7.7-8*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å NULL?"*  

+ üëç –ú–æ–ª–æ–¥–µ—Ü, —á—Ç–æ –ø—Ä–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —É—á–∞—Å—Ç–∏–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã(–¥–æ–±–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ, –≤–µ—Ä–Ω—É—Ç—å –∏ —Ç.–¥.) –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
```
public void addEntity(Coordinates coordinates, Entity entity) {
  validateCoordinates(coordinates);  <-- —Ç—É—Ç –Ω–∞–ø—Ä–∏–º–µ—Ä
  entities.put(coordinates, entity);
}
```

+ üëç –ö–ª–∞—Å—Å –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç SRP, —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –¥–æ–≤–æ–ª—å–Ω–æ —Ä–µ–¥–∫–æ.

**4. class WorldMapFactory**

+ üëç –§–∞–±—Ä–∏–∫–∞ –∫–∞—Ä—Ç—ã —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –û–û–ü –¥–∏–∑–∞–π–Ω–∞, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞. –ö–ª–∞—Å—Å —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –¥–µ–ª–∞–µ—Ç –∫–∞—Ä—Ç—É —Å–≤–æ–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞: 10x15, 7x7, 5x5.  
–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–¥–µ–ª–∞—Ç—å –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∫–∞—Ä—Ç—ã –≤–æ –≤—Ö–æ–¥—è—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∞ –æ–±—Ä–∞—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å —ç—Ç–∏–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∫–∞—Ä—Ç—É.

- –°—É—â–µ—Å—Ç–≤–∞ –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ –∫–∞—Ä—Ç—É –Ω–µ –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏, –∞ –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–µ. –ï—Å–ª–∏ –∫–æ–Ω–µ—á–Ω–æ –≤—Å—Ç–∞–≤–∫–∞ –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –æ–ø—Ä–∞–≤–¥–∞–Ω–∞ –∫–∞–∫–æ–π-–ª–∏–±–æ –∏–¥–µ–µ–π –æ—Ç–ª–∏—á–Ω–æ–π –æ—Ç —Ç–æ–π, —á—Ç–æ —Ç–∞–∫ –ø—Ä–æ—â–µ
```
worldMap.addEntity(new Coordinates(0, 1), new Predator());
```

**5. class WorldMapUtil**

+ üëç –í —Ç–∞–∫–æ–º –≤–∏–¥–µ —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –∫–∞—Ä—Ç—ã –≤–ø–æ–ª–Ω–µ —Å–µ–±–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞–∂–∏–∑–Ω—å.

**6. –ü–∞–∫–µ—Ç pathfinder**

+ üëç –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞ –∏ –¥–≤–µ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ BFS –∏ AStar.
+ üëç –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞, —á—Ç–æ –∏ —Å–¥–µ–ª–∞–Ω–æ.
+ üëç –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ –ø–æ–∏—Å–∫–∞ –æ–∫: –ø–æ–∏—Å–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –¥–æ —Ç–æ—á–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º
```
List<Coordinates> find(Coordinates start, Class<? extends Eatable> target, WorldMap worldMap);
```

**7. –ü–∞–∫–µ—Ç entity**

+ üëç –ó–∞–º–µ—á–∞–Ω–∏–π –Ω–µ—Ç.

**8. –ü–∞–∫–µ—Ç action**

+ üëç –ù–µ—Ç –æ—Å–æ–±—ã—Ö –∑–∞–º–µ—á–∞–Ω–∏–π –∫ –∫–ª–∞—Å—Å–∞–º, —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–º –ø–∞–∫–µ—Ç.

- –ü–ª–æ—Ö–æ, –µ—Å–ª–∏ —Ç–∞–∫
```
class MoveAllCreaturesAction extends Action {
  //TODO: possible bug if remove creature before it moved
  //...
}
```

**9. –ü–∞–∫–µ—Ç menu**

+ üëç –ó–∞–º–µ—á–∞–Ω–∏–π –Ω–µ—Ç. –ú–µ–Ω—é –≤ –û–û–ü —Å—Ç–∏–ª–µ.

**10. class AnsiColors**, –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ü–≤–µ—Ç–æ–≤—ã—Ö –∫–æ–¥–æ–≤

- –õ—É—á—à–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –µ–Ω–∞–º–æ–º.

**11. class Simulation**

+ üëç –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –í —Ç–æ–º —á–∏—Å–ª–µ —Å–ø–∏—Å–∫–∏ action'–æ–≤- —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –Ω–µ –º–µ–Ω—è—è –∫–æ–¥ –∫–ª–∞—Å—Å–∞ Simulation
```
public Simulation(WorldMap worldMap, Renderer renderer, List<Action> initActions, List<Action> turnActions)
```

**12. –ì—Ä—É–ø–ø–∞ –∫–ª–∞—Å—Å–æ–≤ Main: CustomWorldMain, EqualPopulateWorldMain, Main**

+ üëç –í—Å–µ –º–∞–π–Ω—ã —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç –∏ –∑–∞–ø—É—Å–∫–∞—é—Ç —Å–∏–º—É–ª—è—Ü–∏—é, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.
+ üëç –ù–µ—Å–∫–æ–ª—å–∫–æ –º–∞–π–Ω–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

## –í–´–í–û–î

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –Ω–µ —É–¥–∞–ª–æ—Å—å.

n.65(147)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è