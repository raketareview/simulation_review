https://github.com/nikita-webdev/simulation  
[–ù–∏–∫–∏—Ç–∞]

–£–¥—Ä—É—á–∞—é—â–µ.

## –•–û–†–û–®–û

+ üëç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö(–º–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è)
+ üëç –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–∞—É–∑–∞/–ø—É—Å–∫ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

- –î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—É—Ç–∞–Ω–∏—Ü—ã –Ω–µ –Ω–∞–∑—ã–≤–∞–π –ø–∞–∫–µ—Ç—ã, –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ç–∞–∫ –∂–µ, –∫–∞–∫ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
–ï—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Map`, –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º
```
package simulation.map;

//–ü–†–ê–í–ò–õ–¨–ù–û:
package simulation.simulation_map;
```

- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∫–∞–∫ –º–æ–∂–Ω–æ –ª—É—á—à–µ –æ–±—ä—è—Å–Ω—è—Ç—å —Å—É—Ç—å —è–≤–ª–µ–Ω–∏—è. –≠—Ç–æ —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç—ã- –µ–µ —à–∏—Ä–∏–Ω–∞ –∏ –≤—ã—Å–æ—Ç–∞
```
public static final int MAP_SIZE_ROW = 20;
public static final int MAP_SIZE_COLUMN = 15;

//–õ–£–ß–®–ï:
public static final int HEIGHT = 20;
public static final int WIDTH = 15;
```

- –ù–∞–∑–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Å—Ç–∏–ª–µ–º lower_snake
```
package simulation.actions.initActions;

//–ü–†–ê–í–ò–õ–¨–ù–û:
package simulation.actions.init_actions;
```

- –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç `Map`, –æ–Ω –∑–∞–ø–æ–ª–Ω—è–µ—Ç –º–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã–º–∏
```
private void createMap() {
  for (int i = 0; i < field.length; i++) {
    Arrays.fill(field[i], EMPTY_ICON);
  }
}
```
–ï—Å–ª–∏ –ø–æ–¥ "Map" –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è "–ö–∞—Ä—Ç–∞ —Å–∏–º—É–ª—è—Ü–∏–∏", —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –≤–º–µ—Å—Ç–æ "Map" –∫–∞–∫–∏–µ-—Ç–æ —Å–∏–Ω–æ–Ω–∏–º—ã, 
—á—Ç–æ–±—ã –Ω–µ –ø—É—Ç–∞—Ç—å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ "Map".  
–ù–∞–ø—Ä–∏–º–µ—Ä "Field"- —Ä–∞–∑ —É–∂ —Ç—ã –∑–∞–ø–æ–ª–Ω—è–µ—à—å –¥–∞–Ω–Ω—ã–º–∏ –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤.

*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*

**2. Default –≤ —Å–≤–∏—á-–∫–µ–π—Å–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–Ω—è—Ç–Ω—ã–º**

Default –≤ —Å–≤–∏—á-–∫–µ–π—Å–µ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–ª–µ–∑–Ω–æ–µ.  
–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å, —á—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –¥–µ—Ñ–æ–ª—Ç–µ, –ø–∏—à–∏ –≤—ã–±—Ä–æ—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è- –Ω–µ –æ—à–∏–±–µ—à—å—Å—è
```
switch (record.getLevel().toString()) {
  case "INFO", "SEVERE", "WARNING":
    break;
  default:
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
default: throw new <–ò—Å–∫–ª—é—á–µ–Ω–∏–µ>;
```

**3. –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY**, –º–∞–≥–∏—á–µ—Å–∫–∏–µ –±—É–∫–≤—ã, —á–∏—Å–ª–∞, —Å–ª–æ–≤–∞. –í–≤–æ–¥–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.

–ï—Å–ª–∏ –∫ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –º–∞–≥–∏—á–µ—Å–∫–æ–π —à—Ç—É–∫–µ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–∞, —Ç–æ –¥–µ–ª–∞–π –µ–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π –≤ –æ–¥–Ω–æ–º –∏–∑ —ç—Ç–∏—Ö –¥–≤—É—Ö –∫–ª–∞—Å—Å–æ–≤. 
–õ–∏–±–æ –ø–µ—Ä–µ–Ω–µ—Å–∏ –µ–µ –≤ —Ç—Ä–µ—Ç–∏–π –∫–ª–∞—Å—Å- —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π
```
public class MenuOptionsPrinter {
  public void printStartOptions() {
    System.out.println("1 - Start");
    System.out.println("2 - Pause");
    //...
  }
}

public class Simulation {
  private static final String START_RESUME = "1";
  private static final String PAUSE = "2";
  //...
}
```
*–§–∞—É–ª–µ—Ä, "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥", –≥–ª.8, "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*  
*refactoring.guru "–ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–∏–º–≤–æ–ª—å–Ω–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π"*

**4. –£—Ç–∏–ª–∏—Ç–Ω—ã–µ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `final` –∏ –∏–º–µ—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä- –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç —É—Ç–∏–ª–∏—Ç—ã –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –µ–µ —ç–∫–∑–µ–º–ø–ª—è—Ä
```
public class Icons {
  public final static String HERBIVORE_ICON = "\uD83D\uDC11";
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public final class Icons {
  public final static String HERBIVORE_ICON = "\uD83D\uDC11";
  //...

  private Icons() {}
}
```

**5. record Coordinate(int row, int column)**

+ üëç –ù–µ—Ç –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. Record –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã- –∏–¥–µ–∞–ª—å–Ω–æ.

+ üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è row –∏ column –∞ –Ω–µ x –∏ y. –ú–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è.  
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç, –ø—É—Ç–∞–Ω–∏—Ü—ã —Å –ø–æ—Ä—è–¥–∫–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤–∞—Ö: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞(x,y), –∞ –≤ –º–∞—Å—Å–∏–≤–∞—Ö –Ω–∞–æ–±–æ—Ä–æ—Ç- –º–∞—Å—Å–∏–≤[y, x].

**6. class SimulationMap**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP, –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å, –º–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π. 

–ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–∞ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∏–º–∏: –≤—Å—Ç–∞–≤–∏—Ç—å, –≤—ã–¥–∞—Ç—å –æ–¥–Ω–æ —Å—É—â–µ—Å—Ç–≤–æ –∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ö—Ä–∞–Ω–∏–º—ã—Ö —Å—É—â–µ—Å—Ç–≤, —É–¥–∞–ª–∏—Ç—å.
–ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –º–µ—Ç–æ–¥ –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –∑–Ω–∞—á–∏—Ç –æ–Ω –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã, –∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ —á—É–∂–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
–ó–¥–µ—Å—å –º–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π: –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–≤—ã, –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É(–µ—â–µ –∏ —á–µ—Ä–µ–∑ –ø–∞—É–∑—É) –∏ –º–Ω–æ–≥–æ–µ, –º–Ω–æ–≥–æ–µ, –ú–ù–û–ì–û–ï –¥—Ä—É–≥–æ–µ.

–ü—Ä–æ–µ–∫—Ç—É –æ—á–µ–Ω—å –Ω—É–∂–Ω–æ —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—á–∞—Ç–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å –∫–∞—Ä—Ç—É.  
–ù–æ –¥–µ–ª–∞—Ç—å —ç—Ç–æ —è–≤–Ω–æ –¥–æ–ª–∂–Ω–∞ –Ω–µ —Å–∞–º–∞ –∫–∞—Ä—Ç–∞, –∞ –∫—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–π.
–≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã- —Ö—Ä–∞–Ω–µ–Ω–∏—é —Å—É—â–µ—Å—Ç–≤ –≤ —Å–µ–±–µ.  
–î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è/–≤—ã–¥–∞—á–∏ —Å—É—â–µ—Å—Ç–≤, –∫–∞—Ä—Ç–µ –Ω–µ –Ω—É–∂–Ω–æ —Å–∞–º—É —Å–µ–±—è –ø–µ—á–∞—Ç–∞—Ç—å.  

–ú–µ—Ç–æ–¥—ã —á—É–∂–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ç–µ—Ö –∫–ª–∞—Å—Å–∞—Ö, –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.
–ï—Å–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —Ç–æ –º–µ—Ç–æ–¥ –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä, BoardUtils.

- –ö–∞—Ä—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã, –ø–æ—ç—Ç–æ–º—É —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π
```
public static final int MAP_SIZE_ROW = 20;
public static final int MAP_SIZE_COLUMN = 15;
```
–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–∏(8x8) –∏–ª–∏ –∏–≥—Ä—ã –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏(3x3).  
–ó–¥–µ—Å—å —Ä–∞–∑–º–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Ä—Ç—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤.

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP, —á—É–∂–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
–ú–æ–¥–µ–ª—å(–∞ —ç—Ç–æ –º–æ–¥–µ–ª—å) –Ω–µ –¥–æ–ª–∂–Ω–∞ —Å–∞–º—É —Å–µ–±—è –ø–µ—á–∞—Ç–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å
```
public void updateMap() {
  renderer.renderMap();
  //...
}
```
–ò–Ω–∞—á–µ –º–æ–¥–µ–ª—å –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –±—ã—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞—Ç–æ—á–µ–Ω–Ω–æ–π –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ä–µ–¥—É –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–µ–±—è –≤ —ç—Ç–æ–π —Å—Ä–µ–¥–µ- –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –∫–æ–Ω—Å–æ–ª—å.
–í –¥—Ä—É–≥–∏—Ö —Å—Ä–µ–¥–∞—Ö(–Ω–∞–ø—Ä. –ê–Ω–¥—Ä–æ–∏–¥) –º–æ–¥–µ–ª—å –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. 
–î—Ä—É–≥–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–¥–µ–ª–∏(–Ω–∞–ø—Ä. –µ—Å–ª–∏ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –º–æ–¥–µ–ª—å –Ω—É–∂–Ω–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ø–æ–∫–∞–∑–≤–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É) –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å, –∏–ª–∏ –ø—Ä–∏–¥–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –∫–æ—Å—Ç—ã–ª—å.

+ üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—à—å –∫–æ–ø–∏—é –º–∞–ø—ã —Å—É—â–µ—Å—Ç–≤, –∞ –Ω–µ –µ–µ –æ—Ä–∏–≥–∏–Ω–∞–ª- —Ç–µ–º —Å–∞–º—ã–º —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –∏ –∑–∞—â–∏—â–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ `SimulationMap`
```
public Map<Coordinate, Entity> getEntities() {
  return Collections.unmodifiableMap(entities);
}
```

- –ö–∞—Ä—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –ø–æ–¥—Å—á–µ—Ç–æ–º —Å—É—â–µ—Å—Ç–≤ –∏ —Ç–µ–º –±–æ–ª–µ–µ, —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–∏–¥–∞ —Å—É—â–µ—Å—Ç–≤
```
  public int getCountOfEntity() {...}
  public int getCountOfHerbivores() {...}
```
–°–∞–º–æ–π –∫–∞—Ä—Ç–µ –Ω–µ –Ω—É–∂–Ω–æ —É–º–µ—Ç—å —ç—Ç–æ –¥–µ–ª–∞—Ç—å –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–≤–æ–µ–π –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ —Ö—Ä–∞–Ω–µ–Ω–∏—é —Å—É—â–µ—Å—Ç–≤. 
–°—á–∏—Ç–∞—Ç—å —Ç—Ä–∞–≤—É –Ω—É–∂–Ω–æ –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∫–ª–∞—Å—Å–∞ `RespawnGrassAction`- –≤–æ—Ç –ø—É—Å—Ç—å –æ–Ω –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è —ç—Ç–æ –∏ –¥–µ–ª–∞–µ—Ç.

- –ù—É –∫–∞–∫–æ–µ –¥–µ–ª–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ö–∞—Ä—Ç–µ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫—É—é –µ–¥—É –µ–¥—è—Ç –∂–∏–≤–æ—Ç–Ω—ã–µ?
```
public boolean isFood(Creature creature, Coordinate coordinate) {...}
```

- –ü—Ä–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —É—á–∞—Å—Ç–∏–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã(–¥–æ–±–∞–≤–∏—Ç—å, –≤—ã–¥–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å –∏ —Ç.–¥.), –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å. 
–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞(–Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –ø—Ä–µ–¥–µ–ª–æ–≤ –∫–∞—Ä—Ç—ã), –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
```
public boolean isCoordinatesOccupied(Coordinate targetCoordinates) {
  return getEntities().containsKey(targetCoordinates);
}
```
–°–µ–π—á–∞—Å, –µ—Å–ª–∏ —É –∫–∞—Ä—Ç—ã —Å–ø—Ä–æ—Å–∏—Ç—å, —Å–≤–æ–±–æ–¥–Ω–∞ –ª–∏ —è—á–µ–π–∫–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ–π (+100500, -100500), —Ç–æ –∫–∞—Ä—Ç–∞ —Å–∫–∞–∂–µ—Ç, —á—Ç–æ —Å–≤–æ–±–æ–¥–Ω–∞. 
–ê –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç- —Ç–∞–∫–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –∫–∞—Ä—Ç–µ –≤–æ–æ–±—â–µ –Ω–µ—Ç.

‚ùå –ö–ª–∞—Å—Å —Å–æ–±—Ä–∞–ª –≤ —Å–µ–±–µ –≤—Å–µ —Ö—É–¥—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –∫–ª–∞—Å—Å–∞ –ö–∞—Ä—Ç–∞.

**7. class PathFinder**

- –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞—Ä–∞ —Ö/—É? –ü—Ä–∞–≤–∏–ª—å–Ω–æ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞
```
private static final int[][] OFFSETS = {
  {0, -1},
  //...
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
private static final List<Coordinate> OFFSETS = List.of(
  new Coordinate(0, -1), 
  //....
);
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏. –ü—É–±–ª–∏—á–Ω—ã–º–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏. 
–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –∏–∑ –∏—Ö —á–∏—Å–ª–∞
```
public List<Coordinate> reconstructPath(Map<Coordinate, Coordinate> cameFrom, Coordinate food)
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP. 

–ö–ª–∞—Å—Å—É –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–µ–∑ —Ä–∞–∑–Ω–∏—Ü—ã, –∏—â–µ—Ç –æ–Ω –ø—É—Ç—å –¥–ª—è –ö—Ä–µ–∞—Ç—É—Ä—ã –∏–ª–∏ –µ—â–µ –∫–æ–≥–æ-—Ç–æ
```
public List<Coordinate> searchPath(SimulationMap simulationMap, Creature creature, Coordinate from)
```
–û–Ω –¥–æ–ª–∂–µ–Ω –∏—Å–∫–∞—Ç—å –ø—É—Ç—å –Ω–µ –¥–ª—è *–∫–æ–≥–æ-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ*. 

–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ –∏—Å–∫–∞—Ç—å –ø—É—Ç—å –æ—Ç —Ç–æ—á–∫–∏ —Å—Ç–∞—Ä—Ç–∞ –¥–æ —Ç–æ—á–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º. 
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ- –¥–æ —Ç–æ—á–∫–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.
–≠—Ç–∏ —É—Å–ª–æ–≤–∏—è –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ —Å–µ–±—è –∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —ç—Ç–∏ —É—Å–ª–æ–≤–∏—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.
–ü—Ä–∏–º–µ—Ä–Ω–æ–æ, —Ç–∞–∫:
```
public List<Coordinates> getPatch(World world, Coordinates start, Class<? extends Entity> target) {
  //–∏—â–µ—Ç –ø—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ world –æ—Ç —Ç–æ—á–∫–∏ start
  //–¥–æ —Ç–æ—á–∫–∏, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞(–Ω–∞–ø—Ä. target == Grass.class)
}
```

- –ú–∞–ø–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –æ–±—ã—á–Ω–æ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —ç—Ä–∑–∞—Ü-–∑–∞–º–µ–Ω–∏—Ç–µ–ª—å —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
```
Map<Coordinate, Coordinate> cameFrom = new HashMap<>();
```
–í–º–µ—Å—Ç–æ –º–∞–ø—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Å–¥–µ–ª–∞–π –∫–ª–∞—Å—Å —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞, –∞–ª–≥–æ—Ä–∏—Ç–º —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–æ–Ω—è—Ç–Ω–µ–µ.
–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```
class Node {
  private Coordinate coordinate; 
  private Node parent;
  //...
  public Coordinate getCoordinate() {...}
  public Node getParent() {...}
}
```

- –ß—Ç–æ —ç—Ç–æ –∑–∞ –∞—Ü–∫–∏–π –∞–¥? –≠—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –ê–ë–°–û–õ–Æ–¢–ù–û –Ω–µ—á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥
```
for (Coordinate i = new Coordinate(food.row(), food.column()); i != null; i = cameFrom.get(i))  {...}
```
–ù–µ –¥–µ–ª–∞–π —Ç–∞–∫ –±–æ–ª—å—à–µ, —Ü–∏–∫–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏.  
–ï—Å–ª–∏ –≤ —É—Å–ª–æ–≤–∏–∏ —Ü–∏–∫–ª–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≤—Å—Ç–∞–≤–ª—è—Ç—å —Ç–∞–∫–æ–π –∑–∞–∫—Ä—É—á–µ–Ω–Ω—ã–π –∫–æ–¥, –∑–Ω–∞—á–∏—Ç –æ–∫—Ä—É–∂–∞—é—â–∏–π —ç—Ç–æ—Ç —Ü–∏–∫–ª –∞–ª–≥–æ—Ä–∏—Ç–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å —Ç–∞–∫, 
—á—Ç–æ–±—ã —Ü–∏–∫–ª —Å–Ω–æ–≤–∞ —Å—Ç–∞–ª –ø—Ä–æ—Å—Ç—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.

**8. class Entity**

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏- –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º –∫–ª–∞—Å—Å–∞
```
public String name;
public String icon;
```
–î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º –∫–ª–∞—Å—Å–∞ –∏–∑–≤–Ω–µ –¥–æ–ª–∂–µ–Ω –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã. 
–ù–∞–ø—Ä–∏–º–µ—Ä, –≥–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã.

- –ü–æ—á–µ–º—É `name` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∞ `icon`- –Ω–µ—Ç?
```
public Entity(String name) {
  this.name = name;
}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è- —Å—É—â–µ—Å—Ç–≤–æ —Ö—Ä–∞–Ω–∏—Ç —Å–ø—Ä–∞–π—Ç —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
```
public String icon;
```
–ú–æ–¥–µ–ª—å(–∞ —ç—Ç–æ –º–æ–¥–µ–ª—å) –Ω–µ –¥–æ–ª–∂–Ω–∞ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –∑–Ω–∞—Ç—å, –∫–∞–∫ –µ–µ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —é–∑–µ—Ä—É.
–ü–æ—Ç–æ–º—É —á—Ç–æ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö(–∫–æ–Ω—Å–æ–ª—å, Swing, Android) –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∞ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.
–°–ø—Ä–∞–π—Ç—ã –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –∫–ª–∞—Å—Å–µ, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É.

**9. class Tree/Grass/Rock extends Entity**

- –ù–µ –¥–µ–ª–∞–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤, —Ç–µ–º —Å–∞–º—ã–º —Ç—ã –≤–≤–æ–¥–∏—à—å –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–Ω–∏–µ. 
–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º, —á—Ç–æ –∫–∞–∫–æ–µ-—Ç–æ –ø–æ–ª–µ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥–∞–Ω–Ω–æ–º—É –∫–ª–∞—Å—Å—É
```
import static simulation.config.Icons.TREE_ICON;

public class Tree extends Entity {
  public Tree(String name) {
    //...
    icon = TREE_ICON;
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
icon = Icons.TREE_ICON;
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ –û–û–ü –¥–∏–∑–∞–π–Ω–∞ –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏. –í—Å–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –∏–Ω–∂–µ–∫—Ç–∏—Ç—å—Å—è –≤ –ø—Ä–µ–¥–∫–∞, –∞ –Ω–µ —á–∞—Å—Ç–∏—á–Ω–æ —Å–µ—Ç–∏—Ç—å—Å—è 
```
public class Tree extends Entity {
  public Tree(String name) {
    super(name);

    icon = TREE_ICON;
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public Tree(String name) {
  super(name, TREE_ICON);
}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ Low Coupling. 

–ê–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–Ω—É–∂–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∫–ª–∞—Å—Å `Icons`. 
–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –∑–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É —Å–æ —Å–ø—Ä–∞–π—Ç–æ–º, —Ç–æ –æ–±—ä—è–≤–∏ –µ–µ –ø—Ä—è–º–æ –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ.

**10. abstract class Creature extends Entity**

–°–Ω–æ–≤–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
```
private int speed;
private int hp;

public Creature(String name) {
  super(name);
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public Creature(String name, int speed, int hp) {
  super(name);
  this.speed = speed;
  this.hp = hp;
}
```

- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è.

–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è –ö—Ä–µ–∞—Ç—É—Ä—ã –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–ª–∏ –≤ —Å–∞–º–æ–π –ö—Ä–µ–∞—Ç—É—Ä–µ, –∏–ª–∏ –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–º –∫–ª–∞—Å—Å–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ú—É–≤–µ—Ä–µ.
–°–µ–π—á–∞—Å —ç—Ç–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤. 

–ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Å–∞–º–æ–π –ö—Ä–µ–∞—Ç—É—Ä–µ, —Ç–æ –º–µ—Ç–æ–¥ `makeMove(...)` –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è –¥–æ–ª–∂–µ–Ω —Å–∞–º –∏—Å–∫–∞—Ç—å –ø—É—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è, –∞ –Ω–µ –ø–æ–ª—É—á–∞—Ç—å –µ–≥–æ –∏–∑–≤–Ω–µ
```
public void makeMove(SimulationMap simulationMap, Coordinate from, List<Coordinate> path) {...}

//–ü–†–ê–í–ò–õ–¨–ù–û:
private final Class<? extend Entity> food;
private final –ü–æ–∏—Å–∫–ü—É—Ç–∏ –ø–æ–∏—Å–∫–ü—É—Ç–∏ = ...;

public Creature(..., Class<? extend Entity> food) {
  super(...);
  this.food = food;
}

public void makeMove(SimulationMap simulationMap) {
  Coordinate –º–æ–∏–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã = simulationMap.getCoordinate(this);
  List<Coordinate> patch = –ø–æ–∏—Å–∫–ü—É—Ç–∏(simulationMap, –º–æ–∏–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, food);
  //...
}
```

**11. class Herbivore/Predator extends Creature**

–ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏, `eat(...)` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å protected.

**12. interface Action**

üëç –ù–æ—Ä–º
```
public interface Action {
  void execute(SimulationMap simulationMap);
}
```

**13. –ü–∞–∫–µ—Ç initActions**

–ü–∞–∫–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å—ã-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Action`, –ª–∏–±–æ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö —ç—Ç–∏—Ö –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤.  
–≠—Ç–æ—Ç –∫–ª–∞—Å—Å –∫ –Ω–∏–º –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è:
```
public class InitObjects {...}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY.

–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ —Ç–æ –∂–µ- –∑–∞—Å–µ–ª—è—é—Ç –∫–∞—Ä—Ç—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –≤–∏–¥–æ–º —Å—É—â–µ—Å—Ç–≤.
–í–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –≤–∏–¥ —Å—É—â–µ—Å—Ç–≤, –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö —Å—É—â–µ—Å—Ç–≤ –∏ —Å–ø–æ—Å–æ–± –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è.  
–°–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Supplier
```
SpawnAction –∑–∞—è—ÜSpawnAction = new SpawnAction(() -> new –ó–∞—è—Ü(), –ö–û–õ–ò–ß–ï–°–¢–í–û_–ó–ê–ô–¶–ï–í);
SpawnAction –≤–æ–ª–∫SpawnAction = new SpawnAction(() -> new –í–æ–ª–∫(), –ö–û–õ–ò–ß–ï–°–¢–í–û_–í–û–õ–ö–û–í);
–∑–∞—è—ÜSpawnAction.execute(–∫–∞—Ä—Ç–∞); 
–≤–æ–ª–∫SpawnAction.execute(–∫–∞—Ä—Ç–∞); 
//...

public class SpawnAction extends Action {
  private final Supplier<Entity> entitySupplier;
  private final int amount;

  public SpawnAction(Supplier<Entity> entitySupplier, int amount) {
    this.entitySupplier = entitySupplier;
    this.amount = amount;
  }

  @Override
  public void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    for (int i = 0; i < amount; i++) {
      Entity entity = entitySupplier.get();
      Coordinates coordinates = getRandomEmptyCoordinates(–∫–∞—Ä—Ç–∞);
      –∫–∞—Ä—Ç–∞.put(entity, coordinates);
    }
  }

  private Coordinates getRandomEmptyCoordinates(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–Ω–∞—Ö–æ–¥–∏—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –ø—É—Å—Ç—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
  }
}
```

**14. –ü–∞–∫–µ—Ç turnActions**

- –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –Ω–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ `Action` –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —ç—Ç–æ–º –ø–∞–∫–µ—Ç–µ
```
class MoveAllCreatures {...}
```

- –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY. –î–≤–∞ –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ: –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—é—Ç –Ω–∞ –∫–∞—Ä—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É—â–µ—Å—Ç–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞.  

**15. –†–∞–∑—ä—è—Å–Ω–µ–Ω–∏–µ –∏–¥–µ–∏ Action'–æ–≤**

–°–º—ã—Å–ª Action'–æ–≤ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—â–∏–π –∫–ª–∞—Å—Å/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Action –∏ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏.  
–≠—Ç–æ –≤–∞—Ä–∏–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Command- —ç–∫—à–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã –∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º.  
–ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫
```
interface Action{
 void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞);
}

class –•–æ–¥–∏—Ç—åAction —Ä–µ–∞–ª–∏–∑—É–µ—Ç Action {
  void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–æ–±–æ–π—Ç–∏ –≤—Å—é –∫–∞—Ä—Ç—É
    //–Ω–∞–π—Ç–∏ –∫–∞–∂–¥—É—é –∫—Ä–µ–∞—Ç—É—Ä—É
    //–∏ –¥–∞—Ç—å –µ–π –ø–∏–Ω–∫–∞ —á—Ç–æ–± –ø–æ–±–µ–∂–∞–ª–∞
  }
}

class –î–∞—Ç—å–°–∏–≥–∞—Ä–µ—Ç—É–í—Å–µ–º–ó–∞–π—Ü–∞–ºAction —Ä–µ–∞–ª–∏–∑—É–µ—Ç Action {
  void execute(–ö–∞—Ä—Ç–∞ –∫–∞—Ä—Ç–∞) {
    //–æ–±–æ–π—Ç–∏ –≤—Å—é –∫–∞—Ä—Ç—É
    //–Ω–∞–π—Ç–∏ –≤—Å–µ—Ö –∑–∞–π—Ü–µ–≤ –∏ –¥–∞—Ç—å –∏–º –ø–æ —Å–∏–≥–∞—Ä–µ—Ç–µ 
  }
}

List<Action> actions = List.of{new –î–∞—Ç—å–°–∏–≥–∞—Ä–µ—Ç—É–í—Å–µ–º–ó–∞–π—Ü–∞–ºAction(), new –•–æ–¥–∏—Ç—åAction()};
for(Action a: actions) {
  a.execute(–∫–∞—Ä—Ç–∞);
}

/*
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±–æ–π–¥–µ—Ç –≤—Å—é –∫–∞—Ä—Ç—É, –Ω–∞–π–¥–µ—Ç –≤—Å–µ—Ö –∫—Ä–µ–∞—Ç—É—Ä –∏ –¥–∞—Å—Ç –∏–º –ø–∏–Ω–∫–∞, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ–±–µ–∂–∞–ª–∏.
–ê –∫–∞–∂–¥–æ–º—É –∑–∞–π—Ü—É –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –¥–∞—Å—Ç —Å–∏–≥–∞—Ä–µ—Ç—É.
*/
```

–°—É—Ç—å:  
+ –í—Å–µ –∫–ª–∞—Å—Å—ã-—ç–∫—à–µ–Ω—ã –¥–æ–ª–∂–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Action
+ –í—Å–µ –∫–ª–∞—Å—Å—ã-—ç–∫—à–µ–Ω—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥- —Ç–æ—Ç, —á—Ç–æ –∑–∞—è–≤–ª–µ–Ω –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Action

**16. class Renderer**

–ò–∑–±—ã—Ç–æ—á–Ω–æ —Å–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–µ—á–∞—Ç–∫–∏ –∫–∞—Ä—Ç—ã. 
–ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø–µ—Ä–µ–¥ —Ä–∞—Å–ø–µ—á–∞—Ç–∫–æ–π –∫–∞—Ä—Ç—ã —Å–æ–∑–¥–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –æ–Ω —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç—Å—è
```
private final SimulationMap simulationMap;
private final String[][] field;

private void createMap() {
  for (int i = 0; i < field.length; i++) {
    Arrays.fill(field[i], EMPTY_ICON);
  }
}

private void printMap() {
  //—Ç—É—Ç —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ field
}  
```

–≠—Ç–æ –ª–∏—à–Ω—è—è —Ä–∞–±–æ—Ç–∞, –ø–µ—á–∞—Ç–∞–π –∫–∞—Ä—Ç—É —Å—Ä–∞–∑—É, –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤.  
–ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
```
public void render(Board board) {
   for(int row = 0; row < board.getHeight(); row++) {
     for(int column = 0; column < board.getWidth(); column++) {
       Coordinate coordinate = new Coordinate(row, column); 
       if(board.is–ü—É—Å—Ç–æ(coordinate)) {
         //–Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –ø—É—Å—Ç—É—é –∑–µ–º–ª—é
       } else {
         Entity entity = board.get(coordinate);
         //–Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å —Å–ø—Ä–∞–π—Ç entity
       }
     }
   } 
   System.out.println();
}
```

**17. class Simulation**

Action'—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ
```
private final RespawnGrassAction respawnGrassAction = new RespawnGrassAction();
private final RespawnHerbivoreAction respawnHerbivoreAction = new RespawnHerbivoreAction();
```

–≠—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Å–∞–º–æ–π –∏–¥–µ–µ —ç–∫—à–µ–Ω–æ–≤.  
–ï—Å–ª–∏ –∏—Ö –æ–±—ä—è–≤–ª—è—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ, —Ç–æ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ:
```
respawnGrassAction.execute(simulationMap);
respawnHerbivoreAction.execute(simulationMap);
```

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç–∫—à–µ–Ω—ã –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ, –∞ —á–µ—Ä–µ–∑ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º.
–ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
```
private final List<Action> initActions = List.of(new UnoAction());
private final List<Action> turnActions = List.of(new DosAction(), new TresAction(), new MoveAction());

public Simulation(...) {
  //...
  executeActions(initActions);  //–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç–∫—à–µ–Ω–æ–≤ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
}

private void nextTurn() {
  //...
  executeActions(turnActions);  
}

private void executeActions(List<Action> actions) {
  for(Action a : actions) {
    a.execute(board);
  }
}
```

**18. class Main**, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ main

üëç –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `Simulation`, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

## –í–´–í–û–î

–ù–µ –≤–∏–¥–Ω–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –û–û–ü –¥–∞–∂–µ –Ω–∞ —Å–∞–º–æ–º –±–∞–∑–æ–≤–æ–º —É—Ä–æ–≤–Ω–µ: –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –≥–µ—Ç—Ç–µ—Ä—ã, —Å–µ—Ç—Ç–µ—Ä—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã. 
–ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è, –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –∫–∞–∫ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.

–ü–æ—á–∏—Ç–∞–π —Å—Ç–∞—Ç—å–∏, –ø–æ—Å–º–æ—Ç—Ä–∏ –≤–∏–¥–æ—Å–∏–∫–∏ –Ω–∞ —é—Ç—É–±–µ. 
–í–æ–∑–º–æ–∂–Ω–æ, —Å–¥–µ–ª–∞–π –ø–∞—Ä—É –ø—Ä–æ—Å—Ç—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Ä–∞–∑–±–µ—Ä–∏—Å—å —Å Action'–∞–º–∏, –ø–æ—Å–º–æ—Ç—Ä–∏ —Ä–æ–ª–∏–∫–∏ –Ω–∞ —é—Ç—É–±–µ –ø—Ä–æ –ø–∞—Ç—Ç–µ—Ä–Ω "Command", —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ –Ω–µ–º –æ–±—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

–ù–µ –≤–∏–¥–Ω–æ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏- –∫–∞–∫ –¥–µ–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ –∫–ª–∞—Å—Å—ã.  
–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –û–û–ü –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –°–µ—Ä–≥–µ—è –ø—Ä–æ —à–∞—Ö–º–∞—Ç—ã. 
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫–∏ –ù–µ–º—á–∏–Ω—Å–∫–æ–≥–æ –ø—Ä–æ SOLID.

n.101(229)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è 