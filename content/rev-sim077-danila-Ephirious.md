https://github.com/Ephirious/newSimulation  
[–î–∞–Ω–∏–ª–∞]

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞. –°—Ç–∞–ª–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ.

## –•–û–†–û–®–û

+ üëç –°–ø—Ä–∞–π—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö
+ üëç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∞–º–∏—Ö —Å—É—â–µ—Å—Ç–≤–∞—Ö(–º–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è)
+ üëç –ï—Å–ª–∏ –Ω–µ—Ç –µ–¥—ã, —Å—É—â–µ—Å—Ç–≤–∞ –¥–µ–ª–∞—é—Ç —Å–ª—É—á–∞–π–Ω—ã–µ —Ö–æ–¥—ã
+ üëç –ú–µ—Ö–∞–Ω–∏–∫–∞ —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑–∞ —É —Ç—Ä–∞–≤—ã

## –ó–ê–ú–ï–ß–ê–ù–ò–Ø

**1. –ù–µ–π–º–∏–Ω–≥**

–û—Å–æ–±—ã—Ö –∑–∞–º–µ—á–∞–Ω–∏–π –Ω–µ—Ç.  

*Oracle Java code conventions, part."Naming conventions"*  
*–ú–∞—Ä—Ç–∏–Ω, "–ß–∏—Å—Ç—ã–π –∫–æ–¥", –≥–ª.2*  
*–Æ—Ç—É–±, –ù–µ–º—á–∏–Ω—Å–∫–∏–π "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã?"*  

**2. record Coordinates(int row, int column)**

+ üëç –ù–µ—Ç –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. Record –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã- –∏–¥–µ–∞–ª—å–Ω–æ.

+ üëç –•–æ—Ä–æ—à–æ, —á—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è row –∏ column –∞ –Ω–µ x –∏ y. –ú–Ω–µ —Ç–∞–∫ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è.  
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç, –ø—É—Ç–∞–Ω–∏—Ü—ã —Å –ø–æ—Ä—è–¥–∫–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤–∞—Ö: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞(x,y), –∞ –≤ –º–∞—Å—Å–∏–≤–∞—Ö –Ω–∞–æ–±–æ—Ä–æ—Ç- –º–∞—Å—Å–∏–≤[y, x].

**3. class SimulationMap**

- –î–∞–∂–µ –µ—Å–ª–∏ —Å–æ–∑–¥–∞–µ—à—å –∫–∞—Ä—Ç—É —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É, —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–∞—Ä—Ç—ã –ø—É–±–ª–∏—á–Ω—ã–º. –ù–µ –≤–∏–∂—É –æ—Å–Ω–æ–≤–∞–Ω–∏–π, —á—Ç–æ–±—ã –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–∞—Ä—Ç—ã –¥—Ä—É–≥–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏
```
protected SimulationMap(int width, int height)
```

- –ü—Ä–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —É—á–∞—Å—Ç–∏–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã(–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏ —Ç.–¥.), –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å. 
–ï—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞(–Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –ø—Ä–µ–¥–µ–ª–æ–≤ –∫–∞—Ä—Ç—ã), –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
```
public boolean hasEntity(Coordinates coordinates) {
  //—Ç—É—Ç –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
  return entities.containsKey(coordinates);
}
```
–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∫–∞—Ä—Ç–∞ –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä 10—Ö10 –∏ –º—ã —Å–ø—Ä–æ—Å–∏–º –µ—Å—Ç—å –ª–∏ —Å—É—â–µ—Å—Ç–≤–æ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ 200,200 —Ç–æ –∫–∞—Ä—Ç–∞ —Å–µ–π—á–∞—Å –æ—Ç–≤–µ—Ç–∏—Ç, —á—Ç–æ –µ–≥–æ —Ç–∞–º –Ω–µ—Ç. –ê –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: "—Ç–∞–∫–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤–∞–µ—Ç".  

–≠—Ç–æ –∫–∞–∫ —Å –≤–æ–ø—Ä–æ—Å–æ–º *"–¢—ã –±—Ä–æ—Å–∏–ª —É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å –Ω–∞—Ä–∫–æ—Ç–∏–∫–∏?"*.  
–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –Ω–µ–≥–æ —Ç–æ–ª—å–∫–æ —Å –ø–æ–º–æ—â—å—é "–¥–∞/–Ω–µ—Ç"(true/false) –≤–æ–∑–º–æ–∂–Ω–æ –ª–∏—à—å –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Ä–µ—Å–ø–æ–Ω—Ç–µ–Ω—Ç –∏—Ö –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–ø–æ—Ç—Ä–µ–±–ª—è–ª.  
–ï—Å–ª–∏ –Ω–µ —É–ø–æ—Ç—Ä–µ–±–ª—è–ª, —Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ –±—É–∫–≤–µ –æ—Ç–≤–µ—Ç "–Ω–µ—Ç"(–Ω–µ –¥–µ–ª–∞–ª —ç—Ç–æ–≥–æ- –∞ –∑–Ω–∞—á–∏—Ç –∏ –Ω–µ –±—Ä–æ—Å–∞–ª –¥–µ–ª–∞—Ç—å —ç—Ç–æ) –±—É–¥–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–º –ø–æ –µ–≥–æ, –≤–æ–ø—Ä–æ—Å–∞, —Å—É—Ç–∏.

- –ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –≤ –Ω–µ–π–º–∏–Ω–≥–µ. –û–±–∞ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ- –ø—Ä–æ–≤–µ—Ä—è—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –±—Ä–æ—Å–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ —Å–ª—É—á–∞–µ –∏–∑ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏, –æ–±–∞ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `validate`
```
void checkAbsence(Coordinates coordinates)
void validateCoordinates(Coordinates coordinates) 
```

+ üëç –ú–µ—Ç–æ–¥ –Ω–æ—Ä–º. –ï—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã idea –≤ –¥–∞–Ω–Ω–æ–º –º–µ—Ç–æ–¥–µ –Ω–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–ª–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞—Å—Ç–µ, –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é
```
@SuppressWarnings("unchecked") <-- –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–ª—è –∫–∞—Å—Ç–∞
public <T extends Entity> List<T> getEntitiesByType(Class<T> clazz) {
  //...
  result.add(((T) currentEntity));  <-- –∫–∞—Å—Ç
  //...
}
```

+ üëç –í —Ü–µ–ª–æ–º, –∫–ª–∞—Å—Å —Å–¥–µ–ª–∞–Ω —Ö–æ—Ä–æ—à–æ: —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç SRP. 

**4. –ö–ª–∞—Å—Å—ã —Ñ–∞–±—Ä–∏–∫ SimulationMap**

–ï—Å—Ç—å —Å–µ–º–µ–π—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤-—Ñ–∞–±—Ä–∏–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã 
```
abstract class AbstractMapFactory
class SmallMapFactory extends AbstractMapFactory
class MediumMapFactory extends AbstractMapFactory 
class LargeMapFactory extends AbstractMapFactory
```

–§–∞–±—Ä–∏–∫–∏ —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –ö–∞–∂–¥–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –∑–¥–µ—Å—å –ø—Ä–µ–¥–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è
```
public class SmallMapFactory extends AbstractMapFactory {
  private static final int WIDTH = 10;
  private static final int HEIGHT = 10;

  @Override
  public SimulationMap createMap() {
    return new SimulationMap(WIDTH, HEIGHT);
  }
}
```
–ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å, –∫–∞–∫ –µ—Å—Ç—å, –º–æ–∂–Ω–æ –≤–º–µ—Å—Ç–æ –≥—Ä—É–ø–ø—ã –∫–ª–∞—Å—Å–æ–≤ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—É—é —Ñ–∞–±—Ä–∏–∫—É. –¢–æ–≥–¥–∞ –≤–º–µ—Å—Ç–æ —á–µ—Ç—ã—Ä–µ—Ö –∫–ª–∞—Å—Å–æ–≤ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –æ–¥–∏–Ω, –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π
```
public final class SimulationMapFactory {
  private SimulationMapFactory() {}

  public static SimulationMap get(Size size) {
    return new SimulationMap(size.width, size.height);
  }

  public enum Size {
    SMALL(10, 10),
    MEDIUM(20, 20),
    LARGE(30, 30);

    public final int width;
    public final int height;

    Size(int width, int height) {
      this.width = width;
      this.height = height;
    }
  }
}
```
–ù–æ —ç—Ç–æ —É–∂–µ –Ω–∞ —Ç–≤–æ–π –≤–∫—É—Å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ —Ç–∞–∫ –∏ —Ç–∞–∫.

**5. class CoordinatesUtils**

–ó–∞–±—ã–ª –ø–æ—Å—Ç–∞–≤–∏—Ç—å `final`- —É—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–º–∏.

**6. class SimulationMapUtils**

–ü—Ä–∏ –ø–æ–¥—Ö–æ–¥–µ, —è–≤–ª–µ–Ω–Ω–æ–º –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥- —á–∞—Å—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç—Å–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞ `Creature` –∏ –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –Ω–µ–º
```
void moveEntity(SimulationMap worldMap, Coordinates from, Coordinates to, boolean isTargetRemove)
```

**7. –ü–æ–∏—Å–∫ –ø—É—Ç–∏** 

+ üëç –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ —ç—Ç–æ —Ö–æ—Ä–æ—à–æ. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞: BFS –∏ AStar, —á—Ç–æ –∑–¥–µ—Å—å –∏ —Å–¥–µ–ª–∞–Ω–æ.

+ üëç –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –ø–æ–∏—Å–∫–∞ –æ–∫
```
public abstract List<Coordinates> find(Coordinates source, Class<? extends Entity> target)
```

**8. abstract class Entity –∏ –µ–≥–æ "—Å—Ç–∞—Ç–∏—á–Ω—ã–µ" –ø–æ—Ç–æ–º–∫–∏ Tree, Rock**

–ù–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –æ—Å–Ω–æ–≤–∞–Ω–∏–π –¥–µ–ª–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `protected`. –°–¥–µ–ª–∞–π –µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã–º.

**9. class Grass extends Entity**

–ö–ª–∞—Å—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º —Å–µ–±—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –°–µ–π—á–∞—Å –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä —Ç—Ä–∞–≤—ã —Ç–æ–ª—å–∫–æ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –ê —Å –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω—ã–º–∏- –Ω–µ —Å–º–æ–∂–µ—Ç
```
private int nutritionValue;
private final int decreaseValue;

protected Grass() {
  this.nutritionValue = randomizer.nextInt(NUTRITION_LOWER_BOUND, NUTRITION_UPPER_BOUND);
  this.decreaseValue = randomizer.nextInt(DECREASE_LOWER_BOUND, DECREASE_UPPER_BOUND);
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
protected Grass(int nutritionValue, int decreaseValue) {...}
```
*–ú–∞—Ä—Ç–∏–Ω, "–ß–ö", –≥–ª.11.2* 

–¢–µ–º –±–æ–ª–µ–µ, —Ç—Ä–∞–≤—É —Ç—ã, —Å—Ä–µ–¥–∏ –ø—Ä–æ—á–µ–≥–æ, —Å–æ–∑–¥–∞–µ—à—å —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É. –ü—É—Å—Ç—å —Ç–æ–≥–¥–∞ —Ñ–∞–±—Ä–∏–∫–∞ –∏ –≤—ã—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–Ω–¥–æ–º–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç—Ä–∞–≤—ã
```
public class UnmovedEntitiesFactory implements EntityFactory {
  //...
  public Entity create() {
    //...
    case GRASS -> returningEntity = new Grass();
  }
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
case GRASS -> returningEntity = new Grass(getRandomGrassNutrition(), getRandomGrassDecrease());
//getRandomGrassNutrition(), getRandomGrassDecrease() - –º–µ—Ç–æ–¥—ã –≤ —Ñ–∞–±—Ä–∏–∫–µ
```

**10. abstract class Creature extends Entity**

- –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å protected, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ 
```
public abstract void eat(SimulationMap worldMap, Coordinates target);
```

- –ö–∞–∫–æ–≤–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è, –º–µ—Ä—Ç–≤—ã–π –Ω–µ–≥—Ä –º–æ–∂–µ—Ç –∏–≥—Ä–∞—Ç—å –≤ –±–∞—Å–∫–µ—Ç–±–æ–ª, –∞ –º–µ—Ä—Ç–≤–æ–µ —Å—É—â–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç —Ö–æ–¥–∏—Ç—å? 
–ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –≤ –Ω–∞—á–∞–ª–µ –º–µ—Ç–æ–¥–∞ –¥–≤–∏–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø—ã—Ç–∞—é—Ç—Å—è –¥–≤–∏–Ω—É—Ç—å –º–µ—Ä—Ç–≤–æ–≥–æ
```
void move(SimulationMap worldMap)
```

**11. class Predator/Herbivore extends Creature**

+ üëç –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ –º–∞–∫—Å–∏–º—É–º—É –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –ø—Ä–µ–¥–∫–∞- `Creature`

- –ù–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–∏—á–∏–Ω –¥–µ–ª–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `protected`, –æ—Å—Ç–∞–≤—å –µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã–º.

**12. –§–∞–±—Ä–∏–∫–∏ —Å—É—â–µ—Å—Ç–≤**

- –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–∞–±—Ä–∏–∫–∏. –ü—Ä–∏—á–µ–º, –Ω–µ –æ–¥–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞ –Ω–∞ –≤—Å–µ—Ö –∏ –Ω–µ –ø—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–±—Ä–∏–∫ –ø–æ–¥ –∫–∞–∂–¥—ã–π –≤–∏–¥ —Å—É—â–µ—Å—Ç–≤.  
–ê –æ–¥–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è –ó–∞–π—Ü–∞, –æ–¥–Ω–∞ –¥–ª—è –í–æ–ª–∫–∞ –∏ –æ–¥–Ω–∞ –æ–±—â–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è "—Å—Ç–∞—Ç–∏—á–Ω—ã—Ö" —Å—É—â–µ—Å—Ç–≤: –¢—Ä–∞–≤–∞, –ö–∞–º–µ–Ω—å, –î–µ—Ä–µ–≤–æ.  
–í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –æ–¥–Ω—É –æ–±—â—É—é —Ñ–∞–±—Ä–∏–∫—É —Å—É—â–µ—Å—Ç–≤ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –º–æ–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º —Å–¥–µ–ª–∞—Ç—å –æ–¥–Ω—É —Ñ–∞–±—Ä–∏–∫—É –∫–∞—Ä—Ç—ã.

- –í –¥–∞–Ω–Ω–æ–º –≤–∏–¥–µ —Ñ–∞–±—Ä–∏–∫–∞ –Ω–µ –¥–µ–ª–∞–µ—Ç –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ, —á–µ–º –æ–±—ã—á–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Herbivore`.  
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏, —ç—Ç–æ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω "–ü–æ–ª—Ç–µ—Ä–≥–µ–π—Å—Ç"- –∫–ª–∞—Å—Å –ø–æ–ª—É—á–∞–µ—Ç –≤ —Å–µ–±—è –¥–∞–Ω–Ω—ã–µ –∏ —Ç—Ä–∞–∑–∏—Ç–æ–º –ø–µ—Ä–µ–¥–∞–µ—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥—Ä—É–≥–æ–≥–æ –∫–ª–∞—Å—Å–∞, –Ω–∞ —ç—Ç–æ–º –≤—Å—ë
```
public class HerbivoreFactory implements EntityFactory {
  private final int healthPoints;
  private final Speed speed;
  private final PathFinder finder;

  public HerbivoreFactory(int healthPoints, Speed speed, PathFinder finder) {...}

  @Override
  public Entity create() {
    return new Herbivore(healthPoints, speed, finder);
  }
}
```

- –ò–∑–±—ã—Ç–æ—á–Ω–æ
```
public Entity create() {
  Entity returningEntity = null;
  switch (type) {
    case ROCK -> returningEntity = new Rock();
    case TREE -> returningEntity = new Tree();
  }
  return returningEntity;
}

//–ü–†–ê–í–ò–õ–¨–ù–û:
public Entity create() {
  return switch (type) {
    case ROCK ->  new Rock();
    case TREE ->  new Tree();
    default -> ... //–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
  }
}
```

**13. interface Command**, —Ç–æ, —á—Ç–æ –≤ –¢–ó –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `Action`

üëç Action/Command –≤ –≤–∏–¥–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∞ –Ω–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞- –æ–∫
```
public interface Command {
  void execute();
}
```

**14. class InitCommandsFactory extends AbstractCommandsFactory**

- –≠—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã(PERCENT), –∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∫–∞—Ä—Ç–µ 10—Ö10, –≤ –Ω–µ–π –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ 10 –∫–∞–º–Ω–µ–π(—è –ø—Ä–æ–≤–µ—Ä—è–ª): 10 * 10 * 0.1 = 10.
–ü–æ—ç—Ç–æ–º—É –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π –Ω–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç, –∏–ª–∏ –ø—Ä–æ—Ü–µ–Ω—Ç—ã —Å–¥–µ–ª–∞–π –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
```
//–ö–û–≠–§–§–ò–¶–ò–ï–ù–¢:
private static final double ROCK_PERCENT = 0.1f;

//–ü–†–û–¶–ï–ù–¢–´:
private static final int ROCK_PERCENT = 10;
```

- –ò–∑–±—ã—Ç–æ—á–Ω–æ –º–Ω–æ–≥–æ –∫–æ–¥–∞, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ. –Ø –±—ã —Å–æ–∫—Ä–∞—Ç–∏–ª –¥–æ —Ç–∞–∫–æ–≥–æ
```
  public List<Command> getCommands() {
    List<Command> initCommands = new LinkedList<>();

    int mapSize = worldMap.getWidth() * worldMap.getHeight();

    Map<EntityFactory, Double> map = Map.of(
        new UnmovedEntitiesFactory(UnmovedEntityType.ROCK), ROCK_PERCENT,
        new UnmovedEntitiesFactory(UnmovedEntityType.TREE), TREE_PERCENT,
        new UnmovedEntitiesFactory(UnmovedEntityType.GRASS), GRASS_PERCENT,
        new HerbivoreFactory(Creature.MAX_HP, Speed.getRandomSpeed(), finder), HERBIVORE_PERCENT,
        new PredatorFactory(Creature.MAX_HP, Speed.getRandomSpeed(), finder, Damage.getRandomDamage()), PREDATOR_PERCENT
    );

    for (Map.Entry<EntityFactory, Double> entry : map.entrySet()) {
     int amount = ((int) (mapSize * entry.getValue()));

      initCommands.add(new PlaceEntityCommand(
          worldMap,
          () -> SimulationMapUtils.getFreeCoordinates(worldMap),
          amount,
          entry.getKey()
      ));
    }
    return initCommands;
  }
```

**15. class MoveCreaturesCommand extends AbstractCommandMap**

- –õ—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å –≤ `Creature` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥. –£ —Ç—Ä–∞–≤—ã –µ—Å—Ç—å `boolean isAlive()`, —á–µ–º `Creature` —Ö—É–∂–µ? 
```
if (current.getHealthPoints() > Creature.MIN_HP) {
  current.move(worldMap);  //
} else {
  //–¥–µ–π—Å—Ç–≤–∏—è –µ—Å–ª–∏ –º–µ—Ä—Ç–≤—ã–π  
}

//–õ–£–ß–®–ï:
if (current.isAlive()) {
  current.move(worldMap);  //
} else {
  //–¥–µ–π—Å—Ç–≤–∏—è –µ—Å–ª–∏ –º–µ—Ä—Ç–≤—ã–π  
}
```

- –î–∏—Å–∫—É—Å—Å–∏–æ–Ω–Ω–æ: —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è SRP, –Ω–µ –∏–º–µ–µ—Ç –ª–∏ —Å–µ–π—á–∞—Å –∫–ª–∞—Å—Å –¥–≤–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: —É–±–æ—Ä–∫–∞ –º–µ—Ä—Ç–≤—ã—Ö —Å—É—â–µ—Å—Ç–≤ —Å –∫–∞—Ä—Ç—ã –∏ –¥–≤–∏–∂–µ–Ω–∏–µ –∂–∏–≤—ã—Ö –∫—Ä–µ–∞—Ç—É—Ä?

–í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∫–ª–∞—Å—Å –Ω–∞ –¥–≤–∞: –æ–¥–∏–Ω –¥–æ–ª–∂–µ–Ω —É–±–∏—Ä–∞—Ç—å –º–µ—Ä—Ç–≤—ã–µ —Å—É—â–µ—Å—Ç–≤–∞ —Å –∫–∞—Ä—Ç—ã(–∏ –∫—Ä–µ–∞—Ç—É—Ä—ã –∏ —Ç—Ä–∞–≤—É), –≤—Ç–æ—Ä–æ–π- –¥–≤–∏–≥–∞—Ç—å –∂–∏–≤—ã—Ö.  
–¢—Ä–∞–≤–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∂–∏–≤–∞, –∫—Ä–µ–∞—Ç—É—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∂–∏–≤—ã- –≤–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–∏ —Å—É—â–µ—Å—Ç–≤–∞ –¥–æ–ª–∂–Ω—ã –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–æ–π-—Ç–æ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑–æ–≤–∞—Ç—å –∏—Ö "–∂–∏–≤–æ–µ" –ª–∏–±–æ "–Ω–µ–∂–∏–≤–æ–µ" —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

**16. class Main**, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ main

+ üëç –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –°–∏–º—É–ª—è—Ü–∏—é, —ç—Ç–æ —Ö–æ—Ä–æ—à–æ.

## –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

–¢–∞–∫ –∫–∞–∫ —Å –û–û–ü –∞ –±–∞–∑–æ–≤–æ–º —É—Ä–æ–≤–Ω–µ —É —Ç–µ–±—è –≤—Å–µ –æ–∫, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –±–æ–ª–µ–µ —Ç–æ–Ω–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã.

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º –Ω—É–∂–Ω–æ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É –¥–≤—É–º—è –∫—Ä–∞–π–Ω–æ—Å—Ç—è–º–∏.  
–ü–µ—Ä–≤–∞—è –∫—Ä–∞–π–Ω–æ—Å—Ç—å —ç—Ç–æ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω **hard –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** , –∫–æ–≥–¥–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –º–∏–Ω–∏–º—É–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä —ç—Ç–æ–≥–æ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–∞- –∫–æ–≥–¥–∞ –∫–∞—Ä—Ç–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
```
class GameMap {
  //...
  public GameMap() { <-- –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –ö–û–ù–°–¢–†–£–ö–¢–û–†
    this.width = 15; <-- –ü–†–ò–ú–ï–† –ê–ù–¢–ò–ü–ê–¢–¢–ï–†–ù–ê "–ñ–ï–°–¢–ö–û–ï –ö–û–î–ò–†–û–í–ê–ù–ò–ï"
    this.height = 20;
  }
  //...
}
```
–í—Ç–æ—Ä–∞—è –∫—Ä–∞–π–Ω–æ—Å—Ç—å- **soft –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**, –∫–æ–≥–¥–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –º–∞–∫—Å–∏–º—É–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É —Å—É–ø–µ—Ä–≥–∏–±–∫–æ–π –Ω–æ —Ç–∞–∫–æ–π –∂–µ —Å—É–ø–µ—Ä–Ω–µ–ø–æ—è–Ω—Ç–Ω–æ–π. 
–ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ä–∞–∑—É–º–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –∫—Ä–∞–π–Ω–æ—Å—Ç—è–º–∏.

**–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ**

–î–µ–ª–∞–µ–º –∫–ª–∞—Å—Å –•–∏—â–Ω–∏–∫. –•–∏—â–Ω–∏–∫ –∏–º–µ–µ—Ç –æ—á–∫–∏ –∂–∏–∑–Ω–∏, —Å–∫–æ—Ä–æ—Å—Ç—å, —É—Ä–æ–≤–µ–Ω—å –Ω–∞–Ω–æ—Å–∏–º–æ–≥–æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –∏ —Ç.–¥.  
–ï—Å–ª–∏ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–∂–µ–∫—Ç–∏—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, ***—ç—Ç–æ —à–∞–≥*** –≤ —Å—Ç–æ—Ä–æ–Ω—É —Å–æ—Ñ—Ç.   
–ï—Å–ª–∏ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç, —Ö—Ä–∞–Ω–∏–º—ã—Ö –≤ —Å–∞–º–æ–º –∫–ª–∞—Å—Å–µ- ***—ç—Ç–æ —à–∞–≥*** –≤ —Å—Ç–æ—Ä–æ–Ω—É —Ö–∞—Ä–¥.
```
//to hard
public Predator() {
  this.hp = HP;  
  this.speed = SPEED;
  this.damage = DAMAGE;
  //oth's
}

//to soft
public Predator(int healthPoints, Speed speed, PathFinder finder, Damage damage)  <-- –¢–ê–ö –°–ï–ô–ß–ê–°
```
–ö–∞–∫ –ª—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å? –í —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞- –º–æ–∂–Ω–æ –∏ —Ç–∞–∫ –∏ —Ç–∞–∫.  
to hard –ø–æ–¥—Ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç KISS.  
to soft –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –≥–¥–µ —Ä–∞–∑–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç –∏–º–µ—Ç—å –ø–µ—Ä—Å–æ–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–∏–ø–∞ "–±—ã—Å—Ç—Ä—ã–π –≤–æ–ª–∫", "–º–µ–¥–ª–µ–Ω–Ω—ã–π –≤–æ–ª–∫".

–í—ã–±–æ—Ä —Å–æ—Ñ—Ç –ø–æ–¥—Ö–æ–¥–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –•–∏—â–Ω–∏–∫–∞ –∏ –µ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–¥–µ—Å—å –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ.

–ù–æ –æ–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ö–∏—â–Ω–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ, –≤–µ–¥—å –∫—Ç–æ-—Ç–æ –¥–æ–ª–∂–µ–Ω –≤ —Å–µ–±–µ —Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫.  
–ê –∑–Ω–∞—á–∏—Ç, –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É/—Ñ–∞–±—Ä–∏–∫–∏ —Å—É—â–µ—Å—Ç–≤, —Ç–æ –µ—Å—Ç—å, —É—Å–ª–æ–∂–Ω—è–µ—Ç—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.  

–î–∞–ª–µ–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ñ–∞–±—Ä–∏–∫ —Å–Ω–æ–≤–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–≤–∏–ª–∫–∞.  
–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—É—é —Ñ–∞–±—Ä–∏–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤, –ª–∏–±–æ —Å–µ–º–µ–π—Å—Ç–≤–æ —Ñ–∞–±—Ä–∏–∫ —Å –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–æ–π –ø–æ–¥ –∫–∞–∂–¥–æ–µ —Å—É—â–µ—Å—Ç–≤–æ
```
//(1)
public interface EntityFactory {
   Entity get(Class<? extends Entity> clazz);
}
class DefaultEntitiesFactory implements EntityFactory 

//(2), –°–ï–ô–ß–ê–° –¢–ê–ö
public interface EntityFactory {
  Entity create();
}
class UnmovedEntitiesFactory implements EntityFactory 
class HerbivoreFactory implements EntityFactory 
class PredatorFactory implements EntityFactory 
```
–°–µ–π—á–∞—Å —Å–¥–µ–ª–∞–Ω –≤—ã–±–æ—Ä –≤ –ø–æ–ª—å–∑—É –≤—Ç–æ—Ä–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏ –∑–¥–µ—Å—å –∫–∞–∂–µ—Ç—Å—è –∏–¥–µ—Ç —Å–∫–∞—Ç—ã–≤–∞–Ω–∏–µ —á–∏—Å—Ç–æ –≤ –∫—Ä–∞–π–Ω–æ—Å—Ç—å —Å–æ—Ñ—Ç-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. 
–ü–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤ —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –∏—Ö —Å–≤—è–∑—è—Ö —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å–µ —Ç—Ä—É–¥–Ω–µ–µ.  
–ò, –∫–∞–∫ —è –ø–∏—Å–∞–ª –≤—ã—à–µ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∞—Å—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø–æ–ª—Ç–µ—Ä–≥–µ–π—Å—Ç–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `PredatorFactory`. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –•–∏—â–Ω–∏–∫–∞: —Ñ–∞–±—Ä–∏–∫–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ —Å–µ–±—è –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ö–∏—â–Ω–∏–∫–∞ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ö–∏—â–Ω–∏–∫–∞, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤ –Ω–µ–≥–æ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.  

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Ñ–∞–±—Ä–∏–∫–∏ —Ö–∏—â–Ω–∏–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–ª–∞—Å—Å–µ `InitCommandsFactory`, –æ–Ω –∂–µ —Ö—Ä–∞–Ω–∏—Ç –≤ —Å–µ–±–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∞–±—Ä–∏–∫–∏. –≠—Ç–æ —Ç–µ —Å–∞–º—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–∞–Ω–∑–∏—Ç–æ–º –∏–¥—É—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ö–∏—â–Ω–∏–∫–∞.  
–ò –≤–æ—Ç –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —Å–æ—Ñ—Ç-—É–∫–ª–æ–Ω —Ç–µ—Ä—è–µ—Ç –≤—Å—è–∫–∏–π —Å–º—ã—Å–ª, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ö–æ—Ç—è —Ñ–∞–±—Ä–∏–∫–∏ —Å–¥–µ–ª–∞–Ω—ã —Å—É–ø–µ—Ä–≥–∏–±–∫–∏–º–∏, –≤—Å–µ —Ä–∞–≤–Ω–æ –¥–∞–Ω–Ω—ã–µ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ —Å—É—â–µ—Å—Ç–≤(–∂–∏–∑–Ω–∏, —Å–∫–æ—Ä–æ—Å—Ç—å), –≤—Å–µ —Ä–∞–≤–Ω–æ —Ö—Ä—è–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç. –ù–æ —É–∂–µ –≤ `InitCommandsFactory`.

–ü–æ—ç—Ç–æ–º—É –ª–∏—á–Ω–æ —è –±—ã —Å–¥–µ–ª–∞–ª –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞–±—Ä–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç –ª—é–±–æ–µ —Å—É—â–µ—Å—Ç–≤–æ
```
public interface EntityFactory {
   Entity get(Class<? extends Entity> clazz);
}
```
–î–∞–ª–µ–µ —Å–¥–µ–ª–∞–ª –±—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ–∞–±—Ä–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –±—ã —Ö—Ä–∞–Ω–∏–ª–∞ –≤ —Å–µ–±–µ —Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –≤ —Å–µ–±–µ —Ö—Ä–∞–Ω–∏—Ç `InitCommandsFactory`
```
public class DefaultEntityFactory implements EntityFactory {
  private static final int HP = 100;
  private final PathFinder finder;
  //oth's

  private DefaultEntityFactory(SimulationMap simulationMap) {
    this.finder = new AStar(simulationMap);
  }

  @Override
  public Entity get(Class<? extends Entity> clazz) {
    return switch (clazz.getSimpleName()) {
      case "Tree" -> new Tree();
      case "Herbivore" -> new Herbivore(HP,  Speed.getRandomSpeed(), finder);
      //...
      default -> throw new IllegalStateException(/* message */);
    };
  }
}
```
–ò –¥–∞–ª–µ–µ –∏–Ω–∂–µ–∫—Ç–∏–ª –±—ã —ç—Ç—É —Ñ–∞–±—Ä–∏–∫—É –≤ –ö–æ–º–º–∞–Ω–¥—É
```
EntityFactory entityFactory = new DefaultEntityFactory(simulationMap);
List<Command> initCommands = List.of(
  new SpawnCommand(simulationMap, entityFactory), <-- –ó–ê–°–ï–õ–Ø–ï–¢ –°–£–©–ï–°–¢–í –ù–ê –ö–ê–†–¢–£ –í –ù–£–ñ–ù–û–ú –ö–û–õ–ò–ß–ï–°–¢–í–ï(–†–ê–°–°–ß–ò–¢–´–í–ê–ï–¢ –ö–û–õ–ò–ß–ï–°–¢–í–û –ò–ó –ü–õ–û–©–ê–î–ò)
  //
);
```
–¢–æ–≥–¥–∞, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∞–ª–≥–æ—Ä–∏—Ç–º —Å—Ç–∞–ª –±—ã –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º. –ü–ª—é—Å—ã: –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ñ–∞–±—Ä–∏–∫–∏ —Å—É—â–µ—Å—Ç–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–µ–ª–∞—Ç—å —Å—É—â–µ—Å—Ç–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏.

–ù–æ —ç—Ç–æ —Ç–∞–∫, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—é, –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞—Ç—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.  

## –í–´–í–û–î

–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞–ª–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ. –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–º–µ—á–∞–Ω–∏—è –Ω–µ –æ—Å–æ–±–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, –≥—Ä—É–±—ã—Ö –æ—à–∏–±–æ–∫ –Ω–µ—Ç.  
–ù–∞ –º–æ–π –≤–∑–≥–ª—è–¥, –∏–º–µ–µ—Ç—Å—è –∏–∑–ª–∏—à–Ω–µ–µ —É–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∞–º–∏- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ö –∫–ª–∞—Å—Å–æ–≤ –º–æ–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å, –æ–±—ä–µ–¥–∏–Ω–∏–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤ –≤ –æ–¥–∏–Ω. 
–í–ø—Ä–æ—á–µ–º, —ç—Ç–æ —Ç–æ–∂–µ —Å–∫–æ—Ä–µ–µ –¥–µ–ª–æ –ª–∏—á–Ω–æ–≥–æ –≤–∫—É—Å–∞, –∞ –Ω–µ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ.  
–í —Ü–µ–ª–æ–º, –æ–∫.

n.77(166)  
#—Ä–µ–≤—å—é #—Å–∏–º—É–ª—è—Ü–∏—è